!function(d,t,i,s){var e="contributorsList",o={dataUrl:"https://s3.us-east-2.amazonaws.com/statistic.engcom.magento.com/magento.com/devdocs-contributors.js",periodTypes:"monthly,quarterly,yearly",periodTypesSettings:{monthly:{value:"monthly",label:"Monthly",periodsLimit:12,contributorsLimit:20},quarterly:{value:"quoter",label:"Quarterly",periodsLimit:12,contributorsLimit:20},yearly:{value:"years",label:"Yearly",periodsLimit:5,contributorsLimit:20}},periodsLimit:null,contributorsLimit:null,periodSwitcherClass:"periods",periodTypeSwitcherClass:"period-type-switcher",loadingClass:"loading",activeClass:"active",loadedClass:"loaded",hiddenClass:"hide",periodClass:"contributors-period",contributorsListClass:"contributors-list",contributorClass:"contributor",contributorNameClass:"contributor-name",contributorAvatarClass:"contributor-avatar",contributorStatsClass:"contributor-stats"};function a(t,i){var c=this;this.element=t,this.$element=d(t),this._defaults=o,this._name=e,this.metadata=this.$element.data(),this.options=d.extend(!0,{},o,i,this.metadata),this.onDataFail=function(t){c.$element.removeClass(c.options.loadingClass)},this.onDataLoaded=function(a){c.$element.removeClass(c.options.loadingClass).addClass(c.options.loadedClass);var r="",n="",t="",l="",i=c.options.periodTypes.replace(/\s/g,"").toLowerCase().split(",");d.each(i,function(t,i){var s=c.options.periodTypesSettings[i]?c.options.periodTypesSettings[i].value:null;if(a[s]&&s){var e={value:s,label:c.options.periodTypesSettings[i].label,class:c.options.periodClass+(0!=t?" "+c.options.hiddenClass:""),periodsLimit:c.options.periodTypesSettings[i].periodsLimit,contributorsLimit:c.options.contributorsLimit?c.options.contributorsLimit:c.options.periodTypesSettings[i].contributorsLimit};n+='<button class="'+(0==t?c.options.activeClass:"")+'" data-period-type="'+e.value+'">'+e.label+"</button>";var o=c.buildContributorsPeriod(a[e.value],e);l+=o.switcher,r+=o.contributors}}),1<i.length&&(t='<div class="'+c.options.periodTypeSwitcherClass+'">'+n+"</div>");var s='<div class="'+c.options.periodSwitcherClass+'">'+t+l+"</div>",e=d(s+r);e.find("select").on("change",c.handlePeriodChange),e.find("."+c.options.periodTypeSwitcherClass+" button").on("click",c.handlePeriodTypeChange),c.$element.append(e),c.loadImages(c.$element.find("img:visible"))},this.loadImages=function(t){t.each(function(){d(this).attr("src",d(this).data("src"))})},this.buildContributorsPeriod=function(o,a){var t=o.periods.reverse().slice(0,a.periodsLimit),i="",r="",n="";return d.each(t,function(t,i){var s=i,e={periodValue:s.value,periodLabel:s.label,contributorsLimit:a.contributorsLimit,contributorsListClass:c.options.contributorsListClass+(0!=t?" "+c.options.hiddenClass:"")};r+='<option value="'+e.periodValue+'">'+e.periodLabel+"</option>",n+=c.buildContributorsList(o.contributors[e.periodValue],e)}),1<t.length&&(i='<select class="'+a.class+'" data-period-type="'+a.value+'">'+r+"</select>"),{switcher:i,contributors:n='<div class="'+a.class+'" data-period-type="'+a.value+'">'+n+"</div>"}},this.buildContributorsList=function(t,i){var s="";return t=t.slice(0,i.contributorsLimit),d.each(t,function(t,i){s+=c.buildContributor(i)}),'<div class="'+i.contributorsListClass+'" data-period="'+i.periodValue+'">'+s+"</div>"},this.buildContributor=function(t){var i=t.name,s=t.avatar,e=t.user_link;if("https://github.com/ghost"==e)return"";var o=t.accepted,a=t.accepted_url,r=t.created,n=t.created_url,l=t.rejected,d=t.rejected_url,p='<ul class="'+c.options.contributorStatsClass+'"><li><span>Accepted</span> <a href="'+a+'">'+o+'</a></li><li><span>Created</span> <a href="'+n+'">'+r+'</a></li><li><span>Rejected</span> <a href="'+d+'">'+l+"</a></li></ul>";return'<div class="'+c.options.contributorClass+'"><a href="'+e+'"><div class="'+c.options.contributorAvatarClass+'"><img data-src="'+s+'" alt="'+i+'" /></div><h5 class="'+c.options.contributorNameClass+'">'+i+"</h5></a>"+p+"</div>"},this.handlePeriodChange=function(t){var i=t.target.value,s=t.target.getAttribute("data-period-type"),e=c.$element.find("."+c.options.periodClass+'[data-period-type="'+s+'"] .'+c.options.contributorsListClass);e.addClass(c.options.hiddenClass).filter('[data-period="'+i+'"]').removeClass(c.options.hiddenClass),c.loadImages(e.find("img:visible"))},this.handlePeriodTypeChange=function(t){var i=t.target.getAttribute("data-period-type");d(this).addClass(c.options.activeClass).siblings().removeClass(c.options.activeClass),c.$element.find("."+c.options.periodClass).addClass(c.options.hiddenClass).filter('[data-period-type="'+i+'"]').removeClass(c.options.hiddenClass),c.loadImages(c.$element.find("img:visible"))},this.init()}a.prototype.init=function(){this.$element.addClass(this.options.loadingClass),d.getJSON(this.options.dataUrl,this.onDataLoaded).fail(this.onDataFail)},d.fn[e]=function(t){return this.each(function(){d.data(this,"plugin_"+e)||d.data(this,"plugin_"+e,new a(this,t))})}}(jQuery,window,document),$(function(){$(".devdocs-contributors").contributorsList()});