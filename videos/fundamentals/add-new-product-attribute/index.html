<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>How to Add a New Product Attribute | Magento 2 Developer Documentation</title>
	<meta name="description" content="Magento 2 Developer Documentation.
">
	<meta http-equiv="last-modified" content="" />

	<link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,700,600,300,800' rel='stylesheet' type='text/css'>

	<link rel="stylesheet" href="/css/app.css" />
	<link rel="stylesheet" href="/css/print.css" media="print" />
	<link rel="canonical" href="//videos/fundamentals/add-new-product-attribute/">

    <!-- WebUI popover css -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/jquery.webui-popover/1.2.1/jquery.webui-popover.min.css">

  <script>
    var baseUrl = "/";
  </script>

	<!-- crazyegg -->
	<script type="text/javascript">
	setTimeout(function(){var a=document.createElement("script");
	var b=document.getElementsByTagName("script")[0];
	a.src=document.location.protocol+"//script.crazyegg.com/pages/scripts/0038/0321.js?"+Math.floor(new Date().getTime()/3600000);
	a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
	</script>

    <!-- heap analytics -->
    <script type="text/javascript">
        window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=(r?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n);for(var o=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["addEventProperties","addUserProperties","clearEventProperties","identify","removeEventProperty","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=o(p[c])};
        heap.load("2619540280");
    </script>

	<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="https://magento.com/favicon.ico">
	<link rel="apple-touch-icon" type="image/png" href="https://magento.com/apple-touch-icon.png">
	<link rel="apple-touch-icon" type="image/png" sizes="57x57" href="https://magento.com/apple-touch-icon-57x57.png">
	<link rel="apple-touch-icon" type="image/png" sizes="72x72" href="https://magento.com/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="https://magento.com/apple-touch-icon-76x76.png">
	<link rel="apple-touch-icon" type="image/png" sizes="114x114" href="https://magento.com/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="https://magento.com/apple-touch-icon-120x120.png">
	<link rel="apple-touch-icon" type="image/png" sizes="144x144" href="https://magento.com/apple-touch-icon-144x144.png">
	<link rel="apple-touch-icon" type="image/png" sizes="152x152" href="https://magento.com/apple-touch-icon-152x152.png">
	<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="https://magento.com/apple-touch-icon-180x180.png">

</head>
<body>

<header class="site-header">

	<nav id="global-nav">

		<div class="menu-btn"><a class="menu-trigger menu-icon" href="#"></a></div>

		<div class="container">

			<a class="logo" href="/"><img src="/i/m-logo.svg" alt=""><img src="/i/magento-logo.svg" alt="Magento" class="magento-logo" /><img src="/i/devdocs-logo.svg" alt="Devdocs" class="devdocs-logo" /></a>

			
<div class="version-switcher dropdown">
	<button id="version-switcher-button" class="btn btn-small dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Magento 2.1
	</button>

	<ul class="dropdown-menu dropdown-menu-left" aria-labelledby="version-switcher-button">
	
		<li><a class="dropdown-item" href="/guides/v2.0/">Magento 2.0</a></li>
	
		<li><a class="dropdown-item" href="/guides/v2.1/">Magento 2.1</a></li>
	
		<li><a class="dropdown-item" href="/guides/v2.2/">Magento 2.2 RC</a></li>
	
  </ul>

</div>



			<!-- Main Navigation -->
<div class="nav-main">
  <ul>
    <li class="first">
      <a href="#">Setup and Deployment</a>
        <ul class="menu nav">
          <li><a href="https://magento.com/tech-resources/download" target="_blank">Get Started with Magento DevBox Beta</a></li>
            <li><a href="/guides/v2.1/install-gde/bk-install-guide.html">Installation Guide</a></li>
          
          <li class="leaf"><a href="/guides/v2.1/comp-mgr/bk-compman-upgrade-guide.html">Component Manager and System Upgrade Guide</a></li>
          
          <li class="leaf"><a href="/guides/v2.1/config-guide/bk-config-guide.html">Configuration Guide</a></li>
          <li class="leaf"><a href="/guides/v2.1/migration/bk-migration-guide.html">Migration Guide</a></li>
          <li class="leaf"><a href="/guides/v2.1/cloud/bk-cloud.html">Enterprise Cloud Edition Guide</a></li>
          <li class="leaf"><a href="/magento-release-information.html">Release Information</a></li>
        </ul>
    </li>

    <li>
        <a href="#">Development</a>
        <ul class="menu nav">
          <li class="leaf"><a href="/guides/v2.1/architecture/bk-architecture.html">Architecture Guide</a></li>
          <li class="leaf"><a href="/guides/v2.1/extension-dev-guide/bk-extension-dev-guide.html">PHP Developer Guide</a></li>
          <li class="leaf"><a href="/guides/v2.1/ext-best-practices/bk-ext-best-practices.html">Extension Developer Best Practices</a></li>
          <li><a href="/guides/v2.1/payments-integrations/bk-payments-integrations.html">Payments Integrations</a></li>
          <li class="leaf"><a href="/guides/v2.1/mrg/intro.html">Module Reference Guide</a></li>
          <li class="leaf"><a href="/guides/v2.1/coding-standards/bk-coding-standards.html">Coding Standards</a></li>
          
          <li class="leaf"><a href="/guides/v2.1/extension-dev-guide/staging.html">Staging</a></li>
          
          <li class="first leaf"><a href="/guides/v2.1/contributor-guide/contributing.html">Contributor Guide</a></li>
        </ul>
    </li>

    <li>
        <a href="#">Frontend</a>
        <ul class="menu nav">
          <li class="first leaf"><a href="/guides/v2.1/frontend-dev-guide/bk-frontend-dev-guide.html">Frontend Developer Guide</a></li>
          
          <li class="leaf"><a href="/guides/v2.1/ui_comp_guide/bk-ui_comps.html">UI Components Guide</a></li>
          
          <li class="leaf"><a href="/guides/v2.1/javascript-dev-guide/bk-javascript-dev-guide.html">JavaScript Developer Guide</a></li>
          <li class="leaf"><a href="/guides/v2.1/pattern-library/bk-pattern.html">Admin Design Pattern Library</a></li>
          <li class="leaf"><a href="/guides/v2.1/design-styleguide/bk-styleguide.html">Admin Style Guide</a></li>
        </ul>
    </li>

    <li>
        <a href="#">API</a>
        <ul class="menu nav">
          <li class="leaf"><a href="/guides/v2.1/get-started/bk-get-started-api.html">Get Started with Magento Web APIs</a></li>
          <li class="leaf"><a href="/guides/v2.1/rest/bk-rest.html">REST API Reference</a></li>
          <li class="leaf"><a href="/guides/v2.1/soap/bk-soap.html">SOAP API Reference</a></li>
        </ul>
    </li>

    <li>
        <a href="#">Testing</a>
        <ul class="menu nav">
          <li class="leaf"><a href="/guides/v2.1/test/testing.html">Magento Testing Guide</a></li>
          <li class="leaf"><a href="/guides/v2.1/mtf/mtf_introduction.html">Functional Testing</a></li>
          <li class="leaf"><a href="/guides/v2.1/test/integration/integration_test_execution.html">Integration Testing</a></li>
          <li class="leaf"><a href="/guides/v2.1/test/js/jasmine.html">JavaScript Unit Testing</a></li>
          <li class="leaf"><a href="/guides/v2.1/test/unit/unit_test_execution.html">PHP Unit Testing</a></li>
          <li class="leaf"><a href="/guides/v2.1/get-started/web-api-functional-testing.html">Web API Functional Testing</a></li>
        </ul>
    </li>

    <li>
      <a href="/guides/v2.1/howdoi/bk-how-do-i.html">How Tos</a>
    </li>

    <li>
      <a href="/videos/">Videos</a>
    </li>
  </ul>
</div><!-- /.nav-main -->


			<div class="search-btn">
				<a class="search-trigger search-icon" href="/search.html"></a>
			</div>

			<form class="quick-search" action="/search.html" method="get">
				<input type="search" name="q" placeholder="Search" />
				<a href="#" class="quick-search-close">&times;</a>
			</form>

		</div>

	</nav><!-- #global-nav -->

</header>
<div class="nav-main-fader"></div>


<div id="gl-wrapper">

	<!-- .main-container -->
	<div class="main-container">
		<a id="main-content"></a>


<div class="container video-page">

	<aside class="sidebar">
		<a href="#" class="toc-toggler">Table of Contents</a>
		<div class="sidebar-wrapper">

			<ul>
				<li class="level-1"><a href="/videos/">All Videos</a></li>
				<h4><span class="playlist-name">Playlist</span> Fundamentals of Magento 2 Development</h4>
				

				
                <li class="level-1 ">
                    
                    <a href="/videos/fundamentals/add-a-new-table-to-database/">
                    
                        How to Add a New Table to a Database 
                        <span class="video-duration">6:11 </span>
                    </a>
                </li>
				
                <li class="level-1 ">
                    
                    <a href="/videos/fundamentals/add-a-javascript-module/">
                    
                        How to Add a JavaScript Module 
                        <span class="video-duration">4:20 </span>
                    </a>
                </li>
				
                <li class="level-1 active">
                    
                    <a href="/videos/fundamentals/add-new-product-attribute/">
                    
                        How to Add a New Product Attribute 
                        <span class="video-duration">7:36 </span>
                    </a>
                </li>
				
                <li class="level-1 ">
                    
                    <a href="/videos/fundamentals/create-a-new-module/">
                    
                        Create a New Module 
                        <span class="video-duration">5:18 </span>
                    </a>
                </li>
				
                <li class="level-1 ">
                    
                    <a href="/videos/fundamentals/create-a-new-page/">
                    
                        Create a New Page 
                        <span class="video-duration">4:02 </span>
                    </a>
                </li>
				
			</ul>

		</div>
	</aside>

	<section class="content">
		<div class="content-wrap">

			<!-- page-header -->
<section class="page-intro">
	

  <nav class="breadcrumbs">

    <a class="breadcrumb-item" href="/"><span>Home</span></a>

    <ol class="breadcrumb list-unstyled" vocab="http://schema.org/" typeof="BreadcrumbList">

    <!-- Iteration breadcrumb item -->
    
    

    

    


  
  <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
    <a href="/videos/"><span property="name">Videos</span></a>
  </li>
  

  
  <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
    
    <a href="/videos/fundamentals/">
    
    <span property="name">Fundamentals of Magento 2 Development</span></a>
  </li>
  <li class="breadcrumb-item active" property="itemListElement" typeof="ListItem">
    <span property="name">How to Add a New Product Attribute</span>
  </li>
  




    </ol>

  </nav>



	

	

	<h1 class="page-heading">How to Add a New Product Attribute</h1>

  


</section>


			<div id="video-player" class="video-player-wrap">
				<div class="video-player">
					<div class="embed-responsive embed-responsive-16by9">
		      	<iframe class="embed-responsive-item" src='http://www.youtube.com/embed/cM_9RkWFqqM?autoplay=1'
		      		        itemprop='embedUrl'
		      		        frameborder='0'
		      	          allowfullscreen>
		      	</iframe>
					</div>
				</div>
			</div>

			<p>Adding a product attribute is one of the most popular operations in both Magento 1 and Magento 2.
Attributes are a powerful way to solve many practical tasks related to a product.</p>

<p>This is quite a broad topic, but in this video we will discuss the simple process of adding a dropdown-type attribute to a product.</p>

<p>For this exercise, assume that the sample data set is installed.</p>

<ul>
  <li>We will add an attribute called clothing_material with the possible values: Cotton, Leather, Silk, Denim, Fur, and Wool.</li>
  <li>We will make this attribute visible on the product view page, in bold text.</li>
  <li>We will assign it to the Default attribute set and add a restriction that any “bottom” clothing, like slacks, cannot be the material Fur.</li>
</ul>

<p>We will need to take the following steps to add the new attribute:</p>

<ol>
  <li>Create a new module.</li>
  <li>Add an InstallData script.</li>
  <li>Add a source model.</li>
  <li>Add a backend model.</li>
  <li>Add a frontend model.</li>
  <li>Execute the InstallData script and verify that it works.</li>
</ol>

<p>Let’s go through each step.</p>

<h2 id="step-1-create-a-new-module">Step 1: Create a new module</h2>

<p>As Magento is modular based, we start the process by creating a new module called <code>Learning_ClothingMaterial</code>.</p>

<pre><code>$ cd &lt;magento2_root&gt;/app/code
$ mkdir Learning
$ mkdir Learning/ClothingMaterial
</code></pre>

<p>Now, create two files:</p>

<p><code>etc/module.xml</code></p>

<div class="collapsible"><b class="collapsible-title">Show code </b><div class="collapsible-content"><figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<span class="c">&lt;!--</span>
<span class="c">/**</span>
<span class="c"> * Copyright © 2016 Magento. All rights reserved.</span>
<span class="c"> * See COPYING.txt for license details.</span>
<span class="c"> */</span>
<span class="c">--&gt;</span>
<span class="nt">&lt;config</span> <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
<span class="na">xsi:noNamespaceSchemaLocation=</span><span class="s">&quot;urn:magento:framework:Module/etc/module.xsd&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;module</span> <span class="na">name=</span><span class="s">&quot;Learning_ClothingMaterial&quot;</span> <span class="na">setup_version=</span><span class="s">&quot;0.0.1&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;/module&gt;</span>
<span class="nt">&lt;/config&gt;</span></code></pre></figure>
</div></div>

<p><br /></p>

<p><code>registration.php</code></p>

<div class="collapsible"><b class="collapsible-title">Show code </b><div class="collapsible-content"><figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="sd">/**</span>
<span class="sd"> * Copyright © 2016 Magento. All rights reserved.</span>
<span class="sd"> * See COPYING.txt for license details.</span>
<span class="sd"> */</span>
<span class="nx">\Magento\Framework\Component\ComponentRegistrar</span><span class="o">::</span><span class="na">register</span><span class="p">(</span>
    <span class="nx">\Magento\Framework\Component\ComponentRegistrar</span><span class="o">::</span><span class="na">MODULE</span><span class="p">,</span>
    <span class="s1">&#39;Learning_ClothingMaterial&#39;</span><span class="p">,</span>
    <span class="nx">__DIR__</span>
<span class="p">);</span></code></pre></figure>
</div></div>

<h2 id="step-2-create-an-installdata-script">Step 2 Create an InstallData script</h2>

<p>Next, we need to create the InstallData script.
Because adding an attribute technically adds records into several tables, such as <code>eav_attribute</code> and <code>catalog_eav_attribute,</code> this is data manipulation, not a schema change.
Therefore we use InstallData instead of InstallSchema.</p>

<p>Create the file <code>app/code/Learning/ClothingMaterial/Setup/InstallData.php</code>:</p>

<div class="collapsible"><b class="collapsible-title">Show code </b><div class="collapsible-content"><figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="sd">/**</span>
<span class="sd"> * Copyright © 2016 Magento. All rights reserved.</span>
<span class="sd"> * See COPYING.txt for license details.</span>
<span class="sd"> */</span>

<span class="k">namespace</span> <span class="nx">Learning\ClothingMaterial\Setup</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Magento\Framework\Setup\InstallDataInterface</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Magento\Framework\Setup\ModuleContextInterface</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Magento\Framework\Setup\ModuleDataSetupInterface</span><span class="p">;</span>

<span class="sd">/**</span>
<span class="sd">* @codeCoverageIgnore</span>
<span class="sd">*/</span>
<span class="k">class</span> <span class="nc">InstallData</span> <span class="k">implements</span> <span class="nx">InstallDataInterface</span>
<span class="p">{</span>
    <span class="sd">/**</span>
<span class="sd">     * Eav setup factory</span>
<span class="sd">     * @var EavSetupFactory</span>
<span class="sd">     */</span>
    <span class="k">private</span> <span class="nv">$eavSetupFactory</span><span class="p">;</span>

    <span class="sd">/**</span>
<span class="sd">     * Init</span>
<span class="sd">     * @param CategorySetupFactory $categorySetupFactory</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">__construct</span><span class="p">(</span><span class="nx">\Magento\Eav\Setup\EavSetupFactory</span> <span class="nv">$eavSetupFactory</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">eavSetupFactory</span> <span class="o">=</span> <span class="nv">$eavSetupFactory</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="sd">/**</span>
<span class="sd">     * {@inheritdoc}</span>
<span class="sd">     * @SuppressWarnings(PHPMD.CyclomaticComplexity)</span>
<span class="sd">     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)</span>
<span class="sd">     * @SuppressWarnings(PHPMD.NPathComplexity)</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">install</span><span class="p">(</span><span class="nx">ModuleDataSetupInterface</span> <span class="nv">$setup</span><span class="p">,</span> <span class="nx">ModuleContextInterface</span> <span class="nv">$context</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$eavSetup</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">eavSetupFactory</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">();</span>
        <span class="nv">$eavSetup</span><span class="o">-&gt;</span><span class="na">addAttribute</span><span class="p">(</span>
            <span class="nx">\Magento\Catalog\Model\Product</span><span class="o">::</span><span class="na">ENTITY</span><span class="p">,</span>
            <span class="s1">&#39;clothing_material&#39;</span><span class="p">,</span>
            <span class="p">[</span>
                <span class="s1">&#39;group&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;General&#39;</span><span class="p">,</span>
                <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;varchar&#39;</span><span class="p">,</span>
                <span class="s1">&#39;label&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Clothing Material&#39;</span><span class="p">,</span>
                <span class="s1">&#39;input&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;select&#39;</span><span class="p">,</span>
                <span class="s1">&#39;source&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Learning\ClothingMaterial\Model\Attribute\Source\Material&#39;</span><span class="p">,</span>
                <span class="s1">&#39;frontend&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Learning\ClothingMaterial\Model\Attribute\Frontend\Material&#39;</span><span class="p">,</span>
                <span class="s1">&#39;backend&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Learning\ClothingMaterial\Model\Attribute\Backend\Material&#39;</span><span class="p">,</span>
                <span class="s1">&#39;required&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span>
                <span class="s1">&#39;sort_order&#39;</span> <span class="o">=&gt;</span> <span class="mi">50</span><span class="p">,</span>
                <span class="s1">&#39;global&#39;</span> <span class="o">=&gt;</span> <span class="nx">\Magento\Eav\Model\Entity\Attribute\ScopedAttributeInterface</span><span class="o">::</span><span class="na">SCOPE_GLOBAL</span><span class="p">,</span>
                <span class="s1">&#39;is_used_in_grid&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span>
                <span class="s1">&#39;is_visible_in_grid&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span>
                <span class="s1">&#39;is_filterable_in_grid&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span>
                <span class="s1">&#39;visible&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
                <span class="s1">&#39;is_html_allowed_on_front&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
                <span class="s1">&#39;visible_on_front&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span>
            <span class="p">]</span>
        <span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>
</div></div>

<p><br /></p>

<p>Let’s take a minute to look at the code.</p>

<p>First of all, we need to use a special setup object, not the one that comes as a parameter.
This is because Catalog is an EAV entity, so to add an attribute, we have to use eavSetup rather than standard one.
This holds true for any EAV entity in Magento 2 (category, product, customer, and so on).</p>

<p>This is why we added eavSetupFactory in a constructor.</p>

<p>For the <code>install()</code> method, all we have to do is call the <code>addAttribute()</code> method with 3 parameters: entity type, attribute code, and properties.</p>

<p>Those properties define how an attribute behaves.
A full list of properties can be seen in the <code>catalog_eav_attribute</code> and <code>eav_attribute</code> tables.
Note that there is a mapping between the fields in those tables and the properties in the <code>addAttribute()</code> method.</p>

<p>To see all the mappings, you should look at the <code>\Magento\Catalog\Model\ResourceModel\Setup\PropertyMapper</code> class.</p>

<p>For now, we’ll just quickly go through most important ones:</p>

<ul>
  <li><strong>group:</strong> Means that we add an attribute to the attribute group “General”, which is present in all attribute sets.</li>
  <li><strong>type:</strong> varchar means that the values will be stored in the catalog_eav_varchar table.</li>
  <li><strong>label:</strong> A label of the attribute (that is, how it will be rendered in the backend and on the frontend).</li>
  <li><strong>source/frontend/backend:</strong> Special classes associated with the attribute:
    <ul>
      <li><strong>source model:</strong> provides a list of options</li>
      <li><strong>frontend:</strong> defines how it should be rendered on the frontend</li>
      <li><strong>backend:</strong> allows you to perform certain actions when an attribute is loaded or saved. In our example, it will be validation.</li>
    </ul>
  </li>
  <li><strong>Global:</strong> defines the scope of its values (global, website, or store)</li>
  <li><strong>visible_on_front:</strong> A flag that defines whether an attribute should be shown on the “More Information” tab on the frontend</li>
  <li><strong>is_html_allowed_on_front:</strong> Defines whether an attribute value may contain HTML</li>
</ul>

<h2 id="step-3-add-a-source-model">Step 3: Add a source model</h2>

<p>Next, we need to create the source model:</p>

<p><code>app/code/Learning/ClothingMaterial/Model/Attribute/Source/Material.php</code></p>

<div class="collapsible"><b class="collapsible-title">Show code </b><div class="collapsible-content"><figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="sd">/**</span>
<span class="sd"> * Copyright © 2016 Magento. All rights reserved.</span>
<span class="sd"> * See COPYING.txt for license details.</span>
<span class="sd"> */</span>

<span class="k">namespace</span> <span class="nx">Learning\ClothingMaterial\Model\Attribute\Source</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Material</span> <span class="k">extends</span> <span class="nx">\Magento\Eav\Model\Entity\Attribute\Source\AbstractSource</span>
<span class="p">{</span>
    <span class="sd">/**</span>
<span class="sd">     * Get all options</span>
<span class="sd">     * @return array</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">getAllOptions</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">_options</span><span class="p">)</span> <span class="p">{</span>
            <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">_options</span> <span class="o">=</span> <span class="p">[</span>
                <span class="p">[</span><span class="s1">&#39;label&#39;</span> <span class="o">=&gt;</span> <span class="nx">__</span><span class="p">(</span><span class="s1">&#39;Cotton&#39;</span><span class="p">),</span> <span class="s1">&#39;value&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;cotton&#39;</span><span class="p">],</span>
                <span class="p">[</span><span class="s1">&#39;label&#39;</span> <span class="o">=&gt;</span> <span class="nx">__</span><span class="p">(</span><span class="s1">&#39;Leather&#39;</span><span class="p">),</span> <span class="s1">&#39;value&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;leather&#39;</span><span class="p">],</span>
                <span class="p">[</span><span class="s1">&#39;label&#39;</span> <span class="o">=&gt;</span> <span class="nx">__</span><span class="p">(</span><span class="s1">&#39;Silk&#39;</span><span class="p">),</span> <span class="s1">&#39;value&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;silk&#39;</span><span class="p">],</span>
                <span class="p">[</span><span class="s1">&#39;label&#39;</span> <span class="o">=&gt;</span> <span class="nx">__</span><span class="p">(</span><span class="s1">&#39;Denim&#39;</span><span class="p">),</span> <span class="s1">&#39;value&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;denim&#39;</span><span class="p">],</span>
                <span class="p">[</span><span class="s1">&#39;label&#39;</span> <span class="o">=&gt;</span> <span class="nx">__</span><span class="p">(</span><span class="s1">&#39;Fur&#39;</span><span class="p">),</span> <span class="s1">&#39;value&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;fur&#39;</span><span class="p">],</span>
                <span class="p">[</span><span class="s1">&#39;label&#39;</span> <span class="o">=&gt;</span> <span class="nx">__</span><span class="p">(</span><span class="s1">&#39;Wool&#39;</span><span class="p">),</span> <span class="s1">&#39;value&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;wool&#39;</span><span class="p">],</span>
            <span class="p">];</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">_options</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>
</div></div>

<p><br /></p>

<p>As the name implies, the <code>getAllOptions</code> method provides a list of all available options.</p>

<h2 id="step-4-add-a-backend-model">Step 4: Add a backend model</h2>

<p>Now we will create a backend model:</p>

<p><code>app/code/Learning/ClothingMaterial/Model/Attribute/Backend/Material.php</code></p>

<div class="collapsible"><b class="collapsible-title">Show code </b><div class="collapsible-content"><figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="sd">/**</span>
<span class="sd"> * Copyright © 2016 Magento. All rights reserved.</span>
<span class="sd"> * See COPYING.txt for license details.</span>
<span class="sd"> */</span>

<span class="k">namespace</span> <span class="nx">Learning\ClothingMaterial\Model\Attribute\Backend</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Material</span> <span class="k">extends</span> <span class="nx">\Magento\Eav\Model\Entity\Attribute\Backend\AbstractBackend</span>
<span class="p">{</span>
    <span class="sd">/**</span>
<span class="sd">     * Validate</span>
<span class="sd">     * @param \Magento\Catalog\Model\Product $object</span>
<span class="sd">     * @throws \Magento\Framework\Exception\LocalizedException</span>
<span class="sd">     * @return bool</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">validate</span><span class="p">(</span><span class="nv">$object</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$value</span> <span class="o">=</span> <span class="nv">$object</span><span class="o">-&gt;</span><span class="na">getData</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getAttribute</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getAttributeCode</span><span class="p">());</span>
        <span class="k">if</span> <span class="p">(</span> <span class="p">(</span><span class="nv">$object</span><span class="o">-&gt;</span><span class="na">getAttributeSetId</span><span class="p">()</span> <span class="o">==</span> <span class="mi">10</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nv">$value</span> <span class="o">==</span> <span class="s1">&#39;wool&#39;</span><span class="p">))</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nx">\Magento\Framework\Exception\LocalizedException</span><span class="p">(</span>
                <span class="nx">__</span><span class="p">(</span><span class="s1">&#39;Bottom can not be wool.&#39;</span><span class="p">)</span>
            <span class="p">);</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>
</div></div>

<p><br /></p>

<p>In our example, we implement only the <code>validate()</code> method.</p>

<p>The backend model may have <code>beforeSave</code>, <code>afterSave</code>, and <code>afterLoad</code> methods that allow the execution of some code at the moment an attribute is saved or loaded.
The backend model is what makes attribute management a really powerful method of customization.</p>

<p>Note that we hardcoded <code>attributeSetId</code> here for the sake of time.
In other cases, it could be different.
Make sure to check the <code>eav_attribute_set</code> table for the right ID.</p>

<h2 id="step-5-add-a-frontend-model">Step 5: Add a frontend model</h2>

<p>And finally, we create a frontend model to make our value bold:</p>

<div class="collapsible"><b class="collapsible-title">Show code </b><div class="collapsible-content"><figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="k">namespace</span> <span class="nx">Learning\ClothingMaterial\Model\Attribute\Frontend</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Material</span> <span class="k">extends</span> <span class="nx">\Magento\Eav\Model\Entity\Attribute\Frontend\AbstractFrontend</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">getValue</span><span class="p">(</span><span class="nx">\Magento\Framework\DataObject</span> <span class="nv">$object</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$value</span> <span class="o">=</span> <span class="nv">$object</span><span class="o">-&gt;</span><span class="na">getData</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getAttribute</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getAttributeCode</span><span class="p">());</span>
        <span class="k">return</span> <span class="s2">&quot;&lt;b&gt;</span><span class="si">$value</span><span class="s2">&lt;/b&gt;&quot;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>
</div></div>

<p><br /></p>

<p>As with the backend model, this is also a very simple class.</p>

<h2 id="step-6-execute-the-installdata-script-and-verify-that-it-works">Step 6: Execute the InstallData script and verify that it works</h2>

<p>Now we can run our code and check the results:</p>

<pre><code>$ cd &lt;magento2_root&gt;
$ php bin/magento setup:upgrade
</code></pre>

<p>After you run this, the new attribute should have been added to the database.
You can check the <code>eav_attribute</code> and <code>catalog_eav_attribute</code> tables to verify that the attribute and its properties are there.
We see ClothingMaterial down here, with the primary key of 155, and its corresponding entry in <code>catalog_eav_attribute,</code> with the primary key being 155.</p>

<p>Now, let’s go to the backend, open any configurable product, and we should see that clothing material dropdown.
We’ll set our filters to be a configurable product with the attribute set of “bottom”.</p>

<p>We’ll select the first item. First, we’ll set the clothing material to Fur and attempt to save our attribute. We see that our
backend model has executed successfully, so now we’ll set it to Wool and save it.</p>

<p>Having saved the product, we’ll now move to the frontend.
It should be visible and in bold text.</p>


			<div class="adjaced-pages">
				<div class="playlist-name">Fundamentals of Magento 2 Development</div>
			
			
				<div class="previous-page"> 
                    
                    <a href="/videos/fundamentals/add-a-javascript-module/">
                    
						<span class="arrow">&larr; Previous</span>
						<span class="title">How to Add a JavaScript Module</span>
					</a>
				</div>
			

			
			
				<div class="next-page"> 
                    
                    <a href="/videos/fundamentals/create-a-new-module/">
                    
						<span class="arrow">Next &rarr;</span>
						<span class="title">Create a New Module</span>
					</a>
				</div>
			
			</div>



		</div>
		<!-- /.content-wrap -->

		<div class="page-info">

			

			

			<div class="new-issue">
				<a href="https://github.com/magento/devdocs/issues/new?title=&body=Feedback on page: /videos/fundamentals/add-new-product-attribute/" target="_blank">Give us feedback</a>
			</div>

		</div>

	</section>
	<!-- /.content -->

</div> <!-- /.container -->


	</div>
	<!-- /.main-container -->

</div>
<!-- /#gl-wrapper -->

<!-- footer-->
<div id="footer">
  <div class="container">

    <div class="copyright-links">
      <ul class="nav">
        <li><a href="/guides/v2.1/contributor-guide/contributing_docs.html">Become a Contributor</a>
        <li><a href="https://magento.github.io/glossary/index.html?audience=developer">Glossary</a></li>
        <li><a href="http://magento.com/legal/terms/privacy/">Privacy Policy</a></li>
        <li><a href="http://magento.com/legal/terms/">Terms of Service</a></li>
        <li><a href="http://magento.com/legal/licensing/">License/Trademark FAQ</a></li>
        <li><a href="/guides/v2.1/release-notes/bk-release-notes.html">Release Notes</a></li>
        <li><a href="/magento-third-party.html">Third-Party Licenses</a></li> 
      </ul>
    </div>

		<div class="copyright-date">&copy; 2017 Magento. All rights reserved.</div>

  </div>
</div>
<!-- / #footer -->

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
<script src="/common/js/app.min.js"></script>

<!-- Glossary integration -->
<script src="https://cdn.jsdelivr.net/jquery.webui-popover/1.2.1/jquery.webui-popover.min.js"></script>
<script src="/common/js/glossary.tooltip.min.js"></script>
<script>
    $(document).ready(function(){
      magento.glossary.init("https://magento.github.io/glossary/data/content-glossary.xml",function(term){return term.types.includes("glossary");},magento.glossary.tooltip.init);
      });
</script>

<script type="text/javascript">
    (function() {
        var didInit = false;
        function initMunchkin() {
            if(didInit === false) {
                didInit = true;
                Munchkin.init('585-GGD-959', {cookieAnon: false});
            }
        }
        var s = document.createElement('script');
        s.type = 'text/javascript';
        s.async = true;
        s.src = '//munchkin.marketo.net/munchkin.js';
        s.onreadystatechange = function() {
            if (this.readyState == 'complete' || this.readyState == 'loaded') {
                initMunchkin();
            }
        };
        s.onload = initMunchkin;
        document.getElementsByTagName('head')[0].appendChild(s);
    })();
</script>



<!--Google Analytics-->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-66243208-1', 'auto');
    ga('send', 'pageview');
</script>


</body>
</html>

