<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>Patch the Magento application</title>
	<meta name="description" content="Magento 2 Developer Documentation.
">

	<link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,700,600,300,800' rel='stylesheet' type='text/css'>

	<link rel="stylesheet" href="/css/app.css" />
	<link rel="stylesheet" href="/css/print.css" media="print"/>
	<link rel="canonical" href="//guides/v2.0/cloud/howtos/patch-magento.html">

	<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script>
        var baseUrl = "/";
    </script>

	<!-- crazyegg -->
	<script type="text/javascript">
	setTimeout(function(){var a=document.createElement("script");
	var b=document.getElementsByTagName("script")[0];
	a.src=document.location.protocol+"//script.crazyegg.com/pages/scripts/0038/0321.js?"+Math.floor(new Date().getTime()/3600000);
	a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
	</script>

</head>
<body>

<header class="site-header">

	<nav role="navigation">

		<div class="menu-btn">
			<a class="menu-trigger menu-icon" href="#"></a>
		</div>

		<div id="global-nav">
			<div class="main-site-name">
				<a class="logo pull-left" href="/"> </a>
				<div class="sub-site-name">
					<a href="/">Developer Documentation (2.0)</a>
				</div>
			</div>
            
<div class="version-switcher dropdown">
	<button class="btn dropdown-toggle" data-toggle="dropdown">
		Version 2.0
	</button>


	<ul class="dropdown-menu dropdown-menu-left">
	
		<li><a class="dropdown-item" href="/guides/v2.0/cloud/howtos/patch-magento.html">Version 2.0</a></li>
	
		<li><a class="dropdown-item" href="/guides/v2.1/cloud/howtos/patch-magento.html">Version 2.1</a></li>
	
  </ul>

</div>


		</div><!-- #global-nav -->
	</nav>

	<div class="search-btn">
        <a class="search-trigger search-icon" href="/search.html"></a>
	</div>

</header>

<!--Sub Navigation-->
<div id="subnav-wrap" class="nav-main">
   <div id="subnav">
      <ul class="menu nav">
         <li class="first">
            <a href="#">Get Started</a>
            <ul class="menu nav">
               <li class="leaf"><a href="/guides/v2.0/architecture/bk-architecture.html">Magento Architecture</a></li>
               <li class="first leaf"><a href="/guides/v2.0/release-notes/bk-release-notes.html">Release Information</a></li>

            </ul>
         </li>
         <li class="first">
            <a href="#">System Administrator</a>
            <ul class="menu nav">
               <li class="first leaf"><a href="/guides/v2.0/install-gde/bk-install-guide.html">Installation Guide</a></li>
               
               <li class="leaf"><a href="/guides/v2.0/comp-mgr/bk-compman-upgrade-guide.html">Component Manager and System Upgrade Guide</a></li>
               
               <li class="leaf"><a href="/guides/v2.0/config-guide/bk-config-guide.html">Configuration Guide</a></li>
               <li class="leaf"><a href="/guides/v2.0/migration/bk-migration-guide.html">Migration Guide</a></li>
               <li class="leaf"><a href="/guides/v2.0/cloud/bk-cloud.html">Magento Enterprise Cloud Guide</a></li>
            </ul>
         </li>
         <li class="first">
            <a href="#">Developers</a>
            <ul class="menu nav">
               <li class="first leaf"><a href="/guides/v2.0/frontend-dev-guide/bk-frontend-dev-guide.html">Frontend Developer Guide</a></li>
               
               <li class="first leaf"><a href="/guides/v2.0/ui-components/ui-component.html">UI Components</a></li>
               

               <li class="first leaf"><a href="/guides/v2.0/javascript-dev-guide/bk-javascript-dev-guide.html">JavaScript Developer Guide</a></li>
               <li class="first leaf"><a href="/guides/v2.0/extension-dev-guide/bk-extension-dev-guide.html">PHP Developer Guide</a></li>
               <li class="first leaf"><a href="/guides/v2.0/ext-best-practices/bk-ext-best-practices.html">Extension Developer Best Practices Guide</a></li>
               <li class="leaf"><a href="/guides/v2.0/get-started/bk-get-started-api.html">Get Started with Magento Web APIs</a></li>
               <li class="leaf"><a href="/guides/v2.0/rest/bk-rest.html">REST Reference</a></li>
               <li class="leaf"><a href="/guides/v2.0/soap/bk-soap.html">SOAP Reference</a></li>
               <li class="leaf"><a href="/guides/v2.0/coding-standards/bk-coding-standards.html">Coding Standards</a></li>
               <li class="leaf"><a href="/guides/v2.0/mrg/intro.html">Module Reference Guide</a></li>
               <li class="first leaf"><a href="/guides/v2.0/payments-integrations/bk-payments-integrations.html">Payments Integrations</a></li>
               
            </ul>
         </li>
         <li class="first">
            <a href="#">Designers</a>
            <ul class="menu nav">
               <li class="first leaf"><a href="/guides/v2.0/pattern-library/bk-pattern.html">Admin Design Pattern Library</a></li>
               <li class="leaf"><a href="/guides/v2.0/design-styleguide/bk-styleguide.html">Admin Style Guide</a></li>
            </ul>
         </li>
         <li class="first">
            <a href="#">Contributor</a>
            <ul class="menu nav">
               <li class="first leaf"><a href="/guides/v2.0/contributor-guide/contributing.html">Contributor Guide</a></li>
            </ul>
         </li>
          <li class="first">
              <a href="/guides/v2.0/test/testing.html">Testing</a>
              <ul class="menu nav">
                  <li class="leaf"><a href="/guides/v2.0/mtf/mtf_introduction.html">Functional Testing</a></li>
                  <li class="leaf"><a href="/guides/v2.0/test/integration/integration_test_execution.html">Integration Testing</a></li>
                  <li class="leaf"><a href="/guides/v2.0/test/js/jasmine.html">JavaScript Unit Testing</a></li>
                  <li class="leaf"><a href="/guides/v2.0/test/unit/unit_test_execution.html">PHP Unit Testing</a></li>
                  <li class="leaf"><a href="/guides/v2.0/get-started/web-api-functional-testing.html">Web API Functional Testing</a></li>
              </ul>
          </li>
         <li class="first">
            <a href="/guides/v2.0/howdoi/bk-how-do-i.html">How Do I...?</a>
         </li>
      </ul>

      <div class ="search">
         <div class="search-icon"></div>
         <form id="searchbox" name="gs" method="GET" action="/search.html">
            <input type="text" name="q" id="searchtext" value="" placeholder="Search" autofocus>
         </form>
      </div><!-- END searchbox-->

      <a href="#" class="nav-close">&times;</a>

   </div> <!--End subnav -->
</div><!--End subnav-wrap -->
<div class="nav-main-fader"></div>


<div id="gl-wrapper">

	<!-- /.main-container -->
	<div id="gl-container" class="main-container">
		<a id="main-content"></a>
		<div class="pane-content">
			<div class="node node-panel">


<!-- page-header -->
<section class="page-intro">
	<div class="container">
		<h1 class="page-heading">Patch the Magento application</h1>

        

        <div class="topic-info">

            
               <div class="github-link"><a class="improve-page" href="https://github.com/magento/devdocs/tree/develop/guides/v2.0/cloud/howtos/patch-magento.md" target="_blank">Edit this page on GitHub</a></div>
            
            

        </div> 
		        
		
        <div class="float-break"></div>
	</div>
</section>


<div class="container">

	<!-- sidebar -->
<aside class="sidebar">
	<a href="#" class="toc-toggler">Table of Contents</a>
	<div class="sidebar-wrapper">


<h4>Magento Enterprise Cloud Guide</h4>








		<ul role="navigation">

		

		

				

			

				

					
					

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.0/cloud/bk-cloud.html">Welcome to Magento Enterprise Cloud Edition</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/discover-arch.html">Architecture</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/discover-workflow.html">Workflow</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/discover-deploy.html">Deployment process</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/discover-tools.html">Tooling</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/get-help.html">Get help with your deployment</a></li>

									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.0/cloud/cloud-requirements.html">Magento Enterprise Cloud Edition requirements</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/cloud-requirements-license.html">License and authentication requirements</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/cloud-requirements-git.html">Git requirements</a></li>

									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.0/cloud/release-notes/CloudReleaseNotes.html">Magento Enterprise Cloud Edition Release Notes</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/release-notes/CloudReleaseNotes2.1.2.html">Magento Enterprise Cloud Edition 2.1.2 and 2.0.10 Release Notes</a></li>

									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.0/cloud/before/before.html">Before you get started</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/before/terms.html">Common terms</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/before/before-repos.html">Magento Enterprise Cloud Edition repositories</a></li>

									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.0/cloud/before/before-project-owner.html">Account owner tasks</a></li>
									
								

									


								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.0/cloud/access-acct/first-time-setup.html">First-time setup (developers)</a></li>
									
								

									


								

									

										<li class="level3Parent " id="workspace"><a href="#">Set up a Magento workspace</a>


									

								

									


											<li class="level3Child workspace " data-menunode="workspace"><a href="/guides/v2.0/cloud/before/before-workspace.html">Overview of a Magento workspace</a>


									

								

									


											<li class="level3Child workspace " data-menunode="workspace"><a href="/guides/v2.0/cloud/before/before-workspace-cloud-account.html">Step 1, Set up an account</a>


									

								

									


											<li class="level3Child workspace " data-menunode="workspace"><a href="/guides/v2.0/cloud/before/before-workspace-file-sys-owner.html">Step 2, Set up the Magento file system owner</a>


									

								

									


											<li class="level3Child workspace " data-menunode="workspace"><a href="/guides/v2.0/cloud/before/before-workspace-cli.html">Step 3, Install the CLI</a>


									

								

									


											<li class="level3Child workspace " data-menunode="workspace"><a href="/guides/v2.0/cloud/before/before-workspace-ssh.html">Step 4, Enable Secure Shell (SSH)</a>


									

								

									


											<li class="level3Child workspace " data-menunode="workspace"><a href="/guides/v2.0/cloud/before/before-workspace-php.html">Step 5, Set up PHP and MySQL</a>


									

								

									

										<li class="level3Parent " id="newproj"><a href="#">Deploy the Magento software to the cloud (create a new project)</a>


									

								

									


											<li class="level3Child newproj " data-menunode="newproj"><a href="/guides/v2.0/cloud/access-acct/first-time-setup_template.html">Create a sample Magento project from a template</a>


									

								

									


											<li class="level3Child newproj " data-menunode="newproj"><a href="/guides/v2.0/cloud/access-acct/first-time-setup_import.html">Import an existing Magento project</a>


									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/access-acct/set-up-env.html">Set up an environment and install the Magento software locally</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/access-acct/fastly.html">Set up Fastly</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/access-acct/first-time-setup_dir-structure.html">Project directory structure</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/access-acct/resources.html">Magento 2 resources</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/access-acct/trouble.html">Troubleshoot deployment</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/before/integration-ip-addr.html">Public IP addresses for integration environments</a></li>

									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.0/cloud/project/projects.html">Manage your projects</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/project/project-start.html">Get started with a project</a></li>

									

								

									

										<li class="level3Parent " id="project"><a href="#">Use the project Web Interface</a>


									

								

									


											<li class="level3Child project " data-menunode="project"><a href="/guides/v2.0/cloud/project/project-webint-basic.html">Basic project information</a>


									

								

									


											<li class="level3Child project " data-menunode="project"><a href="/guides/v2.0/cloud/project/project-webint-branch.html">Manage environments (branches)</a>


									

								

									


											<li class="level3Child project " data-menunode="project"><a href="/guides/v2.0/cloud/project/project-webint-snap.html">Project backup and restore (snapshot)</a>


									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/project/project-conf-files_magento-app.html">.magento.app.yaml</a></li>

									

								

									

										<li class="level3Parent " id="routes"><a href="#">Configure routes</a>


									

								

									


											<li class="level3Child routes " data-menunode="routes"><a href="/guides/v2.0/cloud/project/project-conf-files_routes.html">routes.yaml</a>


									

								

									


											<li class="level3Child routes " data-menunode="routes"><a href="/guides/v2.0/cloud/project/project-routes-more-cache.html">Caching</a>


									

								

									


											<li class="level3Child routes " data-menunode="routes"><a href="/guides/v2.0/cloud/project/project-routes-more-redir.html">Redirects</a>


									

								

									


											<li class="level3Child routes " data-menunode="routes"><a href="/guides/v2.0/cloud/project/project-routes-more-ssi.html">Server side includes</a>


									

								

									

										<li class="level3Parent " id="services"><a href="#">Configure services</a>


									

								

									


											<li class="level3Child services " data-menunode="services"><a href="/guides/v2.0/cloud/project/project-conf-files_services.html">services.yaml</a>


									

								

									


											<li class="level3Child services " data-menunode="services"><a href="/guides/v2.0/cloud/project/project-conf-files_services-mysql.html">Set up the mysql service</a>


									

								

									


											<li class="level3Child services " data-menunode="services"><a href="/guides/v2.0/cloud/project/project-conf-files_services-redis.html">Set up the redis service</a>


									

								

									


											<li class="level3Child services " data-menunode="services"><a href="/guides/v2.0/cloud/project/project-conf-files_services-solr.html">Set up the solr service</a>


									

								

									


											<li class="level3Child services " data-menunode="services"><a href="/guides/v2.0/cloud/project/project-conf-files_services-elastic.html">Set up the elasticsearch service</a>


									

								

									


											<li class="level3Child services " data-menunode="services"><a href="/guides/v2.0/cloud/project/project-conf-files_services-rabbit.html">Set up the rabbitmq service</a>


									

								

									

										<li class="level3Parent " id="integrate"><a href="#">Integrations</a>


									

								

									


											<li class="level3Child integrate " data-menunode="integrate"><a href="/guides/v2.0/cloud/project/project-integrate-blackfire.html">Blackfire integration</a>


									

								

									


											<li class="level3Child integrate " data-menunode="integrate"><a href="/guides/v2.0/cloud/project/project-integrate-github.html">GitHub integration</a>


									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/project/project-multi-sites.html">Set up multiple Cloud websites or stores</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/project/project-priv-repos.html">Pull code from a private Git repository</a></li>

									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.0/cloud/env/environments.html">Manage your environments</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/env/environments-start.html">Get started with an environment</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/env/environments-ssh.html">SSH into your environment</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/env/environments-logs.html">Viewing logs from your environment</a></li>

									

								

									

										<li class="level3Parent " id="vars"><a href="#">Environment variables</a>


									

								

									


											<li class="level3Child vars " data-menunode="vars"><a href="/guides/v2.0/cloud/env/environment-vars_over.html">Overview of environment variables</a>


									

								

									


											<li class="level3Child vars " data-menunode="vars"><a href="/guides/v2.0/cloud/env/environment-vars_cloud.html">Magento Cloud environment variables</a>


									

								

									


											<li class="level3Child vars " data-menunode="vars"><a href="/guides/v2.0/cloud/env/environment-vars_magento.html">Magento application environment variables</a>


									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.0/cloud/howtos/how-to.html">Tutorials</a></li>
									
								

									


								

									

										<li class="level3Parent " id="update-magento"><a href="#">Upgrade and patch the Magento application</a>


									

								

									


											<li class="level3Child update-magento " data-menunode="update-magento"><a href="/guides/v2.0/cloud/howtos/upgrade-magento.html">Upgrade the Magento application</a>


									

								

									


											<li class="level3Child update-magento  active " data-menunode="update-magento"><a href="/guides/v2.0/cloud/howtos/patch-magento.html">Patch the Magento application</a>


									

								

									

										<li class="level3Parent " id="update-extensions"><a href="#">Install and update extensions</a>


									

								

									


											<li class="level3Child update-extensions " data-menunode="update-extensions"><a href="/guides/v2.0/cloud/howtos/install-components.html">Install extensions</a>


									

								

									


											<li class="level3Child update-extensions " data-menunode="update-extensions"><a href="/guides/v2.0/cloud/howtos/update-components.html">Update extensions</a>


									

								

									

										<li class="level3Parent " id="env-tut"><a href="#">Environment tutorials</a>


									

								

									


											<li class="level3Child env-tut " data-menunode="env-tut"><a href="/guides/v2.0/cloud/howtos/environment-tutorial-env-merge.html">Merge and delete an environment</a>


									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/howtos/custom-theme.html">Install a theme</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/howtos/sample-data.html">Install optional sample data</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/howtos/debug.html">Run a PHP debugger</a></li>

									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.0/cloud/admin/administer.html">Other administrative tasks</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/admin/admin-user-admin.html">Manage users</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/admin/admin-snap.html">Snapshot and restore</a></li>

									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.0/cloud/live/stage-prod-live.html">From integration to live</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/live/live-sanity-check.html">Build and deploy before pushing to staging or production</a></li>

									

								

									


											<li class="level3Child stage-prod " data-menunode="stage-prod"><a href="/guides/v2.0/cloud/live/stage-prod-over.html">Overview of staging and production</a>


									

								

									

										<li class="level3Parent " id="stage-prod"><a href="#">Staging and production</a>


									

								

									


											<li class="level3Child stage-prod " data-menunode="stage-prod"><a href="/guides/v2.0/cloud/live/stage-prod-migrate-prereq.html">Prepare to migrate data</a>


									

								

									


											<li class="level3Child stage-prod " data-menunode="stage-prod"><a href="/guides/v2.0/cloud/live/stage-prod-migrate.html">Migrate data</a>


									

								

									


											<li class="level3Child stage-prod " data-menunode="stage-prod"><a href="/guides/v2.0/cloud/live/stage-prod-test.html">Testing</a>


									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/live/live-prot.html">Protective block</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/live/live.html">Go live</a></li>

									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.0/cloud/trouble/trouble.html">Troubleshooting</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/trouble/trouble_proj-startover.html">Resolve issues with a new project</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/trouble/trouble_ce-creds.html">Incorrect credentials</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/trouble/trouble_fastly.html">Troubleshoot Fastly</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/trouble/trouble_comp-deploy-fail.html">Component deployment failure</a></li>

									

								




						

					


				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

		</ul>

	</div>
</aside>
<!-- /sidebar -->


	<section class="content">
		<div class="content-wrap">
            <h2 id="cloud-howto-patch">How to patch the Magento application</h2>
<p>This topic discusses how to apply patches to your Magento Enterprise Cloud Edition system. There are two types of patches:</p>

<ul>
  <li>
    <p><a href="#cloud-patch-gen">General patches</a></p>

    <p>These patches are provided for all Magento Enterprise Cloud Edition customers in a GitHub repository that’s referenced in your <code>composer.json</code>. To install general patches, use <code>composer update</code>, test your system, and push the patches to the remote server.</p>
  </li>
  <li>
    <p><a href="#cloud-patch-custom">Custom patches</a></p>

    <p>Custom patches can be provided by Magento to address a specific issue you raised in a Support ticket. Third-party extension developers can also provide a custom patch.</p>

    <p>Copy custom patches to the <code>m2-hotfixes</code> directory, then add, commit, and push them to your Cloud integration environment.</p>
  </li>
</ul>

<div class="bs-callout bs-callout-warning">
    <p>Always patch your local system first, then your <a href="/guides/v2.0/cloud/discover-arch.html#cloud-arch-int">integration environment</a> system (that is, the remote Cloud server). Resolve any issues before you patch either <a href="/guides/v2.0/cloud/discover-arch.html#cloud-arch-stage">staging</a> or <a href="/guides/v2.0/cloud/discover-arch.html#cloud-arch-prod">production</a>.</p>
</div>

<h2 id="cloud-patch-gen">Apply general patches</h2>
<p><em>General patches</em> are provided for all Magento Enterprise Cloud Edition customers in a repository referenced in your <code>composer.json</code>. To apply these patches, use <code>composer update</code>.</p>

<p>The procedure you use is slightly different, depending on the type of environment: <a href="/guides/v2.0/cloud/discover-arch.html#cloud-arch-int">integration</a>, <a href="/guides/v2.0/cloud/discover-arch.html#cloud-arch-stage">staging</a>, or <a href="/guides/v2.0/cloud/discover-arch.html#cloud-arch-prod">production</a>.</p>

<h3 id="get-started">Get started</h3>

<div class="collapsible"><b class="collapsible-title">To get started: </b><div class="collapsible-content"><div>

  <ol>
    <li>Log in to the server on which your SSH keys are located as, or switch to, the <a href="/guides/v2.0/cloud/before/before-workspace-file-sys-owner.html">Magento file system owner</a>.</li>
    <li>Change to a directory to which the Magento file system owner has write access, such as the web server docroot.</li>
    <li>
      <p>Log in to your project:</p>

      <pre><code>magento-cloud login
</code></pre>
    </li>
    <li>
      <p>List your projects:</p>

      <pre><code>magento-cloud project:list
</code></pre>
    </li>
    <li>
      <p>If necessary, clone a project.</p>

      <pre><code>magento-cloud project:get &lt;project ID&gt;
</code></pre>

      <p>Typically, you should clone the project in the web server’s docroot or a Virtual Host docroot.</p>
    </li>
    <li>
      <p>Change to a project directory.</p>

      <p>For example, <code>cd /var/www/html/magento2</code></p>
    </li>
    <li>
      <p>List environments in the project:</p>

      <pre><code>magento-cloud environment:list
</code></pre>

      <div class="bs-callout bs-callout-info" id="info">
  		<p><code>magento-cloud environment:list</code> displays environment hierarchies whereas <code>git branch</code> displays does not. If you have any nested environments, use <code>magento-cloud environment:list</code>.</p>
</div>
    </li>
    <li>
      <p>Fetch origin branches:</p>

      <pre><code>git fetch origin
</code></pre>
    </li>
    <li>
      <p>Check out an environment:</p>

      <pre><code>magento-cloud environment:checkout &lt;environment ID&gt;
</code></pre>

      <p>To create a new environment, use <code>magento-cloud environment:branch &lt;environment name&gt; &lt;parent environment ID&gt;</code></p>
    </li>
    <li>
      <p>Pull updated code:</p>

      <pre><code>git pull origin &lt;environment ID&gt;
</code></pre>
    </li>
    <li>
      <p>Create a <a href="/guides/v2.0/cloud/admin/admin-snap.html">snapshot</a> of the environment.</p>

      <pre><code>magento-cloud snapshot:create -e &lt;environment ID&gt;
</code></pre>
    </li>
  </ol>
</div>
</div></div>

<h3 id="patch-the-integration-environment">Patch the integration environment</h3>

<div class="collapsible"><b class="collapsible-title">To apply a general patch to an integration environment: </b><div class="collapsible-content"><ol>
  <li>
    <p>On your local system, enter the following command as the <a href="/guides/v2.0/cloud/before/before-workspace-file-sys-owner.html">Magento file system owner</a>:</p>

    <pre><code>&lt;Magento root dir&gt;/composer update
</code></pre>
  </li>
  <li>
    <p>Apply the patch:</p>

    <pre><code>git apply vendor/magento/magento-cloud-configuration/patches/&lt;patch file name&gt;
</code></pre>
  </li>
  <li>
    <p>Clean the Magento cache:</p>

    <pre><code>php &lt;Magento root dir&gt;/bin/magento cache:clean
</code></pre>

    <p>You can also clean the cache using the <a href="http://docs.magento.com/m2/ee/user_guide/system/cache-management.html" target="_blank">Magento Admin</a>.</p>
  </li>
  <li>Thoroughly test your local system to make sure the patch doesn’t have unexpected side-affects.</li>
  <li>
    <p>After testing the patch, push it to the remote server and deploy it:</p>

    <pre><code>git add -A &amp;&amp; git commit -m "Apply patch"
git push origin &lt;branch name&gt;
</code></pre>
  </li>
</ol>
</div></div>

<h3 id="patch-the-staging-or-production-environment">Patch the staging or production environment</h3>

<div class="collapsible"><b class="collapsible-title">To apply a general patch to a staging or production environment: </b><div class="collapsible-content"><ol>
  <li>
    <p>Open an SSH connection to your staging or production server:</p>

    <ul>
      <li>Staging: <code>ssh -A &lt;project ID&gt;_stg@&lt;project ID&gt;.ent.magento.cloud</code></li>
      <li>Production: <code>ssh -A &lt;project ID&gt;@&lt;project ID&gt;.ent.magento.cloud</code></li>
    </ul>
  </li>
  <li>
    <p>Enter the following command:</p>

    <pre><code>&lt;Magento root dir&gt;/composer update
</code></pre>
  </li>
  <li>
    <p>Apply the patch:</p>

    <pre><code>git apply vendor/magento/magento-cloud-configuration/patches/&lt;patch file name&gt;
</code></pre>
  </li>
  <li>
    <p>Clean the Magento cache:</p>

    <pre><code>php &lt;Magento root dir&gt;/bin/magento cache:clean
</code></pre>

    <p>You can also clean the cache using the <a href="http://docs.magento.com/m2/ee/user_guide/system/cache-management.html" target="_blank">Magento Admin</a>.</p>
  </li>
  <li>Thoroughly test your local system to make sure the patch doesn’t have unexpected side-affects.</li>
  <li>
    <p>After testing the patch, push it to the remote server and deploy it:</p>

    <pre><code>git add -A &amp;&amp; git commit -m "Apply patch"
git push origin master
</code></pre>
  </li>
</ol>
</div></div>

<h2 id="cloud-patch-custom">Apply custom patches</h2>
<p><em>Custom patches</em> are provided to specific customers in a Support ticket. Before you continue, make sure the patch file we provided you is available.</p>

<p>The procedure you use is slightly different, depending on the type of environment: <a href="/guides/v2.0/cloud/discover-arch.html#cloud-arch-int">integration</a>, <a href="/guides/v2.0/cloud/discover-arch.html#cloud-arch-stage">staging</a>, or <a href="/guides/v2.0/cloud/discover-arch.html#cloud-arch-prod">production</a>.</p>

<h3 id="apply-a-custom-patch-an-integration-environment">Apply a custom patch an integration environment</h3>

<div class="collapsible"><b class="collapsible-title">To apply a custom patch to an integration environment: </b><div class="collapsible-content"><ol>
  <li>
    <p>On your local system, enter the following command as the <a href="/guides/v2.0/cloud/before/before-workspace-file-sys-owner.html">Magento file system owner</a> if you haven’t done so already:</p>

    <pre><code>mkdir &lt;Magento root dir&gt;/m2-hotfixes
</code></pre>
  </li>
  <li>Copy the patch file to that directory.</li>
  <li>
    <p>Apply the patch:</p>

    <pre><code>git apply &lt;Magento root dir&gt;/m2-hotfixes/&lt;patch file name&gt;
</code></pre>
  </li>
  <li>
    <p>Clean the Magento cache:</p>

    <pre><code>php &lt;Magento root dir&gt;/bin/magento cache:clean
</code></pre>

    <p>You can also clean the cache using the <a href="http://docs.magento.com/m2/ee/user_guide/system/cache-management.html" target="_blank">Magento Admin</a>.</p>
  </li>
  <li>
    <p>After testing the patch, push it to the remote server and deploy it:</p>

    <pre><code>git add -A &amp;&amp; git commit -m "Apply patch"
git push origin &lt;branch name&gt;
</code></pre>
  </li>
</ol>
</div></div>

<h3 id="apply-a-custom-patch-to-a-staging-or-production-environment">Apply a custom patch to a staging or production environment</h3>

<div class="collapsible"><b class="collapsible-title">To apply a custom patch to a staging or production environment: </b><div class="collapsible-content"><ol>
  <li>
    <p>Open an SSH connection to your staging or production server:</p>

    <ul>
      <li>Staging: <code>ssh -A &lt;project ID&gt;_stg@&lt;project ID&gt;.ent.magento.cloud</code></li>
      <li>Production: <code>ssh -A &lt;project ID&gt;@&lt;project ID&gt;.ent.magento.cloud</code></li>
    </ul>
  </li>
  <li>
    <p>On your staging or production system, enter the following command if you haven’t done so already:</p>

    <pre><code>mkdir &lt;Magento root dir&gt;/m2-hotfixes
</code></pre>
  </li>
  <li>
    <p>Copy the patch file to that directory.</p>

    <p>We suggest using the following command:</p>

    <pre><code>rsync -azvP &lt;source&gt; &lt;destination&gt;
</code></pre>

    <p>Options:</p>

    <p><code>a</code> archive</p>

    <p><code>z</code> compress</p>

    <p><code>v</code> verbose</p>

    <p><code>P</code> partial progress</p>

    <p>For additional options, see the <a href="http://linux.die.net/man/1/rsync" target="_blank">rsync man page</a>.</p>
  </li>
  <li>
    <p>Apply the patch:</p>

    <pre><code>git apply &lt;Magento root dir&gt;/m2-hotfixes/&lt;patch file name&gt;
</code></pre>
  </li>
  <li>
    <p>Clean the Magento cache:</p>

    <pre><code>php &lt;Magento root dir&gt;/bin/magento cache:clean
</code></pre>

    <p>You can also clean the cache using the <a href="http://docs.magento.com/m2/ee/user_guide/system/cache-management.html" target="_blank">Magento Admin</a>.</p>
  </li>
  <li>
    <p>After testing the patch, push it to the remote server and deploy it:</p>

    <pre><code>git add -A &amp;&amp; git commit -m "Apply patch"
git push origin &lt;branch name&gt;
</code></pre>
  </li>
</ol>
</div></div>

<h4 id="related-topics">Related topics</h4>
<ul>
  <li><a href="/guides/v2.0/cloud/howtos/install-components.html">Install components</a></li>
  <li><a href="/guides/v2.0/cloud/howtos/sample-data.html">Install optional sample data</a></li>
  <li><a href="/guides/v2.0/cloud/howtos/environment-tutorial-env-merge.html">Merge and delete an environment</a></li>
</ul>

		</div>
	</section>
<!-- /main content -->


</div> <!-- container -->


		</div>
		</div>
	</div>


</div>
<!-- -->
<!--Global footer-->
<div id="footer-wrap">
    <div id="copyright">
        <div class="container">
            <div class="copyright-date">&copy; 2016 Magento, Inc. All rights reserved.</div>
            <div class="copyright-links">
                <ul class="nav">
                    <li><a title="Privacy Policy" href="http://magento.com/legal/terms/privacy">Privacy Policy</a></li>
                    <li><a title="Terms of Service" href="http://magento.com/legal/terms">Terms of Service</a></li>
                    <li><a title="License/Trademark FAQ" href="http://magento.com/legal/licensing">License/Trademark FAQ</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script src="/common/js/jsCookie.js"></script>
<script src="/common/js/devdocs.js"></script>
<script src="/common/js/jquery-ui.min.js"></script>

<script type="text/javascript">
    (function() {
        var didInit = false;
        function initMunchkin() {
            if(didInit === false) {
                didInit = true;
                Munchkin.init('585-GGD-959', {cookieAnon: false});
            }
        }
        var s = document.createElement('script');
        s.type = 'text/javascript';
        s.async = true;
        s.src = '//munchkin.marketo.net/munchkin.js';
        s.onreadystatechange = function() {
            if (this.readyState == 'complete' || this.readyState == 'loaded') {
                initMunchkin();
            }
        };
        s.onload = initMunchkin;
        document.getElementsByTagName('head')[0].appendChild(s);
    })();
</script>

<script src="/js/app.js"></script>

<!--Google Analytics-->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-66243208-1', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>

