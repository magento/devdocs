---
layout: m1x_rest
title: OAuth Configuration
---


<ul class="introduction-menu">
    <li><a href='#OAuthConfiguration-WorkingwithConsumers'>Working with Consumers</a>
    <ul>
        <li><a href='#OAuthConfiguration-AddingaNewConsumer'>Adding a New Consumer</a></li>
        <li><a href='#OAuthConfiguration-EditinganExistingConsumer'>Editing an Existing Consumer</a></li>
        <li><a href='#OAuthConfiguration-DeletinganExistingConsumer'>Deleting an Existing Consumer</a></li>
        <li><a href='#OAuthConfiguration-SearchingforaConsumer'>Searching for a Consumer</a></li>
    </ul>
    </li>
    <li><a href='#OAuthConfiguration-WorkingwithTokens(AdminPanel)'>Working with Tokens (Admin Panel)</a>
    <ul>
        <li><a href='#OAuthConfiguration-ViewingAuthorizedTokens'>Viewing Authorized Tokens</a></li>
        <li><a href='#OAuthConfiguration-ViewingApplications'>Viewing Applications</a></li>
        <li><a href='#OAuthConfiguration-EnablingTokens'>Enabling Tokens</a></li>
        <li><a href='#OAuthConfiguration-RevokingTokens'>Revoking Tokens</a></li>
        <li><a href='#OAuthConfiguration-DeletingTokens'>Deleting Tokens</a></li>
    </ul>
    </li>
    <li><a href='#OAuthConfiguration-WorkingwithTokens(Frontend)'>Working with Tokens (Frontend)</a>
    <ul>
        <li><a href='#OAuthConfiguration-ViewingApplications'>Viewing Applications</a></li>
        <li><a href='#OAuthConfiguration-EnablingTokens'>Enabling Tokens</a></li>
        <li><a href='#OAuthConfiguration-DisablingTokens'>Disabling Tokens</a></li>
        <li><a href='#OAuthConfiguration-DeletingTokens'>Deleting Tokens</a></li>
    </ul>
    </li>
    <li><a href='#OAuthConfiguration-WorkingwithEmailTemplates'>Working with Email Templates</a>
    <ul>
        <li><a href='#OAuthConfiguration-SettingUptheDefaultEmailTemplate'>Setting Up the Default Email Template</a></li>
        <li><a href='#OAuthConfiguration-CreatingaNewEmailTemplate'>Creating a New Email Template</a></li>
    </ul>
    </li>
    <li><a href='#OAuthConfiguration-CleanupConfiguration'>Cleanup Configuration</a></li>
</ul>


<p>Before starting to use OAuth, you need to perform several steps in the Magento Admin Panel. These steps allow you to enable the OAuth functionality for further actions.</p>

<h2><a name="OAuthConfiguration-WorkingwithConsumers"></a>Working with Consumers</h2>

<h3><a name="OAuthConfiguration-AddingaNewConsumer"></a>Adding a New Consumer</h3>

<p>First, you need to create a Consumer in the Admin Panel. Creating a new consumer means registering the application. To do this, perform the following steps:</p>

<ol>
	<li>On the Magento Admin Panel menu, select <b>System</b> &gt; <b>Web Services</b> &gt; <b>REST - OAuth Consumers</b>.</li>
	<li>On the OAuth Consumers page, click <b>Add New</b> in the top right corner to add a new consumer.</li>
	<li>The New Consumer page opens. The <b>Key</b> and <b>Secret</b> fields are filled automatically and cannot be edited. These values are generated automatically and will be used to identify the Consumer in Magento.<br/>
<img src="{{ site.baseurl}}/common/images/m1x/rest_oauth_config1.png" style="border: 1px solid black"/></li>
	<li>Fill in the following fields:
	<ul>
		<li><b>Name</b>: Enter the name of the application to be registered. This field is required.</li>
		<li><b>Callback URL</b>: Enter the URL address to which the Consumer will be redirected after the authorization is passed successfully. This URL address implies the path to the application. This field is optional.</li>
		<li><b>Rejected Callback URL</b>: Enter the URL address to which the user will be redirected if he/she rejects authorization. This field is optional.</li>
	</ul>
	</li>
	<li>Click <b>Save</b> in the top right corner to save the created Consumer.</li>
</ol>


<h3><a name="OAuthConfiguration-EditinganExistingConsumer"></a>Editing an Existing Consumer</h3>

<p>To edit an existing consumer, perform the following steps:</p>

<ol>
	<li>On the Magento Admin Panel menu, select <b>System</b> &gt; <b>Web Services</b> &gt; <b>REST - OAuth Consumers</b>.</li>
	<li>The OAuth Consumers page opens. In the grid, select the consumer to be edited and click it.</li>
	<li>The Edit Consumer page opens. On this page, you can edit the following fields:
	<ul>
		<li><b>Name</b>: Enter a new name for the application.</li>
		<li><b>Callback URL</b>: Enter a new URL address to which the user will be redirected after successful authorization. This URL address implies the path to the application.</li>
		<li><b>Rejected Callback URL</b>: Enter another URL address to which the user will be redirected after he/she rejects authorization proceeding.
<div class='panelMacro'><table class='noteMacro'><tr><td>The <b>Key</b> and <b>Secret</b> fields cannot be edited.</td></tr></table></div></li>
	</ul>
	</li>
	<li>Click <b>Save</b> in the top right corner to save changes.</li>
</ol>


<h3><a name="OAuthConfiguration-DeletinganExistingConsumer"></a>Deleting an Existing Consumer</h3>

<p>To delete the required consumer, perform the following steps:</p>
<ol>
	<li>On the Magento Admin Panel menu, select <b>System</b> &gt; <b>Web Services</b> &gt; <b>REST - OAuth Consumers</b>.</li>
	<li>The OAuth Consumers page opens. In the grid, select the consumer to be deleted and click it.</li>
	<li>The Edit Consumer page opens. Click <b>Delete</b> in the top right corner to delete the selected consumer.</li>
</ol>


<h3><a name="OAuthConfiguration-SearchingforaConsumer"></a>Searching for a Consumer</h3>

<p>You can search for a required consumer by several parameters: ID, consumer name, and date of creation.<br/>
To search for a consumer, perform the following steps:</p>
<ol>
	<li>On the Magento Admin Panel menu, select <b>System</b> &gt; <b>Web Services</b> &gt; <b>REST - OAuth Consumers</b>.</li>
	<li>The OAuth Consumers page opens. The list of consumers is displayed in a grid with the following fields: ID, Consumer Name, and Created At.</li>
	<li>In the search field below the column header in a grid, enter the required value by which the search will be performed. Click <b>Search</b> in the top right corner.</li>
</ol>



<h2><a name="OAuthConfiguration-WorkingwithTokens(AdminPanel)"></a>Working with Tokens (Admin Panel)</h2>

<h3><a name="OAuthConfiguration-ViewingAuthorizedTokens"></a>Viewing Authorized Tokens</h3>

<p>To view authorized tokens in the Admin panel, perform the following steps:</p>

<ol>
	<li>On the Magento Admin Panel menu, select <b>System</b> &gt; <b>Web Services</b> &gt; <b>REST - OAuth Authorized Tokens</b>.</li>
	<li>The Authorized OAuth Tokens page opens. In the grid, the list of all authorized tokens is displayed.</li>
	<li>Tokens are displayed in the grid with the following columns: ID, Application Name (name of consumer for which the token is created), User Type (type of the user, Customer or Admin), User ID, and the Revoked status.</li>
</ol>


<p>From the Authorized OAuth Tokens page, you can enable, revoke, or delete the required token.</p>

<h3><a name="OAuthConfiguration-ViewingApplications"></a>Viewing Applications</h3>

<p>To view the list of applications, perform the following steps:</p>
<ol>
	<li>On the Magento Admin Panel menu, select <b>System</b> &gt; <b>Web Services</b> &gt; <b>REST - My Apps</b>.</li>
	<li>The My Applications page opens. Registered applications are displayed in a grid with the following columns: ID, Application Name, and Revoked.</li>
</ol>



<h3><a name="OAuthConfiguration-EnablingTokens"></a>Enabling Tokens</h3>

<p>If a token is revoked (the Yes value in the Revoked column on the Authorized OAuth Tokens page), you can enable it. To do this, perform the following steps:</p>
<ol>
	<li>In the Authorized OAuth Tokens grid, select the token with the <b>Revoked</b> status set to Yes and select the checkbox next to it.
<div class='panelMacro'><table class='noteMacro'><tr><td>You can select more than one token with the <b>Revoked</b> status and enable all of them by using the mass action.</td></tr></table></div></li>
	<li>In the <b>Actions</b> drop-down list, select the <b>Enable</b> option and click <b>Submit</b>.</li>
	<li>The required token is enabled.</li>
</ol>


<h3><a name="OAuthConfiguration-RevokingTokens"></a>Revoking Tokens</h3>

<p>If a token is enabled (the No value in the Revoked column), you can revoke it. To do this, perform the following steps:</p>
<ol>
	<li>In the Authorized OAuth Tokens grid, select the token with the <b>Revoked</b> status set to No and select the checkbox next to it.
<div class='panelMacro'><table class='noteMacro'><tr><td>You can select more than one token with the <b>Revoked</b> status set to No and revoke all of them by using the mass action.</td></tr></table></div></li>
	<li>In the <b>Actions</b> drop-down list, select the <b>Revoke</b> option and click <b>Submit</b>.</li>
	<li>The required token is revoked.</li>
</ol>


<h3><a name="OAuthConfiguration-DeletingTokens"></a>Deleting Tokens</h3>

<p>To delete the required token, perform the following steps:</p>
<ol>
	<li>In the Authorized OAuth Tokens grid, select the token to be deleted and select the checkbox next to it.
<div class='panelMacro'><table class='noteMacro'><tr><td>You can select more than one token and delete all of them by using the mass action.</td></tr></table></div></li>
	<li>In the <b>Actions</b> drop-down list, select the <b>Delete</b> option and click <b>Submit</b>.</li>
	<li>The required token is deleted.</li>
</ol>



<h2><a name="OAuthConfiguration-WorkingwithTokens(Frontend)"></a>Working with Tokens (Frontend)</h2>

<h3><a name="OAuthConfiguration-ViewingApplications"></a>Viewing Applications</h3>

<p>To view the authorized applications from the frontend, perform the following steps:</p>

<ol>
	<li>On the frontend, click <b>My Account</b> and then select the <b>My Applications</b> tab on the left.</li>
	<li>On the My Applications page, the list of registered applications will be displayed.<br/>
<span class="image-wrap" style=""><img src="{{ site.baseurl}}/common/images/m1x/rest_oauth-config2.png" style="border: 1px solid black"/></span></li>
</ol>



<p>From this page, you can enable, revoke, or delete the required token.</p>

<h3><a name="OAuthConfiguration-EnablingTokens"></a>Enabling Tokens</h3>

<ol>
	<li>In the list of consumers, select the consumer to be enabled.
<div class='panelMacro'><table class='noteMacro'><tr><td>If the token is revoked, there will be the <b>Disabled</b> status next to it.</td></tr></table></div></li>
	<li>Click <b>Enable</b> next to the consumer name.</li>
	<li>The token is enabled.</li>
</ol>


<h3><a name="OAuthConfiguration-DisablingTokens"></a>Disabling Tokens</h3>

<ol>
	<li>In the list of consumers, select the consumer to be disabled.
<div class='panelMacro'><table class='noteMacro'><tr><td>If the token is enabled, there will be the <b>Enabled</b> status next to it.</td></tr></table></div></li>
	<li>Click <b>Disable</b> next to the consumer name.</li>
	<li>The token is disabled.</li>
</ol>


<h3><a name="OAuthConfiguration-DeletingTokens"></a>Deleting Tokens</h3>

<ol>
	<li>In the list of consumers, select the consumer to be deleted.</li>
	<li>Click <b>Delete</b> next to the consumer name.</li>
	<li>The token is deleted.</li>
</ol>



<h2><a name="OAuthConfiguration-WorkingwithEmailTemplates"></a>Working with Email Templates</h2>

<h3><a name="OAuthConfiguration-SettingUptheDefaultEmailTemplate"></a>Setting Up the Default Email Template</h3>

<p>You can set the email template that will be used for user notification if the token status changes. Also, you can set different email templates for different store views. For example, you have two store views: English and German. Magento allows you to set one email template for the English store view and another one for the German store view.<br/>
To set the email template, perform the following steps:</p>
<ol>
	<li>On the Admin Panel menu, select <b>System</b> &gt; <b>Configuration</b>.</li>
	<li>Select <b>Services</b> &gt; <b>OAuth</b> on the left.<br/>
<img src="{{ site.baseurl}}/common/images/m1x/rest_oauth-config3.png" style="border: 1px solid black"/></li>
	<li>In the <b>Email</b> panel, from the <b>Token Status Change Email Template</b> drop-down list, select the required template and click <b>Save Config</b> in the top right corner.</li>
	<li>The template is saved.</li>
</ol>


<h3><a name="OAuthConfiguration-CreatingaNewEmailTemplate"></a>Creating a New Email Template</h3>

<p>You can also create your own email template that will be used for user notification if the token status changes.<br/>
To create a new template, perform the following steps:</p>
<ol>
	<li>On the Admin Panel menu, select <b>System</b> &gt; <b>Transactional Emails</b>.</li>
	<li>The Transactional Emails page opens. Click <b>Add New Template</b> in the top right corner.</li>
	<li>The New Email template page opens. In the Load default template panel, in the <b>Template</b> drop-down list, select the <b>Token Status Change</b> option.</li>
	<li>Specify the <b>Locale</b> option and click <b>Load Template</b>.</li>
	<li>In the Template Information panel, the template data is loaded. You can specify your own template name, subject, and content.</li>
	<li>When the email template is created, click <b>Save Template</b> in the top right corner.</li>
	<li>Set the newly created template as it was described above.</li>
</ol>


<h2><a name="OAuthConfiguration-CleanupConfiguration"></a>Cleanup Configuration</h2>

<p>You can configure the cleanup functionality for temporary tokens. These tokens can be deleted after a certain period of time or after a certain number of OAuth requests.<br/>
To configure cleanup, perform the following steps:</p>
<ol>
	<li>On the Admin Panel menu, select <b>System</b> &gt; <b>Configuration</b>.</li>
	<li>Select <b>Services</b> &gt; <b>OAuth</b> on the left.<br/>
<img src="{{ site.baseurl}}/common/images/m1x/rest_oauth-config4.png" style="border: 1px solid black"/></li>
	<li>In the <b>Cleanup Statistics</b> panel, you can set the following values:
	<ul>
		<li><b>Cleanup Probability</b>: Define the threshold of OAuth requests after which the cleanup will be performed. Only temporary credentials will be removed. Enter 0 to disable the cleanup.</li>
		<li><b>Expiration Period</b>: Define the period (in minutes) on the expiry of which entries will be deleted from the database.</li>
	</ul>
	</li>
	<li>Click <b>Save Config</b> in the top right corner to save changes.</li>
</ol>

                        				    
                			    
