---
---

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

	<link rel="stylesheet" type="text/css" href="{{ site.baseurl }}common/css/stylesheet.css"/>
	<link rel="stylesheet" href="{{ site.baseurl }}common/css/stylesheet-fonts.css" type="text/css" charset="utf-8">
	<link rel="icon" href="{{ site.baseurl }}common/css/favicon.ico" type="image/x-icon">
	<link rel="shortcut icon" href="{{ site.baseurl }}common/css/favicon.ico" type="image/x-icon">
	<title>Information About Enterprise Edition (EE) Patches for Apache Solr</title>

</head>

<body>
	<img src="{{ site.baseurl }}common/images/m1x/m1xheader.png" width="1024" alt="header" />

<a name="top"></a>

<h1>Information About Enterprise Edition (EE) Patches for Apache Solr</h1>

<div id="content">

<!-- Information About Enerprise Edition (EE) Patches for Apache Solr -->
<!-- solr-ee-patches -->


<p>This article lists patches that Magento Support has made available for Magento EE versions 1.10.1.0 and later. The patches themselves are available on the EE support portal at <a href="http://c3-stage.magedevteam.com">c3-stage.magedevteam.com</a>.</p>
<p>Patches are available to all registered EE users. Following is a list of available patches:</p>
<ul><li><a href="#supee-111">Magento EE Solr Patch for EE 1.12.0.x (ID: SUPEE-111)</li>
<li><a href="#supee-107">Magento EE Solr Patch for EE 1.11.1.0 (ID: SUPEE-107)</a></li>
<li><a href="#supee-108">Magento EE Solr Patch for EE 1.11.0.x (ID: SUPEE-108)</a></li>
<li><a href="#supee-110">Magento EE Solr Patch for EE 1.10.1.x (ID: SUPEE-110)</a></li></ul>


<h2 id="supee-111">Magento EE Solr Patch for EE 1.12.0.x (ID: SUPEE-111)</h2>
<h3>Magento EE Version(s) Affected</h3>
<p>This fix affects Magento EE 1.12.0.0, 1.12.0.1, and 1.12.0.1</p>

<h3 id="fixed_solr_ee11200"><!-- (ID: SUPEE-111)-->Issues Fixed in the Magento EE 1.12.0.x Patch</h3>
<ul><li><!-- (<a href="https://jira.corp.x.com/browse/SUP-4880" target="_blank">SUP-4880</a>)  -->Using layered navigation filtering returns the wrong results. (For example, filtering by brand has no effect.)</li>
<li><!--( <a href="https://jira.corp.x.com/browse/SUP-4901" target="_blank">SUP-4901</a>)  -->Resolved an issue where search results don't display correctly after a Magento upgrade.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/SUP-5164" target="_blank">SUP-5164</a>)  -->Catalog navigation works properly.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGETWO-1417" target="_blank">MAGETWO-1417</a>)  -->Products display as expected in categories if the products have a Date attribute with the option <strong>Used for Sorting in Product Listing></strong> set to <strong>Yes</strong>. There are no exceptions in Magento logs after reindexing.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/SUPEE-646" target="_blank">SUPEE-646</a>)  -->Corrected the sort order of products searched by SKU.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/SUPEE-843" target="_blank">SUPEE-843</a>, <a href="https://jira.corp.x.com/browse/SUPEE-1034" target="_blank">SUPEE-1034</a>)  -->Search results of products with names and/or SKUs that contains numbers, letters, and a hyphen character (-) are as expected.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/SUPEE-1283" target="_blank">SUPEE-1283</a>)  -->Resolved issues with search results for products in a locale other than en_US with numeric SKUs.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/SUPEE-954" target="_blank">SUPEE-954</a>)  -->Resolved issues with Solr not returning product search results.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/SUPEE-1833" target="_blank">SUPEE-1833</a>)  -->Search results no longer include products that are either Disabled or Out of Stock.</li>
</ul>

<h3 id="install_ee11200">Installation Instructions</h2>
<p>To install this fix:</p>
<ol><li>Stop Solr if it's currently running.</li>
<li>Download the patch <tt>.sh</tt> and transfer it to your Magento installation root directory.<br />
For example, <tt>/var/www/html/magento</tt>.</li>
<li>Enter the following command as a user with sufficient privileges to write to Magento files (typically, the web server user or <tt>root</tt>):<br />
<pre>sh PATCH_SUPEE-111_EE_1.12.0.0_v6.sh</pre><br />
<strong>Note</strong>: The patch version&mdash;indicated by <tt>_v6</tt> in this example&mdash;is subject to change. The version you get might be different.<br />
A message such as the following displays to confirm the patch installed successfully:<br >
<tt>Patch was applied/reverted successfully.</tt></li>
<li>To reapply ownership to the files changed by the patch:
<ol><li>Find the web server user: <tt>ps -o "user group command" -C httpd,apache2</tt><br />
The value in the USER column is the web server user name.<br />
Typically, the Apache web server user on CentOS is <tt>apache</tt> and the Apache web server user on Ubuntu is <tt>www-data</tt>.</li>
<li>As the owner of the files in the Magento installation directory or as a user with <tt>root</tt> privileges, enter the following command from the Magento installation directory:<br />
<tt>chown -R <em>web-server-user-name</em> .</tt>
For example, on Ubuntu where Apache usually runs as <tt>www-data</tt>, enter
<tt>chown -R www-data .</tt></li></ol> 
 </li>
<li>Copy the updated configuration files from Magento to your Solr configuration directory.
<ol><li>Back up the files in your current Solr configuration directory.</li>
<li>Enter the following command:<br />
<tt>cp <em>magento-install-root</em>/lib/Apache/Solr/conf/* <em>solr-config-dir</em></tt><br />
For example, if Magento is installed in <tt>/var/www/magento</tt> and Solr configuration files are located in <tt>/etc/apache-solr-3.5.0/mysolrapp/solr/conf</tt>, enter<br />
<tt>cp /var/www/magento/lib/Apache/Solr/conf/* /etc/apache-solr-3.5.0/mysolrapp/solr/conf</tt></li></ol>
</li>
<li>Start Solr.</li>
<li>Log in to the Admin Panel as an administrator.</li>
<li>Click <strong>System</strong> > <strong>Cache Management</strong>.</li>
<li>Click <strong>Flush Magento Cache</strong>.</li>
<li>Click <strong>System</strong> > <strong>Configuration</strong>.</li>
<li>In the left navigation bar, from the CATALOG group, click <strong>Catalog</strong>.</li>
<li>In the right pane, expand <strong>Catalog Search</strong>.</li>
<li>From the <strong>Indexation Mode</strong> list, click <strong>Final Commit</strong>.<br />
This is the setting Magento recommends. For a description of the other options, see the <a href="http://merch.docs.magento.com/ee/user_guide/Magento_Enterprise_Edition_User_Guide.html" target="_blank">Magento EE User Guide</a>.</li>
<li>Click <strong>System</strong> > <strong>Index Management</strong>.</li>
<li>Click the <strong>Reindex Data</strong> link in the Catalog Search row.</li>
<li>Reindex other indexers if necessary.</li></ol>

<h3>Reverting the Patch</h3>
<p>If applying the patch results in errors, <a href="http://support.magentocommerce.com/" target="_blank">contact Magento Support</a>. If you are instructed to do so, revert the patch:</p>
<ol><li>Change to your Magento installation directory.</li>
<li>Enter the following command as a user with sufficient privileges to write to Magento files (typically, the web server user or <tt>root</tt>):<br />
<pre>sh PATCH_SUPEE-111_EE_1.12.0.0_v6.sh -R</pre></li></ol>

<h3>Troubleshooting</h3>
<p>If you get an error when you run the patch, use the following suggestions:</p>
<ul><li>Verify the patch is located in your Magento installation root directory.<br />
Ubuntu example: <tt>/var/www/magento</tt><br />
CentOS example: <tt>/var/www/html/magento</tt></li>
<li>Verify you're running the patch with sufficient privileges.<br />
Typically, this means running it as the web server user or as a user with <tt>root</tt> privileges.</li>
<li>Try running the patch again.<br />
If problems persist, <a href="http://support.magentocommerce.com/" target="_blank">contact Magento Support</a>.</li></ul>

<h2 id="supee-107">Magento EE Solr Patch for EE 1.11.1.0 (ID: SUPEE-107)</h2>
<h3>Magento EE Version(s) Affected</h3>
<p>This fix affects Magento EE 1.11.1.0.</p>

<h3 id="fixed_solr_ee11110"><!-- (ID: SUPEE-107)-->Issues Fixed in the Magento EE 1.11.1.0 Patch</h3>
<ul><li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-5852" target="_blank">MAGE-5852</a>)  -->Search results display correctly if products have attribute values set at the store view.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-4771" target="_blank">MAGE-4771</a>)  -->You can now enable or disable search engine recommendations.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-4937" target="_blank">MAGE-4937</a>)  -->Search results properly detect the configured price navigation step calculation.<br />
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-5095" target="_blank">MAGE-5095</a>, <a href="https://jira.corp.x.com/browse/MAGE-5093" target="_blank">MAGE-5093</a>)  -->Reindexing performance has been improved.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-5101" target="_blank">MAGE-5101</a>)  -->Solr search displays expected results when products use an attribute set for <strong>Catalog Input Type for Store Owner</strong> configured for <strong>Price</strong>&mdash;and this attribute is used for sorting. The following error no longer displays after reindexing the catalog search index:<br />
<tt>SEVERE: org.apache.solr.common.SolrException: can not sort on multivalued field</tt></li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-5405" target="_blank">MAGE-5405</a>)  -->Search results display in the order consistent with the setting for <strong>Catalog</strong> > <strong>Attributes</strong> > <strong>Manage Label</strong> > <strong>Options</strong>.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-5194" target="_blank">MAGE-5194</a>)  -->Search results display correctly if you use non-default attributes.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-5580" target="_blank">MAGE-5580</a>)  -->A product that uses an attribute name that has a trailing space displays in search results.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-5610" target="_blank">MAGE-5610</a>)  -->Resolved an issue that prevented products from displaying in the web store if Solr is enabled.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-5877" target="_blank">MAGE-5877</a>)  -->Products can be located using layered navigation if the products have attributes set for <strong>Use in Quick Search</strong> and/or <strong>Use in Advanced Search</strong> set to <strong>No</strong>.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-5965" target="_blank">MAGE-5965</a>, <a href="https://jira.corp.x.com/browse/MAGE-6168" target="_blank">MAGE-6168</a>)  -->Advanced search works properly when Solr is enabled.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-5945" target="_blank">MAGE-5945</a>)  -->Category permissions work properly when Solr is enabled.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-6178" target="_blank">MAGE-6178</a>)  -->Changing pricing, such as configuring a discount for an existing product, automatically re-indexes and displays the correct price in the web store.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-6280" target="_blank">MAGE-6280</a>)  -->Advanced search results display as expected after toggling the value of a Yes/No attribute.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-6359" target="_blank">MAGE-6359</a>)  -->A product displays in search results after changing the value of the product's Visibility setting to <strong>Catalog</strong>.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-6456" target="_blank">MAGE-6456</a>)  -->Quick search results display as expected when the value of maximum query length is null.<br />
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-6426" target="_blank">MAGE-6426</a>)  -->Searching for the value of a Yes/No attribute in a supported locale other than en_US works properly.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-6510" target="_blank">MAGE-6510</a>)  -->Resolved issues with incorrect attribute values being assigned to a configurable product.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-6528" target="_blank">MAGE-6528</a>)  -->Out of stock products display in the web store when <strong>Display Out of Stock Products</strong> is set to <strong>Yes</strong>.<br />
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-6550" target="_blank">MAGE-6550</a>, <a href="https://jira.corp.x.com/browse/MAGE-6720" target="_blank">MAGE-6720</a>)  -->Products display in advanced search if they have attributes of multiple select and drop-down.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-6565" target="_blank">MAGE-6565</a>)  -->Quick search works properly in store views with a locale other than English.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-6744" target="_blank">MAGE-6744</a>)  -->Cron job reindexing uses the specified indexation mode for the catalog search index.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/SUP-45694" target="_blank">SUP-4569</a>)  -->Simple products that are configured as part of a grouped product display in search results for the simple product's SKU.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-6654" target="_blank">MAGE-6654</a>)  -->A product's price attribute displays in layered navigation when Solr is enabled.<br />
<li><!-- (<a href="https://jira.corp.x.com/browse/SUP-2665" target="_blank">SUP-2665</a>)  -->Resolves an issue with attributes displaying in layered navigation as <em>empty</em>.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/SUP-5164" target="_blank">SUP-5164</a>)  -->Catalog navigation works properly.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/SUP-4901" target="_blank">SUP-4901</a>)  -->Resolved issues with Solr after upgrading to EE 1.11.1.0</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGETWO-1417" target="_blank">MAGETWO-1417</a>)  -->Products display in categories after import.</li>
</ul>

<h3 id="install_ee11110">Installation Instructions</h3>
<p>To install this fix:</p>
<ol><li>Stop Solr if it's currently running.</li>
<li>Download the patch <tt>.sh</tt> and transfer it to your Magento installation root directory.<br />
For example, <tt>/var/www/html/magento</tt>.</li>
<li>Enter the following command as a user with sufficient privileges to write to Magento files (typically, the web server user or <tt>root</tt>):<br />
<pre>sh PATCH_SUPEE-107_EE_1.11.1.0_v1.sh</pre><br />
<strong>Note</strong>: The patch version&mdash;indicated by <tt>_v6</tt> in this example&mdash;is subject to change. The version you get might be different.<br />
A message such as the following displays to confirm the patch installed successfully:<br >
<tt>Patch was applied/reverted successfully.</tt></li>
<li>To reapply ownership to the files changed by the patch:
<ol><li>Find the web server user: <tt>ps -o "user group command" -C httpd,apache2</tt><br />
The value in the USER column is the web server user name.<br />
Typically, the Apache web server user on CentOS is <tt>apache</tt> and the Apache web server user on Ubuntu is <tt>www-data</tt>.</li>
<li>As the owner of the files in the Magento installation directory or as a user with <tt>root</tt> privileges, enter the following command from the Magento installation directory:<br />
<tt>chown -R <em>web-server-user-name</em> .</tt>
For example, on Ubuntu where Apache usually runs as <tt>www-data</tt>, enter
<tt>chown -R www-data .</tt></li></ol> 
 </li>
<li>Copy the updated configuration files from Magento to your Solr configuration directory.
<ol><li>Back up the files in your current Solr configuration directory.</li>
<li>Enter the following command:<br />
<tt>cp <em>magento-install-root</em>/lib/Apache/Solr/conf/* <em>solr-config-dir</em></tt><br />
For example, if Magento is installed in <tt>/var/www/magento</tt> and Solr configuration files are located in <tt>/etc/apache-solr-3.5.0/mysolrapp/solr/conf</tt>, enter<br />
<tt>cp /var/www/magento/lib/Apache/Solr/conf/* /etc/apache-solr-3.5.0/mysolrapp/solr/conf</tt></li></ol>
</li>
<li>Start Solr.</li>
<li>Log in to the Admin Panel as an administrator.</li>
<li>Click <strong>System</strong> > <strong>Cache Management</strong>.</li>
<li>Click <strong>Flush Magento Cache</strong>.</li>
<li>Click <strong>System</strong> > <strong>Configuration</strong>.</li>
<li>In the left navigation bar, from the CATALOG group, click <strong>Catalog</strong>.</li>
<li>In the right pane, expand <strong>Catalog Search</strong>.</li>
<li>From the <strong>Indexation Mode</strong> list, click <strong>Final Commit</strong>.<br />
This is the setting Magento recommends. For a description of the other options, see the <a href="http://merch.docs.magento.com/ee/user_guide/Magento_Enterprise_Edition_User_Guide.html" target="_blank">Magento EE User Guide</a>.</li>
<li>Click <strong>System</strong> > <strong>Index Management</strong>.</li>
<li>Click the <strong>Reindex Data</strong> link in the Catalog Search row.</li>
<li>Reindex other indexers if necessary.</li></ol>

<h3>Reverting the Patch</h3>
<p>If applying the patch results in errors, <a href="http://support.magentocommerce.com/" target="_blank">contact Magento Support</a>. If you are instructed to do so, revert the patch:</p>
<ol><li>Change to your Magento installation directory.</li>
<li>Enter the following command as a user with sufficient privileges to write to Magento files (typically, the web server user or <tt>root</tt>):<br />
<pre>sh PATCH_SUPEE-107_EE_1.11.1.0_v1.sh -R</pre></li></ol>

<h3>Troubleshooting</h3>
<p>If you get an error when you run the patch, use the following suggestions:</p>
<ul><li>Verify the patch is located in your Magento installation root directory.<br />
Ubuntu example: <tt>/var/www/magento</tt><br />
CentOS example: <tt>/var/www/html/magento</tt></li>
<li>Verify you're running the patch with sufficient privileges.<br />
Typically, this means running it as the web server user or as a user with <tt>root</tt> privileges.</li>
<li>Try running the patch again.<br />
If problems persist, <a href="http://support.magentocommerce.com/" target="_blank">contact Magento Support</a>.</li></ul>

<h2 id="supee-108">Magento EE Solr Patch for EE 1.11.0.x (ID: SUPEE-108)</h2>
<h3>Magento EE Version(s) Affected</h3>
<p>This fix affects Magento EE 1.11.0.0, 1.11.0.1, and 1.11.0.2.</p>

<h3 id="fixed_solr_ee11102"><!-- (ID: SUPEE-108)-->Issues Fixed in the Magento EE 1.11.0.x Patch</h3>
<ul><li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-2662" target="_blank">MAGE-2662</a>)  -->Solr does not display an anchor category if the layered navigation block is absent, such as when this block has been removed from the layout. Search results in this case are processed by the database, not by Solr.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-4093" target="_blank">MAGE-4093</a>)  -->Search results display correctly regardless of the order in which content blocks load.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-4094" target="_blank">MAGE-4094</a>)  -->Paginated search results display the total number of pages returned by a Solr search.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-4152" target="_blank">MAGE-4152</a>)  -->Search results display properly for all locales supported by the Magento configuration. (A <em>supported locale</em> is one for which you have uploaded translations.)</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-4174" target="_blank">MAGE-4174</a>)  -->Reindexing using a cron job no longer causes PHP fatal errors.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-4771" target="_blank">MAGE-4771</a>)  -->You can now enable or disable search engine recommendations.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-4937" target="_blank">MAGE-4937</a>)  -->Search results properly detect the configured price navigation step calculation.<br />
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-5101" target="_blank">MAGE-5101</a>)  -->Solr search displays expected results when products use an attribute set for <strong>Catalog Input Type for Store Owner</strong> configured for <strong>Price</strong>&mdash;and this attribute is used for sorting. The following error no longer displays after reindexing the catalog search index:<br />
<tt>SEVERE: org.apache.solr.common.SolrException: can not sort on multivalued field</tt></li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-5095" target="_blank">MAGE-5095</a>, <a href="https://jira.corp.x.com/browse/MAGE-5093" target="_blank">MAGE-5093</a>, <a href="https://jira.corp.x.com/browse/MAGE-4005" target="_blank">MAGE-4005</a>)  -->Reindexing performance has been improved.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-5405" target="_blank">MAGE-5405</a>)  -->Search results display in the order consistent with the setting for <strong>Catalog</strong> > <strong>Attributes</strong> > <strong>Manage Label</strong> > <strong>Options</strong>.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-5194" target="_blank">MAGE-5194</a>)  -->Search results display correctly if you use non-default attributes.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-5580" target="_blank">MAGE-5580</a>)  -->Products that use an attribute name that has a trailing space display in search results.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-5610" target="_blank">MAGE-5610</a>)  -->Resolved an issue that prevented products from displaying in the web store if Solr is enabled.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-5965" target="_blank">MAGE-5965</a>, <a href="https://jira.corp.x.com/browse/MAGE-6168" target="_blank">MAGE-6168</a>)  -->Advanced search works properly when Solr is enabled.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-5945" target="_blank">MAGE-5945</a>)  -->Category permissions work properly when Solr is enabled.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-6178" target="_blank">MAGE-6178</a>)  -->Changing pricing, such as configuring a discount for an existing product, automatically re-indexes and displays the correct price in the web store.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-6280" target="_blank">MAGE-6280</a>)  -->Advanced search results display as expected after toggling the value of a Yes/No attribute.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-6359" target="_blank">MAGE-6359</a>)  -->A product displays in search results after changing the value of the product's Visibility setting to <strong>Catalog</strong>.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-6426" target="_blank">MAGE-6426</a>)  -->Searching for the value of a Yes/No attribute in a supported locale other than en_US works properly.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-6510" target="_blank">MAGE-6510</a>)  -->Resolved issues with incorrect attribute values being assigned to a configurable product.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-6528" target="_blank">MAGE-6528</a>)  -->Out of stock products display in the web store when <strong>Display Out of Stock Products</strong> is set to <strong>Yes</strong>.<br />
(In the Admin Panel, click <strong>System</strong> > <strong>Configuration</strong> > CATALOG > <strong>Inventory</strong> > <strong>Stock Options</strong>.)
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-6550" target="_blank">MAGE-6550</a>, <a href="https://jira.corp.x.com/browse/MAGE-6720" target="_blank">MAGE-6720</a>)  -->Products display in advanced search if they have attributes of multiple select and drop-down.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-6565" target="_blank">MAGE-6565</a>)  -->Quick search works properly in store views with a locale other than English.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-5877" target="_blank">MAGE-5877</a>)  -->Products can be located using layered navigation if the products have attributes set for <strong>Use in Quick Search</strong> and/or <strong>Use in Advanced Search</strong> set to <strong>No</strong>.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-6456" target="_blank">MAGE-6456</a>)  -->Quick search results display as expected when the value of maximum query length is null.<br />
(In the Admin Panel, click <strong>System</strong> > <strong>Configuration</strong> CATALOG > <strong>Catalog Search</strong>, value of <strong>Maximum Query Length</strong>.)</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-6744" target="_blank">MAGE-6744</a>)  -->Cron job reindexing uses the specified indexation mode for the catalog search index.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/SUP-45694" target="_blank">SUP-4569</a>)  -->Simple products that are configured as part of a grouped product display in search results for the simple product's SKU.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-6654" target="_blank">MAGE-6654</a>)  -->A product's price attribute displays in layered navigation when Solr is enabled.<br />
(Attribute is configured with <strong>Catalog Input Type for Store Owner</strong> set to <strong>Price</strong> and <strong>Use In Layered Navigation</strong> set to <strong>Filterable (with results)</strong>.)</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGETWO-1417" target="_blank">MAGETWO-1417</a>)  -->Products display as expected in categories if the products have a Date attribute with the option <strong>Used for Sorting in Product Listing</strong> set to <strong>Yes</strong>. There are no exceptions in Magento logs after reindexing.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/SUP-2665" target="_blank">SUP-2665</a>)  -->Resolves an issue with attributes displaying in layered navigation as <em>empty</em>.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/SUP-4901" target="_blank">SUP-4901</a>)  -->Resolved an issue where search results don't display correctly after a Magento upgrade.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/SUP-5164" target="_blank">SUP-5164</a>)  -->Catalog navigation works properly.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-5852" target="_blank">MAGE-5852</a>)  -->Search results display correctly if products have attribute values set at the store view.</li>
</ul>

<h3 id="install_ee11102">Installation Instructions</h2>
<p>To install this fix:</p>
<ol><li>Stop Solr if it's currently running.</li>
<li>Download the patch <tt>.sh</tt> and transfer it to your Magento installation root directory.<br />
For example, <tt>/var/www/html/magento</tt>.</li>
<li>Enter the following command as a user with sufficient privileges to write to Magento files (typically, the web server user or <tt>root</tt>):<br />
<pre>sh PATCH_SUPEE-108_EE_1.11.0.2_v1.sh</pre><br />
<strong>Note</strong>: The patch version&mdash;indicated by <tt>_v1</tt> in this example&mdash;is subject to change. The version you get might be different.<br />
A message such as the following displays to confirm the patch installed successfully:<br >
<tt>Patch was applied/reverted successfully.</tt></li>
<li>To reapply ownership to the files changed by the patch:
<ol><li>Find the web server user: <tt>ps -o "user group command" -C httpd,apache2</tt><br />
The value in the USER column is the web server user name.<br />
Typically, the Apache web server user on CentOS is <tt>apache</tt> and the Apache web server user on Ubuntu is <tt>www-data</tt>.</li>
<li>As the owner of the files in the Magento installation directory or as a user with <tt>root</tt> privileges, enter the following command from the Magento installation directory:<br />
<tt>chown -R <em>web-server-user-name</em> .</tt><br />
For example, on Ubuntu where Apache usually runs as <tt>www-data</tt>, enter<br />
<tt>chown -R www-data .</tt></li></ol> 
 </li>
<li>Copy the updated configuration files from Magento to your Solr configuration directory.
<ol><li>Back up the files in your current Solr configuration directory.</li>
<li>Enter the following command:<br />
<tt>cp <em>magento-install-root</em>/lib/Apache/Solr/conf/* <em>solr-config-dir</em></tt><br />
For example, if Magento is installed in <tt>/var/www/magento</tt> and Solr configuration files are located in <tt>/etc/apache-solr-3.5.0/mysolrapp/solr/conf</tt>, enter<br />
<tt>cp /var/www/magento/lib/Apache/Solr/conf/* /etc/apache-solr-3.5.0/mysolrapp/solr/conf</tt></li></ol>
</li>
<li>Start Solr.</li>
<li>Log in to the Admin Panel as an administrator.</li>
<li>Click <strong>System</strong> > <strong>Cache Management</strong>.</li>
<li>Click <strong>Flush Magento Cache</strong>.</li>
<li>Click <strong>System</strong> > <strong>Configuration</strong>.</li>
<li>In the left navigation bar, from the CATALOG group, click <strong>Catalog</strong>.</li>
<li>In the right pane, expand <strong>Catalog Search</strong>.</li>
<li>From the <strong>Indexation Mode</strong> list, click <strong>Final Commit</strong>.<br />
This is the setting Magento recommends. For a description of the other options, see the <a href="http://merch.docs.magento.com/ee/user_guide/Magento_Enterprise_Edition_User_Guide.html" target="_blank">Magento EE User Guide</a>.</li>
<li>Click <strong>System</strong> > <strong>Index Management</strong>.</li>
<li>Click the <strong>Reindex Data</strong> link in the Catalog Search row.</li>
<li>Reindex other indexers if necessary.</li></ol>

<h3>Reverting the Patch</h3>
<p>If applying the patch results in errors, <a href="http://support.magentocommerce.com/" target="_blank">contact Magento Support</a>. If you are instructed to do so, revert the patch:</p>
<ol><li>Change to your Magento installation directory.</li>
<li>Enter the following command as a user with sufficient privileges to write to Magento files (typically, the web server user or <tt>root</tt>):<br />
<pre>sh PATCH_SUPEE-108_EE_1.11.0.2_v1.sh -R</pre></li></ol>

<h3>Troubleshooting</h3>
<p>If you get an error when you run the patch, use the following suggestions:</p>
<ul><li>Verify the patch is located in your Magento installation root directory.<br />
Ubuntu example: <tt>/var/www/magento</tt><br />
CentOS example: <tt>/var/www/html/magento</tt></li>
<li>Verify you're running the patch with sufficient privileges.<br />
Typically, this means running it as the web server user or as a user with <tt>root</tt> privileges.</li>
<li>Try running the patch again.<br />
If problems persist, <a href="http://support.magentocommerce.com/" target="_blank">contact Magento Support</a>.</li></ul>

<h2 id="supee-110">Magento EE Solr Patch for EE 1.10.1.x (ID: SUPEE-110)</h2>
<h3>Magento EE Version(s) Affected</h3>
<p>This fix affects Magento EE 1.10.1.0 and 1.10.1.1.</p>

<h3 id="fixed_solr_ee11010"><!-- (ID: SUPEE-110)-->Issues Fixed in the Magento EE 1.10.1.x Patch</h3>
<ul><li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-2662" target="_blank">MAGE-2662</a>)  -->Solr does not display an anchor category if the layered navigation block is absent, such as when this block has been removed from the layout. Search results in this case are processed by the database, not by Solr.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-3770" target="_blank">MAGE-3770</a>)  -->Solr search results display correctly with different settings for an attribute set that uses <strong>Use In Layered Navigation</strong> set to <strong>Filterable (no results)</strong>.<br />
In other words, if some products are assigned to a category that do <em>not</em> use that attribute set, they display correctly in Solr search results if there are products in other categories that <em>do</em> use the attribute set.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-4005" target="_blank">MAGE-4005</a>)  -->Catalog search reindexing has better performance.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-4094" target="_blank">MAGE-4094</a>)  -->Paginated search results display the total number of pages returned by a Solr search.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-4152" target="_blank">MAGE-4152</a>)  -->Search results display properly for all locales supported by the Magento configuration. (A <em>supported locale</em> is one for which you have uploaded translations.)</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-4937" target="_blank">MAGE-4937</a>)  -->Search results properly detect the configured price navigation step calculation.<br />
(In the Admin Panel, click <strong>System</strong> > <strong>Configuration</strong> > CATALOG > <strong>Catalog</strong> > <strong>Layered Navigation</strong>. From the <strong>Price Navigation Step Calculation</strong> list, click <strong>Manual</strong>.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/MAGE-5194" target="_blank">MAGE-5194</a>)  -->Search results display correctly if you use non-default attributes.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/SUP-2656" target="_blank">SUP-2656</a>)  -->Relevancy and suggestions were improved.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/SUP-5164" target="_blank">SUP-5164</a>)  -->Catalog navigation works properly.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/SUP-5239" target="_blank">SUP-5239</a>)  -->When the user chooses to display all search results, the correct number of results display.</li>
<li><!-- (<a href="https://jira.corp.x.com/browse/SUPEE-1378" target="_blank">SUPEE-1378</a>)  -->Search results include only products that are in stock.</li></ul>

<h3 id="install_11010">Installation Instructions</h2>
<p>To install this fix:</p>
<ol><li>Download the patch <tt>.sh</tt> and transfer it to your Magento installation root directory.<br />
For example, <tt>/var/www/html/magento</tt>.</li>
<li>Enter the following command as a user with sufficient privileges to write to Magento files (typically, the web server user or <tt>root</tt>):<br />
<pre>sh PATCH_SUPEE-110_EE_1.10.1.1_v2.sh</pre><br />
<strong>Note</strong>: The patch version&mdash;indicated by <tt>_v2</tt> in this example&mdash;is subject to change. The version you get might be different.<br />
A message such as the following displays to confirm the patch installed successfully:<br >
<tt>Patch was applied/reverted successfully.</tt></li>
<li>To reapply ownership to the files changed by the patch:
<ol><li>Find the web server user: <tt>ps -o "user group command" -C httpd,apache2</tt><br />
The value in the USER column is the web server user name.<br />
Typically, the Apache web server user on CentOS is <tt>apache</tt> and the Apache web server user on Ubuntu is <tt>www-data</tt>.</li>
<li>As a user with <tt>root</tt> privileges, enter the following command from the Magento installation directory:<br />
<tt>chown -R <em>web-server-user-name</em> .</tt><br />
For example, on Ubuntu where Apache usually runs as <tt>www-data</tt>, enter<br />
<tt>chown -R www-data .</tt></li></ol> 
 </li>
<li>If Solr is running, stop it.</li>
<li>Copy the updated configuration files from Magento to your Solr configuration directory.
<ol><li>Back up the files in your current Solr configuration directory.</li>
<li>Enter the following command:<br />
<tt>cp <em>magento-install-root</em>/lib/Apache/Solr/conf/* <em>solr-config-dir</em></tt><br />
For example, if Magento is installed in <tt>/var/www/magento</tt> and Solr configuration files are located in <tt>/etc/apache-solr-3.5.0/mysolrapp/solr/conf</tt>, enter<br />
<tt>cp /var/www/magento/lib/Apache/Solr/conf/* /etc/apache-solr-3.5.0/mysolrapp/solr/conf</tt></li></ol>
</li>
<li>Start Solr.</li>
<li>Log in to the Admin Panel as an administrator.</li>
<li>Click <strong>System</strong> > <strong>Cache Management</strong>.</li>
<li>Click <strong>Flush Magento Cache</strong>.</li>
<li>Click <strong>System</strong> > <strong>Configuration</strong>.</li>
<li>In the left navigation bar, from the CATALOG group, click <strong>Catalog</strong>.</li>
<li>In the right pane, expand <strong>Catalog Search</strong>.</li>
<li>From the <strong>Indexation Mode</strong> list, click <strong>Final Commit</strong>.<br />
This is the setting Magento recommends. For a description of the other options, see the <a href="http://merch.docs.magento.com/ee/user_guide/Magento_Enterprise_Edition_User_Guide.html" target="_blank">Magento EE User Guide</a>.</li>
<li>Click <strong>System</strong> > <strong>Index Management</strong>.</li>
<li>Click the <strong>Reindex Data</strong> link in the Catalog Search row.</li>
<li>Reindex other indexers if necessary.</li></ol>

<h3>Reverting the Patch</h3>
<p>If applying the patch results in errors, <a href="http://support.magentocommerce.com/" target="_blank">contact Magento Support</a>. If you are instructed to do so, revert the patch:</p>
<ol><li>Change to your Magento installation directory.</li>
<li>Enter the following command as a user with sufficient privileges to write to Magento files (typically, the web server user or <tt>root</tt>):<br />
<pre>sh PATCH_SUPEE-110_EE_1.10.1.1_v2.sh -R</pre></li></ol>

<h3>Troubleshooting</h3>
<p>If you get an error when you run the patch, use the following suggestions:</p>
<ul><li>Verify the patch is located in your Magento installation root directory.<br />
Ubuntu example: <tt>/var/www/magento</tt><br />
CentOS example: <tt>/var/www/html/magento</tt></li>
<li>Verify you're running the patch with sufficient privileges.<br />
Typically, this means running it as the web server user or as a user with <tt>root</tt> privileges.</li>
<li>Try running the patch again.<br />
If problems persist, <a href="http://support.magentocommerce.com/" target="_blank">contact Magento Support</a>.</li></ul>



