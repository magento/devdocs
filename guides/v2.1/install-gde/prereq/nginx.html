<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>nginx | Magento 2 Developer Documentation</title>
	<meta name="description" content="Magento 2 Developer Documentation.
">

	<link rel="stylesheet" href="/assets/css/app.css" />
	<link rel="stylesheet" href="/assets/css/print.css" media="print"/>

	<link rel="stylesheet" href="/common/css/devdocs.css" />
<link rel="alternate" type="application/rss+xml" title="Magento DevDocs RSS" href="/feed.xml" />

	<script>
  var baseUrl = "";
  var algolia = {
    id : "E642SEDTHL",
    index:  "devdocs",
    key:  "d2d0f33ab73e291ef8d88d8b565e754c"
  };
</script>



<!-- Google Analytics -->
<style>.async-hide { opacity: 0 !important} </style>
<script>(function(a,s,y,n,c,h,i,d,e){s.className+=' '+y;h.start=1*new Date;
h.end=i=function(){s.className=s.className.replace(RegExp(' ?'+y),'')};
(a[n]=a[n]||[]).hide=h;setTimeout(function(){i();h.end=null},c);h.timeout=c;
})(window,document.documentElement,'async-hide','dataLayer',4000,
{'GTM-ML6GZCH':true});</script>
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-66243208-1', 'auto');
    ga('require', 'GTM-ML6GZCH');
    ga('send', 'pageview');
</script>

<!-- Hotjar Tracking Code for http://devdocs.magento.com/ -->
<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:806243,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>

<!-- heap analytics -->
<script type="text/javascript">
      window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=(r?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n);for(var o=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["addEventProperties","addUserProperties","clearEventProperties","identify","removeEventProperty","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=o(p[c])};
      heap.load("2619540280");
</script>

<script src="//assets.adobedtm.com/98fab992275ef6366cc65f57f86b1e895a66c912/satelliteLib-f90f1129109ea4b2101512675a2769865aa7ea5b.js"></script>




	<link rel="canonical" href="https://devdocs.magento.com/guides/v2.1/install-gde/prereq/nginx.html">

	<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="https://magento.com/favicon.ico">
	<link rel="apple-touch-icon" type="image/png" href="https://magento.com/apple-touch-icon.png">
	<link rel="apple-touch-icon" type="image/png" sizes="57x57" href="https://magento.com/apple-touch-icon-57x57.png">
	<link rel="apple-touch-icon" type="image/png" sizes="72x72" href="https://magento.com/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="https://magento.com/apple-touch-icon-76x76.png">
	<link rel="apple-touch-icon" type="image/png" sizes="114x114" href="https://magento.com/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="https://magento.com/apple-touch-icon-120x120.png">
	<link rel="apple-touch-icon" type="image/png" sizes="144x144" href="https://magento.com/apple-touch-icon-144x144.png">
	<link rel="apple-touch-icon" type="image/png" sizes="152x152" href="https://magento.com/apple-touch-icon-152x152.png">
	<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="https://magento.com/apple-touch-icon-180x180.png">

</head>
<body class="layout-default">

	<header class="site-header">

		<nav class="site-nav">

  <div class="menu-btn">
    <button id="menu-btn" class="menu-trigger menu-icon" aria-haspopup="true" aria-controls="nav-main"></button>
  </div>

  <div class="nav-container">

    <a class="logo" href="/guides/v2.1/">
      <img src="/assets/i/m-logo.svg" alt=""><img src="/assets/i/magento-logo.svg" alt="Magento" class="magento-logo" />
      <span class="site-logo">DevDocs</span>
    </a>

    <div id="nav-main" class="nav-main-wrap" aria-labelledby="menu-btn">
      
<div class="version-switcher dropdown" data-version="2.1">
	<button id="version-switcher-button" class="btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Magento 2.1
	</button>

	<ul class="dropdown-menu dropdown-menu-left" aria-labelledby="version-switcher-button">
		
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.0/install-gde/prereq/nginx.html">Magento 2.0</a></li>
		
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.1/install-gde/prereq/nginx.html">Magento 2.1</a></li>
		
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.2/install-gde/prereq/nginx.html">Magento 2.2</a></li>
		
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.3/install-gde/prereq/nginx.html">Magento 2.3 Alpha</a></li>
		
  </ul>
</div>


      <!-- Main Navigation -->


<ul class="nav-main" role="menubar">




  
  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Cloud</span>

    
      <div class="nav-popup" role="menu" aria-hidden="true">

      

      
        <ul>
        
          
          
            





  
  
  
  <li>
    <a href="/guides/v2.1/cloud/bk-cloud.html">Cloud guide</a>
  </li>



          
        
          
          
            





  
  
  
  <li>
    <a href="/guides/v2.1/cloud/architecture/cloud-architecture.html">Cloud architecture</a>
  </li>



          
        
          
          
            





  
  
  
  <li>
    <a href="/guides/v2.1/cloud/env/environments.html">Configure environments</a>
  </li>



          
        
          
          
            





  
  
  
  <li>
    <a href="/guides/v2.1/cloud/project/project-upgrade-parent.html">Upgrades and patches</a>
  </li>



          
        
          
          
            





  
  
  
  <li>
    <a href="/guides/v2.1/cloud/release-notes/cloud-tools.html">ece-tools release notes</a>
  </li>



          
        
      </ul>
      

      </div>
    

  </li>
  




  
  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Setup</span>

    
      <div class="nav-popup" role="menu" aria-hidden="true">

      

      
        <ul>
        
          
          
            





  
  
  
  <li>
    <a href="/guides/v2.1/install-gde/bk-install-guide.html">Installation Guide</a>
  </li>



          
        
          
          
            





          
        
          
          
            





  
  
  
  <li>
    <a href="/guides/v2.1/comp-mgr/bk-compman-upgrade-guide.html">Component Manager and System Upgrade Guide</a>
  </li>



          
        
          
          
            





  
  
  
  <li>
    <a href="/guides/v2.1/config-guide/bk-config-guide.html">Configuration Guide</a>
  </li>



          
        
          
          
            





          
        
          
          
            





  
  
  
  <li>
    <a href="/guides/v2.1/migration/bk-migration-guide.html">Migration Guide</a>
  </li>



          
        
          
          
            





  
  
  
  <li>
    <a href="/guides/v2.1/cloud/bk-cloud.html">Magento Commerce (Cloud) Guide</a>
  </li>



          
        
          
          
            





  
  
  
  <li>
    <a href="/magento-release-information.html">Release Information</a>
  </li>



          
        
      </ul>
      

      </div>
    

  </li>
  




  
  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Development</span>

    
      <div class="nav-popup" role="menu" aria-hidden="true">

      

      
        
        
          
          
            <div class="nav-section">
              <div class="nav-section-title">Backend</div>
              <ul>
              
                





  
  
  
  <li>
    <a href="/guides/v2.1/architecture/bk-architecture.html">Architecture</a>
  </li>



              
                





  
  
  
  <li>
    <a href="/guides/v2.1/extension-dev-guide/bk-extension-dev-guide.html">PHP Developer Guide</a>
  </li>



              
                





  
  
  
  <li>
    <a href="/guides/v2.1/ext-best-practices/bk-ext-best-practices.html">Extension Developer Best Practices</a>
  </li>



              
                





  
  
  
  <li>
    <a href="/guides/v2.1/mrg/intro.html">Module Reference Guide</a>
  </li>



              
                





  
  
  
  <li>
    <a href="/guides/v2.1/coding-standards/bk-coding-standards.html">Coding Standards</a>
  </li>



              
                





  
  
  
  <li>
    <a href="/guides/v2.1/contributor-guide/contributing.html">Contributor Guide</a>
  </li>



              
              </ul>
            </div>
          
        
          
          
            <div class="nav-section">
              <div class="nav-section-title">Frontend</div>
              <ul>
              
                





  
  
  
  <li>
    <a href="/guides/v2.1/frontend-dev-guide/bk-frontend-dev-guide.html">Frontend Developer Guide</a>
  </li>



              
                







              
                





  
  
  
  <li>
    <a href="/guides/v2.1/ui_comp_guide/bk-ui_comps.html">UI Components Guide</a>
  </li>



              
                





  
  
  
  <li>
    <a href="/guides/v2.1/javascript-dev-guide/bk-javascript-dev-guide.html">JavaScript Developer Guide</a>
  </li>



              
                





  
  
  
  <li>
    <a href="/guides/v2.1/pattern-library/bk-pattern.html">Admin Design Pattern Library</a>
  </li>



              
                





  
  
  
  <li>
    <a href="/guides/v2.1/design-styleguide/bk-styleguide.html">Admin Style Guide</a>
  </li>



              
                







              
              </ul>
            </div>
          
        
          
          
            <div class="nav-section">
              <div class="nav-section-title">API</div>
              <ul>
              
                





  
  
  
  <li>
    <a href="/guides/v2.1/get-started/bk-get-started-api.html">Get Started with Magento Web APIs</a>
  </li>



              
                





  
  
  
  <li>
    <a href="/guides/v2.1/rest/bk-rest.html">REST API Reference</a>
  </li>



              
                





  
  
  
  <li>
    <a href="/guides/v2.1/soap/bk-soap.html">SOAP API Reference</a>
  </li>



              
                







              
                





  
  
  
  <li>
    <a href="/guides/v2.1/marketplace/eqp/api.html">Marketplace EQP API Reference</a>
  </li>



              
                





  
  
  
  <li>
    <a href="https://developers.rjmetrics.com/">Magento BI Import REST API</a>
  </li>



              
              </ul>
            </div>
          
        
      
      

      </div>
    

  </li>
  




  
  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Testing</span>

    
      <div class="nav-popup" role="menu" aria-hidden="true">

      

      
        <ul>
        
          
          
            





  
  
  
  <li>
    <a href="/guides/v2.1/test/testing.html">Magento Testing Guide</a>
  </li>



          
        
          
          
            







          
        
          
          
            







          
        
          
          
            





  
  
  
  <li>
    <a href="/guides/v2.1/mtf/mtf_introduction.html">Functional Testing</a>
  </li>



          
        
          
          
            





  
  
  
  <li>
    <a href="/guides/v2.1/test/integration/integration_test_execution.html">Integration Testing</a>
  </li>



          
        
          
          
            





  
  
  
  <li>
    <a href="/guides/v2.1/test/js/jasmine.html">JavaScript Unit Testing</a>
  </li>



          
        
          
          
            





  
  
  
  <li>
    <a href="/guides/v2.1/test/unit/unit_test_execution.html">PHP Unit Testing</a>
  </li>



          
        
          
          
            





  
  
  
  <li>
    <a href="/guides/v2.1/get-started/web-api-functional-testing.html">Web API Functional Testing</a>
  </li>



          
        
      </ul>
      

      </div>
    

  </li>
  




  
  <li class="nav-main-separator"></li>
  




  
  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Functional Areas</span>

    
      <div class="nav-popup" role="menu" aria-hidden="true">

      

      
        <ul>
        
          
          
            





          
        
          
          
            





          
        
          
          
            





  
  
  
  <li>
    <a href="/guides/v2.1/howdoi/checkout/checkout_overview.html">Checkout</a>
  </li>



          
        
          
          
            





  
  
  
  <li>
    <a href="http://omsdocs.magento.com/en/">Order Management</a>
  </li>



          
        
          
          
            





  
  
  
  <li>
    <a href="/guides/v2.1/payments-integrations/bk-payments-integrations.html">Payment Integrations</a>
  </li>



          
        
          
          
            





  
  
  
  <li>
    <a href="/guides/v2.1/extension-dev-guide/staging.html">Staging</a>
  </li>



          
        
      </ul>
      

      </div>
    

  </li>
  




  
  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Tutorials</span>

    
      <div class="nav-popup" role="menu" aria-hidden="true">

      

      
        <ul>
        
          
          
            





  
  
  
  <li>
    <a href="/guides/v2.1/rest/tutorials/index.html">Rest Tutorials</a>
  </li>



          
        
          
          
            





  
  
  
  <li>
    <a href="/guides/v2.1/howdoi/customize_product.html">Customize Product Creation Form</a>
  </li>



          
        
          
          
            





  
  
  
  <li>
    <a href="/guides/v2.1/howdoi/checkout/checkout_overview.html">Customize Checkout</a>
  </li>



          
        
          
          
            





  
  
  
  <li>
    <a href="/community/resources/support.html">Magento Support</a>
  </li>



          
        
          
          
            





  
  
  
  <li>
    <a href="/videos/">Video Tutorials</a>
  </li>



          
        
      </ul>
      

      </div>
    

  </li>
  



</ul><!-- /.nav-main -->
    </div>

    <div class="search-btn">
      <button class="search-trigger search-icon"></button>
    </div>

    <form class="quick-search" action="/guides/v2.1/search.html" method="get" novalidate="novalidate">
      <input type="search" name="q" placeholder="Search" />
      <button class="quick-search-close">&times;</button>
    </form>

  </div>

</nav><!-- #site-nav -->
<div class="nav-main-fader"></div>


	</header>

	<div class="global-wrapper">

		




		<div class="main-container">
			<a id="main-content"></a>


<div class="content-container">

	<!-- sidebar -->
<aside class="sidebar">
	<a href="#" data-proofer-ignore class="toc-toggler">Table of Contents</a>
	<div class="sidebar-wrapper">

		
		
		<h4 class="guide-title">Installation Guide</h4>
		<div class="collapsible-navigation">
		    <ul>
		    
		    	





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/bk-install-guide.html">How to get the Magento software</a>
  

  
</li>



		    
		    	





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install-flow-diagram.html">Installation flow diagram</a>
  

  
</li>



		    
		    	





  
  
  

  
  
<li class=" ">
  
    <span>Just the basics</span>
  

  
    <ul>
      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/basics/basics_magento-installed.html">Is the Magento software installed already?</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/basics/basics_os-version.html">What operating system is my server running?</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/basics/basics_login.html">How do I log in to my Magento server using a terminal, command prompt, or SSH?</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/basics/basics_module.html">What's the difference between a module and a component?</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/basics/basics_software.html">What is the software that the Magento server needs to run?</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/basics/basics_docroot.html">What is a docroot?</a>
  

  
</li>



      
    </ul>
  
</li>



		    
		    	





  
  
  

  
  
<li class=" ">
  
    <span>Getting Started</span>
  

  
    <ul>
      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install-resources-parent.html">Helpful resources</a>
  

  
    <ul>
      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install-quick-ref.html">Installation quick reference (tutorial)</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install-resource-diagram.html">Installation flow diagram</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install-roadmap_part1.html">Installation roadmap (reference)</a>
  

  
</li>



      
    </ul>
  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/system-requirements2.html">Magento system requirements</a>
  

  
    <ul>
      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/system-requirements-tech.html">Magento technology stack requirements</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/system-requirements_browsers.html">Supported browsers</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <span>Transport Layer Security (TLS) requirements</span>
  

  
    <ul>
      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/system-requirements_tls1-2.html">TLS 1.2 requirement for PayPal</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/system-requirements_repo-tls1-2.html">TLS requirement for repo.magento.com</a>
  

  
</li>



      
    </ul>
  
</li>



      
    </ul>
  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/prereq/prereq-overview.html">Prerequisites</a>
  

  
    <ul>
      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/prereq/apache.html">Apache</a>
  

  
</li>



      
         





  
  
  

  
  
<li class="active ">
  
    <a href="/guides/v2.1/install-gde/prereq/nginx.html">nginx</a>
  

  
</li>



      
         







      
         





  
  
  

  
  
<li class=" ">
  
    <span>PHP</span>
  

  
    <ul>
      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/prereq/php-centos.html">PHP for Centos</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/prereq/php-ubuntu.html">PHP for Ubuntu</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/prereq/php-settings.html">Required PHP settings</a>
  

  
</li>



      
    </ul>
  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/prereq/mysql.html">MySQL</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/prereq/connect-auth.html">Get your authentication keys</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <span>Magento file system ownership and permissions</span>
  

  
    <ul>
      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/prereq/file-sys-perms-over.html">Overview of ownership and permissions</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/prereq/file-system-perms.html">Set pre-installation ownership and permissions</a>
  

  
</li>



      
    </ul>
  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/prereq/install-rabbitmq.html">RabbitMQ (Magento Commerce only)</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/prereq/mysql_remote.html">Set up a remote MySQL database connection</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/prereq/security.html">SELinux and iptables</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/prereq/optional.html">Optional software</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/prereq/prereq_updater.html">Set up the updater</a>
  

  
</li>



      
    </ul>
  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/get-software.html">Get the Magento software</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/composer.html">Install Magento using Composer</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/prereq/zip_install.html">(Easy) Install the Magento archive on your server</a>
  

  
</li>



      
         







      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/prereq/dev_install.html">(Contributor) Clone the Magento repository</a>
  

  
    <ul>
      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/prepare-install.html">Update installation dependencies</a>
  

  
</li>



      
    </ul>
  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/get-help.html">Get help with your installation</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/continue-to-install.html">Install options</a>
  

  
</li>



      
    </ul>
  
</li>



		    
		    	





  
  
  

  
  
<li class=" ">
  
    <span>Setup Wizard Install</span>
  

  
    <ul>
      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install-roadmap_web.html">Installation roadmap (reference)</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/web/install-web-sample-data.html">Install optional sample data modules</a>
  

  
    <ul>
      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/web/install-web-sample-data-composer.html">Install using Composer</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/web/install-web-sample-data-clone.html">Install by cloning repositories</a>
  

  
</li>



      
    </ul>
  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/web/install-web.html">Setup Wizard installation</a>
  

  
    <ul>
      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/web/install-web_1-readiness.html">Step 1. Readiness check</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/web/install-web_2-db.html">Step 2. Add a Database</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/web/install-web_3-web-conf.html">Step 3. Web Configuration</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/web/install-web_4-customize-store.html">Step 4. Customize Your Store</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/web/install-web_5-create-admin.html">Step 5. Create Admin Account</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/web/install-web_6-install.html">Step 6. Install</a>
  

  
</li>



      
    </ul>
  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/continue-to-verify.html">Post-installation</a>
  

  
</li>



      
    </ul>
  
</li>



		    
		    	





  
  
  

  
  
<li class=" ">
  
    <span>Command Line Installation</span>
  

  
    <ul>
      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install-roadmap_cli.html">Installation roadmap (reference)</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/cli/install-cli-sample-data.html">Install optional sample data modules</a>
  

  
    <ul>
      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/cli/install-cli-sample-data-composer.html">Install using Composer</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/cli/install-cli-sample-data-clone.html">Install by cloning repositories</a>
  

  
</li>



      
    </ul>
  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/cli/install-cli.html">Install the Magento software using the command line</a>
  

  
    <ul>
      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/cli/install-cli-subcommands.html">Get started with the command-line installation</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/cli/install-cli-install.html">Install the Magento software</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/cli/install-cli-uninstall.html">Uninstall or reinstall Magento</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/cli/install-cli-adminurl.html">Display or change the Admin URI</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/cli/install-cli-sample-data-other.html">Remove sample data modules or update sample data</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/cli/install-cli-subcommands-enable.html">Enable or disable modules</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/cli/install-cli-uninstall-mods.html">Uninstall modules</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/cli/install-cli-subcommands-deployment.html">Create or update the deployment configuration</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/cli/install-cli-subcommands-maint.html">Enable or disable maintenance mode</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/cli/install-cli-subcommands-db.html">Create the Magento database schema</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/cli/install-cli-subcommands-db-upgr.html">Update the Magento database schema and data</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/cli/install-cli-subcommands-store.html">Configure the store</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/cli/install-cli-subcommands-admin.html">Create, edit, or unlock a Magento administrator account</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/cli/install-cli-backup.html">Back up and roll back the file system, media, and database</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/cli/install-cli-theme-uninstall.html">Uninstall themes Composer packages</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/cli/install-cli-uninstall-langpk.html">Uninstall language packages</a>
  

  
</li>



      
    </ul>
  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/cli/dev_options.html">Contributing developers—update, reinstall Magento</a>
  

  
    <ul>
      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/cli/dev_update-magento.html">Update the Magento application</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/cli/dev_add-update.html">Add or update components</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/cli/dev_downgrade.html">Change to a released version</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/cli/dev_reinstall.html">Reinstall the Magento software</a>
  

  
</li>



      
    </ul>
  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/continue-to-verify_cli.html">Post-installation</a>
  

  
</li>



      
    </ul>
  
</li>



		    
		    	





  
  
  

  
  
<li class=" ">
  
    <span>Post Installation</span>
  

  
    <ul>
      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/verify.html">Verify the installation</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/post-install-config.html">Configure the Magento application</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/post-install-umask.html">Optionally set a umask</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/legacy-file-system-perms.html">Appendix—Magento file system ownership and appendix (legacy)</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/sample-data-after-magento.html">Install sample data after Magento</a>
  

  
    <ul>
      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/sample-data-after-composer.html">Install using Composer</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/install/sample-data-after-clone.html">Install by cloning repositories</a>
  

  
</li>



      
    </ul>
  
</li>



      
    </ul>
  
</li>



		    
		    	





  
  
  

  
  
<li class=" ">
  
    <span>Troubleshooting</span>
  

  
    <ul>
      
         





  
  
  

  
  
<li class=" ">
  
    <span>Access issues</span>
  

  
    <ul>
      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/trouble/tshoot_access-browser.html">Cannot access Magento software in a web browser</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/trouble/php/tshoot_mod_access_compat.html">503 (Service Unavailable) errors accessing Magento software in a web browser</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/trouble/tshoot_no-styles.html">After installing, images and stylesheets do not load; only text displays, no graphics</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/trouble/tshoot_exceptions.html">Exceptions during installation</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/trouble/tshoot_var-gen-perms.html">Cannot write to the var/generation directory</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/trouble/tshoot_install_depend.html">Installation dependencies not met</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/trouble/tshoot_admin.html">Error after logging in to the Magento Admin</a>
  

  
</li>



      
    </ul>
  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <span>Errors during installation</span>
  

  
    <ul>
      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/trouble/php/tshoot_70pct.html">Installation stops at about 70%</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/trouble/php/tshoot_nginx-port.html">Cannot install using nginx</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/trouble/php/tshoot_pdo.html">During installation, fatal PDO error displays</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/trouble/tshoot_wrong-mysql.html">During installation, Reflection Exception error</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/trouble/php/tshoot_session.html">During installation, exception SessionHandler::read()</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/trouble/tshoot_composer-fail.html">Download fails because of changes in Composer</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/trouble/tshoot_bundlesampledata.html">Unknown module Magento_BundleSampleData</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/trouble/tshoot_install-log.html">Installation fails; cannot create install.log</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/trouble/tshoot_sample-data.html">Errors installing optional sample data</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/trouble/php/tshoot_xdebug.html">During installation, xdebug maximum function nesting level error</a>
  

  
</li>



      
    </ul>
  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <span>Readiness check issues</span>
  

  
    <ul>
      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/trouble/readiness/tshoot_rc_depend.html">Component dependency readiness issues</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/trouble/readiness/tshoot_rc_cron.html">cron readiness check issues</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/trouble/readiness/tshoot_rc_perms.html">File permissions readiness check issues</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/trouble/readiness/tshoot_rc_php.html">PHP version readiness check issues</a>
  

  
</li>



      
    </ul>
  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <span>GitHub errors</span>
  

  
    <ul>
      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/trouble/git/tshoot_clone.html">Cannot clone the Magento GitHub repository</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/trouble/git/tshoot_git-pull-origin.html">git pull origin develop fails when updating the Magento software</a>
  

  
</li>



      
    </ul>
  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <span>PHP errors</span>
  

  
    <ul>
      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/trouble/php/tshoot_opcache.html">Resolve an illegal offset error</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/trouble/php/tshoot_php-set.html">PHP settings errors</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/trouble/php/tshoot_mcrypt.html">The PHP mcrypt extension is not installed properly</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/trouble/php/tshoot_php-date.html">During installation, PHP date warning</a>
  

  
</li>



      
    </ul>
  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <span>Other issues</span>
  

  
    <ul>
      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/trouble/tshoot_install-issues.html">Known issues that affect installation</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/trouble/tshoot_mysql_table-open-cache.html">Error 'MySQL server has gone away' during installation</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/trouble/tshoot_segfault.html">Segmentation fault during rollback</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/trouble/php/tshoot_phpini.html">SQLSTATE[HY000] [2002] No such file or directory</a>
  

  
</li>



      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/trouble/tshoot_composer-install.html">Cannot run 'composer install'</a>
  

  
</li>



      
    </ul>
  
</li>



      
    </ul>
  
</li>



		    
		    	





  
  
  

  
  
<li class=" ">
  
    <span>How Tos</span>
  

  
    <ul>
      
         





  
  
  

  
  
<li class=" ">
  
    <a href="/guides/v2.1/install-gde/tutorials/change-docroot-to-pub.html">Modify docroot to improve security</a>
  

  
</li>



      
    </ul>
  
</li>



		    
		    </ul>
		</div>

	</div>

</aside>
<!-- /sidebar -->

	<section class="content">
		<div class="content-wrap">
			<!-- page-header -->
<section class="page-intro">
	

	

	

	<h1 class="page-heading">nginx</h1>

  


</section>

			<p>Magento supports nginx 1.8 (or the <a href="http://nginx.org/en/linux_packages.html#mainline">latest mainline version</a>). You must also install the latest version of <code class="highlighter-rouge">php-fpm</code>.</p>

<p>Installation instructions vary based on which operating system you’re using:</p>

<ul>
  <li><a href="/guides/v2.1/install-gde/prereq/nginx.html#ubuntu-16">Ubuntu 16</a></li>
  <li><a href="/guides/v2.1/install-gde/prereq/nginx.html#centos-7">CentOS 7</a></li>
</ul>

<h2 id="apache-help-beginner">Help if you’re just starting out</h2>

<p>If you’re new to all this and need some help getting started, we suggest the following:</p>

<ul>
  <li><a href="/guides/v2.1/install-gde/basics/basics_magento-installed.html">Is the Magento software installed already?</a></li>
  <li><a href="/guides/v2.1/install-gde/basics/basics_software.html">What is the software that the Magento server needs to run?</a></li>
  <li><a href="/guides/v2.1/install-gde/basics/basics_os-version.html">What operating system is my server running?</a></li>
  <li><a href="/guides/v2.1/install-gde/basics/basics_login.html">How do I log in to my Magento server using a terminal, command prompt, or SSH?</a></li>
</ul>

<h2 id="ubuntu-16">Ubuntu 16</h2>

<p>The following section describes how to install Magento 2.x on Ubuntu 16 using nginx, PHP, and MySQL.</p>

<h3 id="install-nginx">Install nginx</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>apt-get -y install nginx
</code></pre></div></div>

<p>After completing the following sections and <a href="/guides/v2.1/install-gde/prereq/nginx.html#install-magento2-ubuntu">installing Magento</a>, we’ll use a sample configuration file to <a href="/guides/v2.1/install-gde/prereq/nginx.html#configure-nginx-ubuntu">configure nginx</a>.</p>

<h3 id="install-and-configure-php-fpm">Install and configure php-fpm</h3>

<p>Magento requires several <a href="/guides/v2.1/install-gde/prereq/php-ubuntu.html">PHP extensions</a> to function properly. In addition to these extensions, you must also install and configure the <code class="highlighter-rouge">php-fpm</code> extension if you’re using nginx.</p>

<p>To install and configure <code class="highlighter-rouge">php-fpm</code>:</p>

<ol>
  <li>
    <p>Install <code class="highlighter-rouge">php-fpm</code> and <code class="highlighter-rouge">php-cli</code>:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> apt-get -y install php7.0-fpm php7.0-cli
</code></pre></div>    </div>
  </li>
  <li>
    <p>Open the <code class="highlighter-rouge">php.ini</code> files in an editor:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> vim /etc/php/7.0/fpm/php.ini
 vim /etc/php/7.0/cli/php.ini
</code></pre></div>    </div>
  </li>
  <li>
    <p>Edit both files to match the following lines:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> memory_limit = 2G
 max_execution_time = 1800
 zlib.output_compression = On
</code></pre></div>    </div>

    <p class="bs-callout bs-callout-info">We recommend setting the memory limit to 2G when testing Magento. Refer to <a href="/guides/v2.1/install-gde/prereq/php-settings.html">Required PHP settings</a> for more information.</p>
  </li>
  <li>
    <p>Save and exit the editor.</p>
  </li>
  <li>
    <p>Restart the <code class="highlighter-rouge">php-fpm</code> service:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> systemctl restart php7.0-fpm
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="install-and-configure-mysql">Install and configure MySQL</h3>

<p>Refer to <a href="/guides/v2.1/install-gde/prereq/mysql.html">MySQL</a> for more information.</p>

<h3 id="install-magento2-ubuntu">Install and configure Magento2</h3>

<p>There are several ways to download the Magento software, including:</p>

<ul>
  <li>
    <p><a href="/guides/v2.1/install-gde/composer.html">Get the Composer metapackage</a></p>
  </li>
  <li>
    <p><a href="/guides/v2.1/install-gde/prereq/zip_install.html">Download an archive</a></p>
  </li>
  <li>
    <p><a href="/guides/v2.1/install-gde/prereq/dev_install.html">Clone the git repository</a></p>
  </li>
</ul>

<p>For this example, we’ll install using Composer and the command line.</p>

<p class="bs-callout bs-callout-info">You cannot use the Web Setup Wizard when installing Magento on nginx. You must use the command line.</p>

<ol>
  <li>
    <p>As the <a href="/guides/v2.1/install-gde/prereq/file-sys-perms-over.html">Magento file system owner</a>, log in to your Magento server.</p>
  </li>
  <li>
    <p>Change to the web server docroot directory or a directory that you have configured as a virtual host docroot. For this example, we’re using the Ubuntu default <code class="highlighter-rouge">/var/www/html</code>.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd /var/www/html
</code></pre></div>    </div>
  </li>
  <li>
    <p>Install Composer globally. You’ll need Composer to update dependencies before installing Magento:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -sS https://getcomposer.org/installer | sudo php -- --install-dir=/usr/bin --filename=composer
</code></pre></div>    </div>
  </li>
  <li>
    <p>Create a new Composer project using the Magento Open Source or Magento Commerce metapackage.</p>

    <p><strong>Magento Open Source</strong></p>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> composer create-project <span class="nt">--repository</span><span class="o">=</span>https://repo.magento.com/ magento/project-community-edition &lt;install-directory-name&gt;
</code></pre></div>    </div>

    <p><strong>Magento Commerce</strong></p>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> composer create-project <span class="nt">--repository</span><span class="o">=</span>https://repo.magento.com/ magento/project-enterprise-edition &lt;install-directory-name&gt;
</code></pre></div>    </div>

    <p>When prompted, enter your <a href="/guides/v2.1/install-gde/prereq/connect-auth.html">Magento authentication keys</a>. Your <em>public key</em> is your username; your <em>private key</em> is your password.</p>
  </li>
  <li>
    <p>Set read-write permissions for the web server group before you install the Magento software. This is necessary so that the Setup Wizard and command line can write files to the Magento file system.</p>

    <div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp"> cd /var/www/html/&lt;magento install directory&gt;</span>
<span class="gp"> find var generated vendor pub/static pub/media app/etc -type f -exec chmod g+w {} \;</span>
<span class="gp"> find var generated vendor pub/static pub/media app/etc -type d -exec chmod g+ws {} \;</span>
<span class="go"> chown -R :www-data . // Ubuntu
 chmod u+x bin/magento
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>Install Magento from the <a href="/guides/v2.1/install-gde/install/cli/install-cli.html">command line</a>. This example assumes that the Magento install directory is named <code class="highlighter-rouge">magento2ee</code>, the <code class="highlighter-rouge">db-host</code> is on the same machine (<code class="highlighter-rouge">localhost</code>), and that the <code class="highlighter-rouge">db-name</code>, <code class="highlighter-rouge">db-user</code>, and <code class="highlighter-rouge">db-password</code> are all <code class="highlighter-rouge">magento</code>:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> bin/magento setup:install <span class="se">\</span>
 <span class="nt">--base-url</span><span class="o">=</span>http://localhost/magento2ee <span class="se">\</span>
 <span class="nt">--db-host</span><span class="o">=</span>localhost <span class="se">\</span>
 <span class="nt">--db-name</span><span class="o">=</span>magento <span class="se">\</span>
 <span class="nt">--db-user</span><span class="o">=</span>magento <span class="se">\</span>
 <span class="nt">--db-password</span><span class="o">=</span>magento <span class="se">\</span>
 <span class="nt">--backend-frontname</span><span class="o">=</span>admin <span class="se">\</span>
 <span class="nt">--admin-firstname</span><span class="o">=</span>admin <span class="se">\</span>
 <span class="nt">--admin-lastname</span><span class="o">=</span>admin <span class="se">\</span>
 <span class="nt">--admin-email</span><span class="o">=</span>admin@admin.com <span class="se">\</span>
 <span class="nt">--admin-user</span><span class="o">=</span>admin <span class="se">\</span>
 <span class="nt">--admin-password</span><span class="o">=</span>admin123 <span class="se">\</span>
 <span class="nt">--language</span><span class="o">=</span>en_US <span class="se">\</span>
 <span class="nt">--currency</span><span class="o">=</span>USD <span class="se">\</span>
 <span class="nt">--timezone</span><span class="o">=</span>America/Chicago <span class="se">\</span>
 <span class="nt">--use-rewrites</span><span class="o">=</span>1
</code></pre></div>    </div>
  </li>
  <li>
    <p>Switch to developer mode:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> cd /var/www/html/magento2/bin  ./magento deploy:mode:set developer
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="configure-nginx-ubuntu">Configure nginx</h3>

<p>We recommend configuring nginx using the <code class="highlighter-rouge">nginx.conf.sample</code> configuration file provided in the Magento installation directory and an nginx virtual host.</p>

<p>These instructions assume you’re using the Ubuntu default location for the nginx virtual host (e.g., <code class="highlighter-rouge">/etc/nginx/sites-available</code>) and Ubuntu default docroot (e.g., <code class="highlighter-rouge">/var/www/html</code>), however, you can change these locations to suit your environment.</p>

<ol>
  <li>
    <p>Create a new virtual host for your Magento site:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> vim /etc/nginx/sites-available/magento
</code></pre></div>    </div>
  </li>
  <li>
    <p>Add the following configuration:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> upstream fastcgi_backend {
     server unix:/run/php/php7.0-fpm.sock;
 }

 server {

     listen 80;
     server_name www.magento-dev.com;
     set $MAGE_ROOT /var/www/html/magento2;
     include /var/www/html/magento2/nginx.conf.sample;
 }
</code></pre></div>    </div>

    <p class="bs-callout bs-callout-info">The <code class="highlighter-rouge">include</code> directive must point to the sample nginx configuration file in your Magento installation directory.</p>
  </li>
  <li>
    <p>Replace <code class="highlighter-rouge">www.magento-dev.com</code> with your domain name. This must match the base URL you specified when installing Magento.</p>
  </li>
  <li>
    <p>Save and exit the editor.</p>
  </li>
  <li>
    <p>Activate the newly created virtual host by creating a symlink to it in the <code class="highlighter-rouge">/etc/nginx/sites-enabled</code> directory:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> ln -s /etc/nginx/sites-available/magento /etc/nginx/sites-enabled
</code></pre></div>    </div>
  </li>
  <li>
    <p>Verify that the syntax is correct:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> nginx -t
</code></pre></div>    </div>
  </li>
  <li>
    <p>Restart nginx:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> systemctl restart nginx
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="verify-the-installation">Verify the installation</h3>

<p>Open a web browser and navigate to your site’s base URL to <a href="/guides/v2.1/install-gde/install/verify.html">verify the installation.</a></p>

<h2 id="centos-7">CentOS 7</h2>

<p>The following section describes how to install Magento 2.x on CentOS 7 using nginx, PHP, and MySQL.</p>

<h3 id="install-nginx-1">Install nginx</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yum -y install epel-release
yum -y install nginx
</code></pre></div></div>

<p>After installation is complete, start nginx and configure it to start at boot time:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>systemctl start nginx
systemctl enable nginx
</code></pre></div></div>

<p>After completing the following sections and <a href="/guides/v2.1/install-gde/prereq/nginx.html#install-magento2-centos">installing Magento</a>, we’ll use a sample configuration file to <a href="/guides/v2.1/install-gde/prereq/nginx.html#configure-nginx-centos">configure nginx</a>.</p>

<h3 id="install-and-configure-php-fpm-1">Install and configure php-fpm</h3>

<p>Magento requires several <a href="/guides/v2.1/install-gde/prereq/php-centos.html">PHP extensions</a> to function properly. In addition to these extensions, you must also install and configure the <code class="highlighter-rouge">php-fpm</code> extension if you’re using nginx.</p>

<ol>
  <li>
    <p>Install <code class="highlighter-rouge">php-fpm</code>:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> yum -y install php70w-fpm
</code></pre></div>    </div>
  </li>
  <li>
    <p>Open the <code class="highlighter-rouge">/etc/php.ini</code> file in an editor.</p>
  </li>
  <li>
    <p>Uncomment the <code class="highlighter-rouge">cgi.fix_pathinfo</code> line and change the value to <code class="highlighter-rouge">0</code>.</p>
  </li>
  <li>
    <p>Edit the file to match the following lines:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> memory_limit = 2G
 max_execution_time = 1800
 zlib.output_compression = On
</code></pre></div>    </div>

    <p class="bs-callout bs-callout-info">We recommend setting the memory limit to 2G when testing Magento. Refer to <a href="/guides/v2.1/install-gde/prereq/php-settings.html">Required PHP settings</a> for more information.</p>
  </li>
  <li>
    <p>Uncomment the session path directory and set the path:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> session.save_path = "/var/lib/php/session"
</code></pre></div>    </div>
  </li>
  <li>
    <p>Save and exit the editor.</p>
  </li>
  <li>
    <p>Open <code class="highlighter-rouge">/etc/php-fpm.d/www.conf</code> in an editor.</p>
  </li>
  <li>
    <p>Edit the file to match the following lines:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> user = nginx
 group = nginx
 listen = /run/php-fpm/php-fpm.sock
 listen.owner = nginx
 listen.group = nginx
 listen.mode = 0660
</code></pre></div>    </div>
  </li>
  <li>
    <p>Uncomment the environment lines:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> env[HOSTNAME] = $HOSTNAME
 env[PATH] = /usr/local/bin:/usr/bin:/bin
 env[TMP] = /tmp
 env[TMPDIR] = /tmp
 env[TEMP] = /tmp
</code></pre></div>    </div>
  </li>
  <li>
    <p>Save and exit the editor.</p>
  </li>
  <li>
    <p>Create a new directory for the PHP session path and change the owner to the <code class="highlighter-rouge">apache</code> user and group:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mkdir -p /var/lib/php/session/
chown -R apache:apache /var/lib/php/
</code></pre></div>    </div>
  </li>
  <li>
    <p>Create a new directory for the PHP session path and change the owner to the <code class="highlighter-rouge">apache</code> user and group:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mkdir -p /run/php-fpm/
chown -R apache:apache /run/php-fpm/
</code></pre></div>    </div>
  </li>
  <li>
    <p>Start the <code class="highlighter-rouge">php-fpm</code> service and configure it to start at boot time:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>systemctl start php-fpm
systemctl enable php-fpm
</code></pre></div>    </div>
  </li>
  <li>
    <p>Verify that the <code class="highlighter-rouge">php-fpm</code> service is running:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>netstat -pl | grep php-fpm.sock
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="install-and-configure-mysql-1">Install and configure MySQL</h3>

<p>Refer to <a href="/guides/v2.1/install-gde/prereq/mysql.html">MySQL</a> for more information.</p>

<h3 id="install-magento2-centos">Install and configure Magento2</h3>

<p>There are several ways to download the Magento software, including:</p>

<ul>
  <li>
    <p><a href="/guides/v2.1/install-gde/prereq/zip_install.html">Download an archive</a></p>
  </li>
  <li>
    <p><a href="/guides/v2.1/install-gde/composer.html">Get the Composer metapackage</a></p>
  </li>
  <li>
    <p><a href="/guides/v2.1/install-gde/prereq/dev_install.html">Clone the git repository</a></p>
  </li>
</ul>

<p>For this example, we’ll download and extract an archive.</p>

<ol>
  <li>
    <p>Change to the web server docroot directory, or to a directory you’ve configured as a virtual host docroot. For this example, we’re using the CentoOS default <code class="highlighter-rouge">/usr/share/nginx/html</code>.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> cd /usr/share/nginx/html
</code></pre></div>    </div>
  </li>
  <li>
    <p>Download the Magento archive, extract it, and rename the folder <code class="highlighter-rouge">magento2/</code>:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> wget https://github.com/magento/magento2/archive/2.1.tar.gz
 tar -xzvf 2.1.tar.gz
 mv magento2-2.1/ magento2/
</code></pre></div>    </div>
  </li>
  <li>
    <p><a href="/guides/v2.1/install-gde/prereq/file-system-perms.html">Set directory ownership and file permissions</a>.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> cd /usr/share/nginx/html/magento2
 find var vendor pub/static pub/media app/etc -type f -exec chmod g+w {} \;
 find var vendor pub/static pub/media app/etc -type d -exec chmod g+ws {} \;
 chown -R :apache .
 chmod u+x bin/magento
</code></pre></div>    </div>
  </li>
  <li>
    <p>Install Composer globally. You’ll need Composer to update dependencies before installing Magento:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> curl -sS https://getcomposer.org/installer | sudo php -- --install-dir=/usr/bin --filename=composer
</code></pre></div>    </div>
  </li>
  <li>
    <p>Update Magento dependencies:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> cd /usr/share/nginx/html/magento2
 composer install
</code></pre></div>    </div>
  </li>
  <li>
    <p>If prompted, enter your <a href="/guides/v2.1/install-gde/prereq/connect-auth.html">Magento authentication keys</a>.</p>
  </li>
  <li>
    <p>Install Magento from the <a href="/guides/v2.1/install-gde/install/cli/install-cli.html">command line</a>.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> cd /usr/share/nginx/html/magento2/bin
 ./magento setup:install --base-url=http://www.magento-dev.com/ \
 --db-host=localhost --db-name=magento --db-user=magento --db-password=magento \
 --admin-firstname=Magento --admin-lastname=User --admin-email=user@example.com \
 --admin-user=admin --admin-password=admin123 --language=en_US \
 --currency=USD --timezone=America/Chicago --use-rewrites=1
</code></pre></div>    </div>

    <p>Replace <code class="highlighter-rouge">http://www.magento-dev.com</code> with your domain name.</p>

    <p class="bs-callout bs-callout-info">You cannot use the Web Setup Wizard when installing Magento on nginx. You must use the command line.</p>
  </li>
  <li>
    <p>Switch Magento to developer mode:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> cd /usr/share/nginx/html/magento2/bin
 ./magento deploy:mode:set developer
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="configure-nginx-centos">Configure nginx</h3>

<p>We recommend configuring nginx using the <code class="highlighter-rouge">nginx.conf.sample</code> configuration file provided in the Magento installation directory and an nginx virtual host.</p>

<p>These instructions assume you’re using the CentOS default location for the nginx virtual host (e.g., <code class="highlighter-rouge">/etc/nginx/conf.d</code>) and default docroot (e.g., <code class="highlighter-rouge">/usr/share/nginx/html</code>), however, you can change these locations to suit your environment.</p>

<ol>
  <li>
    <p>Create a new virtual host for your Magento site:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> vim /etc/nginx/conf.d/magento.conf
</code></pre></div>    </div>
  </li>
  <li>
    <p>Add the following configuration:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> upstream fastcgi_backend {
     server unix:/run/php-fpm/php-fpm.sock;
 }

 server {

     listen 80;
     server_name www.magento-dev.com;
     set $MAGE_ROOT /usr/share/nginx/html/magento2;
     include /usr/share/nginx/html/magento2/nginx.conf.sample;
 }
</code></pre></div>    </div>

    <p class="bs-callout bs-callout-info">The <code class="highlighter-rouge">include</code> directive must point to the sample nginx configuration file in your Magento installation directory.</p>
  </li>
  <li>
    <p>Replace <code class="highlighter-rouge">www.magento-dev.com</code> with your domain name.</p>
  </li>
  <li>
    <p>Save and exit the editor.</p>
  </li>
  <li>
    <p>Verify that the syntax is correct:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> nginx -t
</code></pre></div>    </div>
  </li>
  <li>
    <p>Restart nginx:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> systemctl restart nginx
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="configure-selinux-and-firewalld">Configure SELinux and Firewalld</h3>

<p>SELinux is enabled by default on CentOS 7. Use the following command to see if it’s running:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sestatus
</code></pre></div></div>

<p>To configure SELinux and firewalld:</p>

<ol>
  <li>
    <p>Install SELinux management tools:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> yum -y install policycoreutils-python
</code></pre></div>    </div>
  </li>
  <li>
    <p>Run the following commands to change the security context for the Magento installation directory:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> semanage fcontext -a -t httpd_sys_rw_content_t '/usr/share/nginx/html/magento2/app/etc(/.*)?'
 semanage fcontext -a -t httpd_sys_rw_content_t '/usr/share/nginx/html/magento2/var(/.*)?'
 semanage fcontext -a -t httpd_sys_rw_content_t '/usr/share/nginx/html/magento2/pub/media(/.*)?'
 semanage fcontext -a -t httpd_sys_rw_content_t '/usr/share/nginx/html/magento2/pub/static(/.*)?'
 restorecon -Rv '/usr/share/nginx/html/magento2/'
</code></pre></div>    </div>
  </li>
  <li>
    <p>Install the firewalld package:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> yum -y install firewalld
</code></pre></div>    </div>
  </li>
  <li>
    <p>Start the firewall service and configure it to start at boot time:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> systemctl start firewalld
 systemctl enable firewalld
</code></pre></div>    </div>
  </li>
  <li>
    <p>Run the following commands to open ports for HTTP and HTTPS so you can access the Magento base URL from a web browser:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> firewall-cmd --permanent --add-service=http
 firewall-cmd --permanent --add-service=https
 firewall-cmd --reload
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="verify-the-installation-1">Verify the installation</h3>

<p>Open a web browser and navigate to your site’s base URL to <a href="/guides/v2.1/install-gde/install/verify.html">verify the installation.</a></p>

<h4 id="related-topics">Related topics:</h4>

<ul>
  <li><a href="/guides/v2.1/install-gde/prereq/php-ubuntu.html">PHP 5.5, 5.6, or 7.0—Ubuntu</a></li>
  <li><a href="/guides/v2.1/install-gde/prereq/php-centos.html">PHP 5.5, 5.6, or 7.0—CentOS</a></li>
  <li><a href="/guides/v2.1/install-gde/prereq/mysql.html">MySQL</a></li>
  <li><a href="/guides/v2.1/install-gde/prereq/security.html">Configuring security options</a></li>
  <li><a href="/guides/v2.1/install-gde/prereq/optional.html">Installing optional software</a></li>
  <li><a href="/guides/v2.1/install-gde/bk-install-guide.html">Determine your installation or upgrade path</a></li>
</ul>

			
		</div>
		<!-- /.content-wrap -->

		<div class="page-info">

  


  

    <div class="github-link">
      <a class="improve-page" href="https://github.com/magento/devdocs/blob/master/guides/v2.1/install-gde/prereq/nginx.md" target="_blank">
        Edit this page on GitHub
      </a>
    </div>

    <div class="new-issue">
      <a href="https://github.com/magento/devdocs/issues/new?title=Feedback on page: /guides/v2.1/install-gde/prereq/nginx.html" target="_blank">
        Give us feedback
      </a>
    </div>

  

</div>


	</section>
	<!-- /.content -->

</div> <!-- /.content-container -->


	</div>
	<!-- /.main-container -->
</div>
<!-- /#gl-wrapper -->

<!-- footer-->
<div class="page-footer">
  <div class="container">

    <div class="copyright-links">
      <ul class="nav footer-links">
  <li><a href="https://github.com/magento/devdocs/blob/master/.github/CONTRIBUTING.md">Become a Contributor</a>
  <li><a href="https://magento.github.io/glossary/index.html?audience=developer">Glossary</a></li>
  <li><a href="http://magento.com/legal/terms/privacy/">Privacy Policy</a></li>
  <li><a href="http://magento.com/legal/terms/">Terms of Service</a></li>
  <li><a href="http://magento.com/legal/licensing/">License/Trademark FAQ</a></li>
  <li><a href="/guides/v2.1/release-notes/bk-release-notes.html">Release Notes</a></li>
  <li><a href="/magento-third-party.html">Third-Party Licenses</a></li>
</ul>

    </div>

		<div class="copyright-date">&copy; 2018 Magento. All rights reserved.</div>

  </div>
</div>
<!-- / #footer -->


<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="/assets/js/app.min.js"></script>





<script type="text/javascript">
    (function() {
        var didInit = false;
        function initMunchkin() {
            if(didInit === false) {
                didInit = true;
                Munchkin.init('585-GGD-959', {cookieAnon: false});
            }
        }
        var s = document.createElement('script');
        s.type = 'text/javascript';
        s.async = true;
        s.src = '//munchkin.marketo.net/munchkin.js';
        s.onreadystatechange = function() {
            if (this.readyState == 'complete' || this.readyState == 'loaded') {
                initMunchkin();
            }
        };
        s.onload = initMunchkin;
        document.getElementsByTagName('head')[0].appendChild(s);
    })();
</script>

<script type="text/javascript">_satellite.pageBottom();</script>




</body>
</html>

