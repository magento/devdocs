<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>Magento ownership and permissions in development and production</title>
	<meta name="description" content="Magento 2 Developer Documentation.
">
	<meta http-equiv="last-modified" content="" />

	<link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,700,600,300,800' rel='stylesheet' type='text/css'>

	<link rel="stylesheet" href="/css/app.css" />
	<link rel="stylesheet" href="/css/print.css" media="print" />
	<link rel="canonical" href="//guides/v2.1/config-guide/prod/prod_file-sys-perms.html">

  <script>
    var baseUrl = "/";
  </script>

	<!-- crazyegg -->
	<script type="text/javascript">
	setTimeout(function(){var a=document.createElement("script");
	var b=document.getElementsByTagName("script")[0];
	a.src=document.location.protocol+"//script.crazyegg.com/pages/scripts/0038/0321.js?"+Math.floor(new Date().getTime()/3600000);
	a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
	</script>

</head>
<body>

<header class="site-header">

	<nav id="global-nav">

		<div class="menu-btn"><a class="menu-trigger menu-icon" href="#"></a></div>

		<div class="container">

			<a class="logo" href="/"><img src="/i/m-logo.svg" alt=""><img src="/i/magento-logo.svg" alt="Magento" class="magento-logo" /><img src="/i/devdocs-logo.svg" alt="Devdocs" class="devdocs-logo" /></a>

			
<div class="version-switcher dropdown">
	<button class="btn dropdown-toggle" data-toggle="dropdown">
		Magento 2.1
	</button>

	<ul class="dropdown-menu dropdown-menu-left">
	
		<li><a class="dropdown-item" href="/guides/v2.0/config-guide/prod/prod_file-sys-perms.html">Magento 2.0</a></li>
	
		<li><a class="dropdown-item" href="/guides/v2.1/config-guide/prod/prod_file-sys-perms.html">Magento 2.1</a></li>
	
  </ul>

</div>



			<!-- Main Navigation -->
<div class="nav-main">
  <ul>
    <li class="first">
      <a href="#">Setup and Deployment</a>
        <ul class="menu nav">
          <li><a href="https://magento.com/tech-resources/download" target="_blank">Get Started with Magento DevBox Beta</a></li>
            <li><a href="/guides/v2.1/install-gde/bk-install-guide.html">Installation Guide</a></li>
          
          <li class="leaf"><a href="/guides/v2.1/comp-mgr/bk-compman-upgrade-guide.html">Component Manager and System Upgrade Guide</a></li>
          
          <li class="leaf"><a href="/guides/v2.1/config-guide/bk-config-guide.html">Configuration Guide</a></li>
          <li class="leaf"><a href="/guides/v2.1/migration/bk-migration-guide.html">Migration Guide</a></li>
          <li class="leaf"><a href="/guides/v2.1/cloud/bk-cloud.html">Enterprise Cloud Edition Guide</a></li>
          <li class="leaf"><a href="/magento-release-information.html">Release Information</a></li>
        </ul>
    </li>

    <li>
        <a href="#">Development</a>
        <ul class="menu nav">
          <li class="leaf"><a href="/guides/v2.1/extension-dev-guide/bk-extension-dev-guide.html">PHP Developer Guide</a></li>
          <li class="leaf"><a href="/guides/v2.1/ext-best-practices/bk-ext-best-practices.html">Extension Developer Best Practices</a></li>
          <li><a href="/guides/v2.1/payments-integrations/bk-payments-integrations.html">Payments Integrations</a></li>
          <li class="leaf"><a href="/guides/v2.1/architecture/bk-architecture.html">Magento Architecture</a></li>
          <li class="leaf"><a href="/guides/v2.1/mrg/intro.html">Module Reference Guide</a></li>
          <li class="leaf"><a href="/guides/v2.1/coding-standards/bk-coding-standards.html">Coding Standards</a></li>
          
          <li class="leaf"><a href="/guides/v2.1/extension-dev-guide/staging.html">Staging</a></li>
          
          <li class="first leaf"><a href="/guides/v2.1/contributor-guide/contributing.html">Contributor Guide</a></li>
        </ul>
    </li>

    <li>
        <a href="#">Frontend</a>
        <ul class="menu nav">
          <li class="first leaf"><a href="/guides/v2.1/frontend-dev-guide/bk-frontend-dev-guide.html">Frontend Developer Guide</a></li>
          
          <li class="leaf"><a href="/guides/v2.1/ui_comp_guide/bk-ui_comps.html">UI Components Guide</a></li>
          
          <li class="leaf"><a href="/guides/v2.1/javascript-dev-guide/bk-javascript-dev-guide.html">JavaScript Developer Guide</a></li>
          <li class="leaf"><a href="/guides/v2.1/pattern-library/bk-pattern.html">Admin Design Pattern Library</a></li>
          <li class="leaf"><a href="/guides/v2.1/design-styleguide/bk-styleguide.html">Admin Style Guide</a></li>
        </ul>
    </li>

    <li>
        <a href="#">API</a>
        <ul class="menu nav">
          <li class="leaf"><a href="/guides/v2.1/get-started/bk-get-started-api.html">Get Started with Magento Web APIs</a></li>
          <li class="leaf"><a href="/guides/v2.1/rest/bk-rest.html">REST API Reference</a></li>
          <li class="leaf"><a href="/guides/v2.1/soap/bk-soap.html">SOAP API Reference</a></li>
        </ul>
    </li>

    <li>
        <a href="#">Testing</a>
        <ul class="menu nav">
          <li class="leaf"><a href="/guides/v2.1/test/testing.html">Magento Testing Guide</a></li>
          <li class="leaf"><a href="/guides/v2.1/mtf/mtf_introduction.html">Functional Testing</a></li>
          <li class="leaf"><a href="/guides/v2.1/test/integration/integration_test_execution.html">Integration Testing</a></li>
          <li class="leaf"><a href="/guides/v2.1/test/js/jasmine.html">JavaScript Unit Testing</a></li>
          <li class="leaf"><a href="/guides/v2.1/test/unit/unit_test_execution.html">PHP Unit Testing</a></li>
          <li class="leaf"><a href="/guides/v2.1/get-started/web-api-functional-testing.html">Web API Functional Testing</a></li>
        </ul>
    </li>

    <li>
      <a href="/guides/v2.1/howdoi/bk-how-do-i.html">How Tos</a>
    </li>
  </ul>
</div><!-- /.nav-main -->


			<div class="search-btn">
				<a class="search-trigger search-icon" href="/search.html"></a>
			</div>

			<form class="quick-search" action="/search.html" method="get">
				<input type="search" name="q" placeholder="Search" />
				<a href="#" class="quick-search-close">&times;</a>
			</form>





		</div>

	</nav><!-- #global-nav -->

</header>
<div class="nav-main-fader"></div>


<div id="gl-wrapper">

	<!-- .main-container -->
	<div class="main-container">
		<a id="main-content"></a>


<div class="container">

	<!-- sidebar -->
<aside class="sidebar">
	<a href="#" class="toc-toggler">Table of Contents</a>
	<div class="sidebar-wrapper">


<h4>Configuration Guide</h4>






		<ul>

		

		

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

					
					

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.1/config-guide/bk-config-guide.html">Introduction</a></li>
									
								

									


								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.1/config-guide/secy/secy.html">Security settings</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/secy/secy-cron.html">Secure cron.php to run in a browser</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/secy/secy-xframe.html">X-Frame-Options header</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/secy/secy-headers.html">Prevent cache poisoning</a></li>

									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.1/config-guide/bootstrap/magento-bootstrap.html">Magento application initialization and bootstrap</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/bootstrap/magento-how-to-set.html">Set the value of bootstrap parameters</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/bootstrap/magento-modes.html">About Magento modes</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/bootstrap/mage-dirs.html">Customize base directory paths (MAGE_DIRS)</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/bootstrap/mage-profiler.html">Enable profiling (MAGE_PROFILER)</a></li>

									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.1/config-guide/cli/config-cli.html">Command line configuration</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/cli/config-cli-subcommands.html">Get started with command-line configuration</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/cli/config-cli-subcommands-cache.html">Manage the cache</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/cli/config-cli-subcommands-index.html">Manage the indexers</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/cli/config-cli-subcommands-cron.html">Configure and run cron</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/cli/config-cli-subcommands-compiler.html">Code compiler</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/cli/config-cli-subcommands-mode.html">Set the Magento mode</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/cli/config-cli-subcommands-urn.html">URN highlighter</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/cli/config-cli-subcommands-depen.html">Dependency reports</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/cli/config-cli-subcommands-i18n.html">Translation dictionaries and language packages</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/cli/config-cli-subcommands-static-view.html">Deploy static view files</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/cli/config-cli-subcommands-less-sass.html">Create symlinks to LESS files</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/cli/config-cli-subcommands-test.html">Run unit tests</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/cli/config-cli-subcommands-layout-xml.html">Convert layout XML files</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/cli/config-cli-subcommands-perf-data.html">Generate data for performance testing</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/cli/config-cli-subcommands-spt-util.html">Run the support utilities (Enterprise Edition only)</a></li>

									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.1/config-guide/log/log-intro.html">Custom logging</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/log/log-magento.html">Magento logging in more detail</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/log/log-db.html">Example&mdash;logging database activity</a></li>

									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.1/config-guide/config/config-magento.html">Magento configuration files</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/config/config-php.html">Magento's deployment configuration</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/config/config-files.html">Module configuration files</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/config/config-create.html">Create or extend configuration types</a></li>

									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.1/config-guide/cache/caching.html">Caching</a></li>
									
								

									


								

									

										<li class="level3Parent " id="cache-types"><a href="#">Cache types</a>


									

								

									


											<li class="level3Child cache-types " data-menunode="cache-types"><a href="/guides/v2.1/config-guide/cache/caching_frontend-cache-types.html">Associate cache frontends with cache types</a>


									

								

									


											<li class="level3Child cache-types " data-menunode="cache-types"><a href="/guides/v2.1/config-guide/cache/caching_low-level.html">Low-level cache options</a>


									

								

									


											<li class="level3Child cache-types " data-menunode="cache-types"><a href="/guides/v2.1/config-guide/cache/caching-database.html">Database caching</a>


									

								

									


											<li class="level3Child cache-types " data-menunode="cache-types"><a href="/guides/v2.1/config-guide/cache/caching-cache-type.html">Create a cache type</a>


									

								

									

										<li class="level3Parent " id="cache-priv"><a href="#">Magento page caching</a>


									

								

									


											<li class="level3Child cache-priv " data-menunode="cache-priv"><a href="/guides/v2.1/config-guide/cache/cache-priv-over.html">Page caching overview</a>


									

								

									


											<li class="level3Child cache-priv " data-menunode="cache-priv"><a href="/guides/v2.1/config-guide/cache/cache-priv-priv.html">Public and private content</a>


									

								

									


											<li class="level3Child cache-priv " data-menunode="cache-priv"><a href="/guides/v2.1/config-guide/cache/cache-priv-context.html">HTTP context</a>


									

								

									


											<li class="level3Child cache-priv " data-menunode="cache-priv"><a href="/guides/v2.1/config-guide/cache/cache-priv-inval.html">Cache invalidation and private content versioning</a>


									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.1/config-guide/redis/config-redis.html">Configure Redis</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/redis/redis-pg-cache.html">Use Redis for page caching</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/redis/redis-session.html">Use Redis for session storage</a></li>

									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.1/config-guide/varnish/config-varnish.html">Configure and use Varnish</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/varnish/config-varnish-install.html">Install Varnish</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/varnish/config-varnish-configure.html">Configure Varnish and your web server</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/varnish/config-varnish-magento.html">Configure Magento to use Varnish</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/varnish/config-varnish-final.html">Final verification</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/varnish/use-varnish-cache.html">How Magento cache clearing works with Varnish</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/varnish/use-varnish-cache-how.html">How Varnish caching works</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/varnish/tshoot-varnish-503.html">Troubleshooting 503 (Backend Fetch Failed) errors</a></li>

									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.1/config-guide/memcache/memcache.html">Use memcached for session storage</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/memcache/memcache_ubuntu.html">Install, configure, verify memcached on Ubuntu</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/memcache/memcache_centos.html">Install, configure, verify memcached on CentOS</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/memcache/memcache_magento.html">Configure Magento to use memcached</a></li>

									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.1/config-guide/cron/custom-cron.html">Set up a custom cron job and cron group</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/cron/custom-cron-ref.html">Custom cron job and cron group reference</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/cron/custom-cron-tut.html">Configure a custom cron job and cron group (tutorial)</a></li>

									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.1/config-guide/db-profiler/db-profiler.html">Configure the database profiler</a></li>
									
								

									


								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.1/config-guide/elasticsearch/es-overview.html">Install and configure Elasticsearch (Enterprise Edition only)</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/elasticsearch/es-config-nginx.html">Configure nginx and Elasticsearch</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/elasticsearch/es-config-apache.html">Configure Apache and Elasticsearch</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/elasticsearch/es-config-stopwords.html">Configure Elasticsearch stopwords</a></li>

									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.1/config-guide/mq/rabbitmq-overview.html">Message Queues (Enterprise Edition only)</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/mq/config-mq.html">Configure message queues</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/mq/manage-mysql.html">MySQL message queues</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/mq/queue-migration.html">Migrate message queue configuration</a></li>

									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.1/config-guide/solr/solr-overview.html">Install and configure Solr (Enterprise Edition only)</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/solr/solr-magento.html">Configure Solr and Magento</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/solr/solr-script.html">Prepare Solr for production</a></li>

									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.1/config-guide/multi-master/multi-master.html">Split database performance solution (Enterprise Edition only)</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/multi-master/multi-master_masterdb.html">Automatically configure master databases</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/multi-master/multi-master_manual.html">Manually configure master databases</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/multi-master/multi-master_verify.html">Verify split databases</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/multi-master/multi-master_slavedb.html">Set up optional database replication</a></li>

									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.1/config-guide/multi-site/ms_over.html">Multiple websites or stores</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/multi-site/ms_websites.html">Set up multiple websites, stores, and store views in the Admin</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/multi-site/ms_nginx.html">Set up multiple websites or stores with nginx (tutorial)</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/multi-site/ms_apache.html">Set up multiple websites with Apache (tutorial)</a></li>

									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.1/config-guide/sessions.html">How to locate your session files</a></li>
									
								

									


								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.1/config-guide/prod/prod.html">Deploy Magento to production</a></li>
									
								

									


								

									

									<li class="level-2  active "><a href="/guides/v2.1/config-guide/prod/prod_file-sys-perms.html">Magento ownership and permissions in development and production</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/config-guide/prod/prod_deploy.html">Deployment steps</a></li>

									

								




						

					


				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

		</ul>

	</div>
</aside>
<!-- /sidebar -->


	<section class="content">
		<div class="content-wrap">
			<!-- page-header -->
<section class="page-intro">
	

  <nav class="breadcrumbs">

    <a class="breadcrumb-item" href="/"><span>Home</span></a>

    <ol class="breadcrumb list-unstyled" vocab="http://schema.org/" typeof="BreadcrumbList">

    <!-- Iteration breadcrumb item -->
    
    
    

      <!-- Skip if root -->
      


      <!-- Get breadcrumb title. Insert snippet from configuration description to translates breadcrumb if language plugin is installed and YAML subset is set -->
      

      <!-- SEO data -->
      

      <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
        <a property="item" typeof="WebPage" href="/guides/v2.1/config-guide/bk-config-guide.html"><span property="name">Configuration Guide</span></a>
        <meta property="position" content="1" />
      </li>

    

      <!-- Skip if root -->
      


      <!-- Get breadcrumb title. Insert snippet from configuration description to translates breadcrumb if language plugin is installed and YAML subset is set -->
      

      <!-- SEO data -->
      

      <li class="breadcrumb-item active" property="itemListElement" typeof="ListItem">
        <span property="name">Magento ownership and permissions in development and production</span>
        <meta property="position" content="2" />
      </li>

    

    </ol>

  </nav>


	
	<h1 class="page-heading">Magento ownership and permissions in development and production</h1>

  


</section>

			<h2 id="mage-owner">Overview of development and production file system ownership and permissions</h2>
<p>This section discusses how to set up the owner or owners of the Magento file system for a development and production system. Before you continue, review the concepts discussed in <a href="/guides/v2.1/install-gde/prereq/file-sys-perms-over.html">Overview of file system ownership and permissions</a>.</p>

<p>This topic focuses on Magento development and production systems. If you’re installing Magento, see <a href="/guides/v2.1/install-gde/prereq/file-system-perms.html">Set pre-installation ownership and permissions</a>.</p>

<p>The sections that follow discuss requirements for one or two Magento file system owners. That means:</p>

<ul>
  <li>
    <p>One user:  Typically, shared hosting providers enable you to log in to the server as one user. This user can log in, transfer files using FTP, and this user also runs the web server.</p>
  </li>
  <li>
    <p>Two users: You must have two users if you <em>cannot</em> log in to the server as, or switch to, the web server user. This type of setup is typical in private hosting or if you have your own Magento server.</p>

    <p>Instead, you have separate users:</p>

    <ul>
      <li>
        <p>The web server user, which runs the Magento Admin (including Setup Wizard) and storefront.</p>
      </li>
      <li>
        <p>A <em>command-line user</em>, which is a local user account you can use to log in to the server. This user runs Magento cron jobs and command-line utilities.</p>
      </li>
    </ul>
  </li>
</ul>

<p id="mage-owner-one"></p>
<div class="collapsible collapsible-h2"><h2 class="collapsible-title">Production file system ownership for shared hosting (one user) </h2><div class="collapsible-content"><p>To use the one-owner setup, you must log in to your Magento server as the same user that runs the web server. This is typical for shared hosting.</p>

<p>Because having one file system owner is less secure, we recommend you deploy Magento in production on a private server instead of on shared hosting, if possible.</p>

<h3 id="mage-owner-one-devel">Set up one owner for default or developer mode</h3>
<p>In default or developer mode, the following directories must be writable by the user:</p>

<ul>
  <li><code>vendor</code> (Composer or compressed archive installation)</li>
  <li><code>app/etc</code></li>
  <li><code>pub/static</code></li>
  <li><code>var</code></li>
  <li>Any other static resources</li>
  <li><code>var/generation</code></li>
  <li><code>var/di</code></li>
  <li><code>var/view_preprocessed</code></li>
</ul>

<p>You can set these permissions using either the command line or a file manager application provided by your shared hosting provider.</p>

<h3 id="mage-owner-one-prod">Set up one owner for production mode</h3>
<p>When you’re ready to deploy your site to production, you should remove write access from files in the following directories for improved security:</p>

<ul>
  <li><code>vendor</code> (Composer or compressed archive installation)</li>
  <li><code>app/code</code> (<abbr title="Developers who contribute code to the Magento 2 CE codebase">contributing developers</abbr> only)</li>
  <li><code>app/etc</code></li>
  <li><code>pub/static</code></li>
  <li>Any other static resources</li>
  <li><code>var/generation</code></li>
  <li><code>var/di</code></li>
  <li><code>var/view_preprocessed</code></li>
</ul>

<p>To update components, install new components, or to upgrade the Magento software, all of the preceding directories must be read-write.</p>

<h4 id="make-files-and-directories-read-only">Make files and directories read-only</h4>
<p>To remove writable permissions to files and directories from the web server user’s group:</p>

<ol>
  <li>Log in to your Magento server.</li>
  <li>Change to your Magento installation directory.</li>
  <li>
    <p>Enter the following command to change to production mode:</p>

    <pre><code>php bin/magento deploy:mode:set production
</code></pre>
  </li>
  <li>
    <p>Enter the following commands:</p>

    <pre><code>find var vendor pub/static app/etc var/generation var/di var/view_preprocessed -type f -exec chmod u-w {} \;
find var vendor pub/static app/etc var/generation var/di var/view_preprocessed -type d -exec chmod u-w {} \;
chmod o-rwx app/etc/env.php
chmod u+x bin/magento
</code></pre>

    <p>You can optionally enter all the preceding commands as one command:</p>

    <pre><code>find pub/static app/etc var/generation var/di var/view_preprocessed -type f -exec chmod u-w {} \; &amp;&amp; find pub/static app/etc var/generation var/di var/view_preprocessed -type d -exec chmod u-w {} \; &amp;&amp; chmod o-rwx app/etc/env.php &amp;&amp; chmod u+x bin/magento
</code></pre>

    <div class="bs-callout bs-callout-info" id="info">
  		<p>If you're a <abbr title="A developer who contributes code to the Magento 2 CE codebase">contributing developer</abbr>, replace <code>vendor</code> with <code>app/code</code> in the preceding commands. (A <abbr title="A developer who contributes code to the Magento 2 CE codebase">contributing developer</abbr> <a href="/guides/v2.1/install-gde/prereq/dev_install.html">clones the Magento 2 GitHub repository</a> so they can contribute to our codebase.)</p>
</div>
  </li>
</ol>

<h4 id="make-files-and-directories-writable">Make files and directories writable:</h4>
<p>To make files and directories writable so you can update components and upgrade the Magento software:</p>

<ol>
  <li>Log in to your Magento server.</li>
  <li>Change to your Magento installation directory.</li>
  <li>
    <p>Enter the following commands:</p>

    <pre><code>chmod -R u+w .
</code></pre>

    <div class="bs-callout bs-callout-info" id="info">
  	If you’re a <abbr title="A developer who contributes code to the Magento 2 CE codebase">contributing developer</abbr>, replace <code>vendor</code> with <code>app/code</code> in the preceding commands. (A <abbr title="A developer who contributes code to the Magento 2 CE codebase">contributing developer</abbr> <a href="/guides/v2.1/install-gde/prereq/dev_install.html">clones the Magento 2 GitHub repository</a> so they can contribute to our codebase.)
    </div>
  </li>
</ol>
</div></div>

<p id="mage-owner-two"></p>
<div class="collapsible collapsible-h2"><h2 class="collapsible-title">Production file system ownership for private hosting (two users) </h2><div class="collapsible-content"><p>If you use your own server (including a hosting provider’s private server setup), there are two users:</p>

<ul>
  <li>
    <p>The web server user, which runs the Magento Admin (including the Setup Wizard) and storefront.</p>

    <p>Linux systems typically do not provide a shell for this user; you cannot log in to the Magento server as, or switch to, the web server user.</p>
  </li>
  <li>
    <p>The command-line user, which you log in to your Magento server as or switch to.</p>

    <p>Magento uses this user to run Magento CLI commands and cron.</p>

    <div class="bs-callout bs-callout-info" id="info">
      <p>The command-line user is also referred to as the <em>Magento file system owner</em>.</p>
    </div>
  </li>
</ul>

<p>Because these users require access to the same files, we recommend you create a <a href="/guides/v2.1/install-gde/prereq/file-system-perms.html#mage-owner-about-group">shared group</a> to which they both belong. The following procedures assume you have already done this.</p>

<p>See one of the following sections:</p>

<ul>
  <li><a href="#mage-owner-two-devel">Two Magento file system owners in developer or default mode</a></li>
  <li><a href="#mage-owner-two-prod">Two Magento file system owners in production mode</a></li>
</ul>

<h3 id="mage-owner-two-devel">Set up two owners for default or developer mode</h3>
<p>Files in the following directories must be writable by both users in developer and default mode:</p>

<ul>
  <li><code>var</code></li>
  <li><code>pub/static</code></li>
  <li><code>pub/media</code></li>
  <li><code>app/etc</code></li>
</ul>

<p>Set the <a href="http://linuxg.net/how-to-set-the-setuid-and-setgid-bit-for-files-in-linux-and-unix/" target="_blank"><code>setgid</code></a> bit on directories so permissions always inherit from the parent directory.</p>

<div class="bs-callout bs-callout-info" id="info">
 	<p><code>setgid</code> applies to directories only, <em>not</em> to files.</p>
</div>

<p>In addition, the directories should be writable by the web server group. Because content might already exist in these directories, add the permissions recursively.</p>

<h4 id="set-permissions-and-setgid">Set permissions and <code>setgid</code></h4>
<p>To set <code>setgid</code> and permissions for developer mode:</p>

<ol>
  <li>Log in to your Magento server as, or switch to, the Magento file system owner.</li>
  <li>
    <p>Enter the following commands in the order shown:</p>

    <pre><code>cd &lt;your Magento install dir&gt;
find var pub/static pub/media app/etc -type f -exec chmod g+w {} \;
find var pub/static pub/media app/etc -type d -exec chmod g+ws {} \;
</code></pre>
  </li>
</ol>

<h3 id="mage-owner-two-prod">Two Magento file system owners in production mode</h3>
<p>When you’re ready to deploy your site to production, you should remove write access from files in the following directories for improved security:</p>

<ul>
  <li><code>vendor</code> (Composer or compressed archive installation)</li>
  <li><code>app/code</code> (<abbr title="Developers who contribute code to the Magento 2 CE codebase">contributing developers</abbr> only)</li>
  <li><code>app/etc</code></li>
  <li><code>lib</code></li>
  <li><code>pub/static</code></li>
  <li>Any other static resources</li>
  <li><code>var/generation</code></li>
  <li><code>var/di</code></li>
  <li><code>var/view_preprocessed</code></li>
</ul>

<h4 id="make-files-and-directories-read-only">Make files and directories read-only</h4>
<p>To remove writable permissions to files and directories from the web server user’s group:</p>

<ol>
  <li>Log in to your Magento server.</li>
  <li>Change to your Magento installation directory.</li>
  <li>
    <p>As the Magento file system owner, enter the following command to change to production mode:</p>

    <pre><code>php bin/magento deploy:mode:set production
</code></pre>
  </li>
  <li>
    <p>Enter the following commands as a user with <code>root</code> privileges:</p>

    <pre><code>find pub/static app/etc var/generation var/di var/view_preprocessed -type f -exec chmod g-w {} \;
find pub/static app/etc var/generation var/di var/view_preprocessed -type d -exec chmod g-w {} \;
chmod o-rwx app/etc/env.php
</code></pre>

    <p>You can optionally enter all the preceding commands as one command:</p>

    <pre><code>find pub/static app/etc var/generation var/di var/view_preprocessed -type f -exec chmod g-w {} \; &amp;&amp; find pub/static app/etc var/generation var/di var/view_preprocessed -type d -exec chmod g-w {} \; &amp;&amp; chmod o-rwx app/etc/env.php
</code></pre>

    <div class="bs-callout bs-callout-info" id="info">
  		<p>If you're a <abbr title="A developer who contributes code to the Magento 2 CE codebase">contributing developer</abbr>, replace <code>vendor</code> with <code>app/code</code> in the preceding commands. (A <abbr title="A developer who contributes code to the Magento 2 CE codebase">contributing developer</abbr> <a href="/guides/v2.1/install-gde/prereq/dev_install.html">clones the Magento 2 GitHub repository</a> so they can contribute to our codebase.)</p>
</div>
  </li>
</ol>

<h4 id="make-files-and-directories-writable">Make files and directories writable:</h4>
<p>To make files and directories writable so you can update components and upgrade the Magento software:</p>

<ol>
  <li>Log in to your Magento server.</li>
  <li>Change to your Magento installation directory.</li>
  <li>
    <p>Enter the following commands:</p>

    <pre><code>find var vendor lib pub/static pub/media app/etc -type f -exec chmod g+w {} \;
find var vendor lib pub/static pub/media app/etc -type d -exec chmod g+w {} \;
chmod o+rwx app/etc/env.php
</code></pre>

    <p>You can optionally enter all the preceding commands as one command as follows:</p>

    <pre><code>find var vendor lib pub/static pub/media app/etc -type f -exec chmod g+w {} \; &amp;&amp; find var vendor lib pub/static pub/media app/etc -type d -exec chmod g+w {} \; &amp;&amp; chmod o+rwx app/etc/env.php
</code></pre>

    <div class="bs-callout bs-callout-info" id="info">
  		<p>If you're a <abbr title="A developer who contributes code to the Magento 2 CE codebase">contributing developer</abbr>, replace <code>vendor</code> with <code>app/code</code> in the preceding commands. (A <abbr title="A developer who contributes code to the Magento 2 CE codebase">contributing developer</abbr> <a href="/guides/v2.1/install-gde/prereq/dev_install.html">clones the Magento 2 GitHub repository</a> so they can contribute to our codebase.)</p>
</div>
  </li>
</ol>
</div></div>

<div>

  <h2 id="mage-owner-umask">Optionally set <code>magento_umask</code></h2>
  <p>The web server group must have write permissions to certain directories in the Magento file system; however, you might want tighter security, especially in production. We provide the flexibility for you to further restrict those permissions using a <a href="http://www.cyberciti.biz/tips/understanding-linux-unix-umask-value-usage.html" target="_blank">umask</a>.</p>

  <p>Our solution is to enable you to optionally create a file named <code>magento_umask</code> in your Magento root directory that restricts permissions for the web server group and everyone else.</p>

  <div class="bs-callout bs-callout-info" id="info">
  <p>We recommend changing the umask on a one-user or shared hosting system only. If you have a private Magento server, the group must have write access to the Magento file system; the umask removes write access from the group.</p>
</div>

  <p>The default umask (with no <code>magento_umask</code> specified) is <code>002</code>, which means:</p>

  <ul>
    <li>
      <p>775 for directories, which means full control by the user, full control by the group, and enables everyone to traverse the directory. These permissions are typically required by shared hosting providers.</p>
    </li>
    <li>
      <p>664 for files, which means writable by the user, writable by the group, and read-only for everyone else</p>
    </li>
  </ul>

  <p>A common suggestion is to use a value of <code>022</code> in the <code>magento_umask</code> file, which means:</p>

  <ul>
    <li>755 for directories: full control for the user, and everyone else can traverse directories.</li>
    <li>644 for files: read-write permissions for the user, and read-only for everyone else.</li>
  </ul>

  <p>To set <code>magento_umask</code>:</p>

  <ol>
    <li>Log in to your Magento server, or switch to, the <a href="/guides/v2.1/install-gde/prereq/file-sys-perms-over.html">Magento file system owner</a>.</li>
    <li>
      <p>Set the value of <code>magento_umask</code>:</p>

      <ol>
        <li>Use a text editor to create a new file <code>&lt;your Magento install dir&gt;/magento_umask</code></li>
        <li>
          <p>Set <code>magento_umask</code> to the desired value.</p>

          <p>For example, <code>022</code></p>
        </li>
      </ol>
    </li>
    <li>Save your changes to <code>magento_umask</code> and exit the text editor.</li>
  </ol>

</div>

		</div>
		<!-- /.content-wrap -->

		<div class="page-info">

			

			
			 <div class="github-link">
				 <a class="improve-page" href="https://github.com/magento/devdocs/tree/develop/guides/v2.0/config-guide/prod/prod_file-sys-perms.md" target="_blank">
					 Edit this page on GitHub
				 </a>
			 </div>
			

			<div class="new-issue">
				<a href="https://github.com/magento/devdocs/issues/new?title=&body=Feedback on page: /guides/v2.1/config-guide/prod/prod_file-sys-perms.html" target="_blank">Give us feedback</a>
			</div>

		</div>

	</section>
	<!-- /.content -->

</div> <!-- /.container -->


	</div>
	<!-- /.main-container -->

</div>
<!-- /#gl-wrapper -->

<!-- footer-->
<div id="footer">
  <div class="container">

    <div class="copyright-links">
      <ul class="nav">
				<li><a href="/guides/v2.1/contributor-guide/contributing_docs.html">Become a Contributor</a>
        <li><a href="http://magento.com/legal/terms/privacy/">Privacy Policy</a></li>
        <li><a href="http://magento.com/legal/terms/">Terms of Service</a></li>
        <li><a href="http://magento.com/legal/licensing/">License/Trademark FAQ</a></li>
        <li><a href="/guides/v2.1/release-notes/bk-release-notes.html">Release Notes</a></li>
				<li><a href="/magento-third-party.html">Third-Party Licenses</a></li>
      </ul>
    </div>

		<div class="copyright-date">&copy; 2017 Magento. All rights reserved.</div>

  </div>
</div>
<!-- / #footer -->

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
<script src="/common/js/app.min.js"></script>

<script type="text/javascript">
    (function() {
        var didInit = false;
        function initMunchkin() {
            if(didInit === false) {
                didInit = true;
                Munchkin.init('585-GGD-959', {cookieAnon: false});
            }
        }
        var s = document.createElement('script');
        s.type = 'text/javascript';
        s.async = true;
        s.src = '//munchkin.marketo.net/munchkin.js';
        s.onreadystatechange = function() {
            if (this.readyState == 'complete' || this.readyState == 'loaded') {
                initMunchkin();
            }
        };
        s.onload = initMunchkin;
        document.getElementsByTagName('head')[0].appendChild(s);
    })();
</script>



<!--Google Analytics-->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-66243208-1', 'auto');
    ga('send', 'pageview');
</script>


</body>
</html>

