<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>Template Literals in UI Components</title>
	<meta name="description" content="Magento 2 Developer Documentation.
">
	<meta http-equiv="last-modified" content="" />

	<link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,700,600,300,800' rel='stylesheet' type='text/css'>

	<link rel="stylesheet" href="/css/app.css" />
	<link rel="stylesheet" href="/css/print.css" media="print" />
	<link rel="canonical" href="//guides/v2.1/ui_comp_guide/concepts/ui_comp_template_literals.html">

  <script>
    var baseUrl = "/";
  </script>

	<!-- crazyegg -->
	<script type="text/javascript">
	setTimeout(function(){var a=document.createElement("script");
	var b=document.getElementsByTagName("script")[0];
	a.src=document.location.protocol+"//script.crazyegg.com/pages/scripts/0038/0321.js?"+Math.floor(new Date().getTime()/3600000);
	a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
	</script>

</head>
<body>

<header class="site-header">

	<nav id="global-nav">

		<div class="menu-btn"><a class="menu-trigger menu-icon" href="#"></a></div>

		<div class="container">

			<a class="logo" href="/"><img src="/i/m-logo.svg" alt=""><img src="/i/magento-logo.svg" alt="Magento" class="magento-logo" /><img src="/i/devdocs-logo.svg" alt="Devdocs" class="devdocs-logo" /></a>

			
<div class="version-switcher dropdown">
	<button class="btn dropdown-toggle" data-toggle="dropdown">
		Magento 2.1
	</button>

	<ul class="dropdown-menu dropdown-menu-left">
	
		<li><a class="dropdown-item" href="/guides/v2.0/ui_comp_guide/concepts/ui_comp_template_literals.html">Magento 2.0</a></li>
	
		<li><a class="dropdown-item" href="/guides/v2.1/ui_comp_guide/concepts/ui_comp_template_literals.html">Magento 2.1</a></li>
	
  </ul>

</div>



			<!-- Main Navigation -->
<div class="nav-main">
  <ul>
    <li class="first">
      <a href="#">Setup and Deployment</a>
        <ul class="menu nav">
            <li><a href="/guides/v2.1/install-gde/bk-install-guide.html">Installation Guide</a></li>
          
          <li class="leaf"><a href="/guides/v2.1/comp-mgr/bk-compman-upgrade-guide.html">Component Manager and System Upgrade Guide</a></li>
          
          <li class="leaf"><a href="/guides/v2.1/config-guide/bk-config-guide.html">Configuration Guide</a></li>
          <li class="leaf"><a href="/guides/v2.1/migration/bk-migration-guide.html">Migration Guide</a></li>
          <li class="leaf"><a href="/guides/v2.1/cloud/bk-cloud.html">Enterprise Cloud Edition Guide</a></li>
          <li class="leaf"><a href="/magento-release-information.html">Release Information</a></li>
        </ul>
    </li>

    <li>
        <a href="#">Development</a>
        <ul class="menu nav">
          <li class="leaf"><a href="/guides/v2.1/extension-dev-guide/bk-extension-dev-guide.html">PHP Developer Guide</a></li>
          <li class="leaf"><a href="/guides/v2.1/ext-best-practices/bk-ext-best-practices.html">Extension Developer Best Practices</a></li>
          <li><a href="/guides/v2.1/payments-integrations/bk-payments-integrations.html">Payments Integrations</a></li>
          <li class="leaf"><a href="/guides/v2.1/architecture/bk-architecture.html">Magento Architecture</a></li>
          <li class="leaf"><a href="/guides/v2.1/mrg/intro.html">Module Reference Guide</a></li>
          <li class="leaf"><a href="/guides/v2.1/coding-standards/bk-coding-standards.html">Coding Standards</a></li>
          
          <li class="leaf"><a href="/guides/v2.1/extension-dev-guide/staging.html">Staging</a></li>
          
          <li class="first leaf"><a href="/guides/v2.1/contributor-guide/contributing.html">Contributor Guide</a></li>
        </ul>
    </li>

    <li>
        <a href="#">Frontend</a>
        <ul class="menu nav">
          <li class="first leaf"><a href="/guides/v2.1/frontend-dev-guide/bk-frontend-dev-guide.html">Frontend Developer Guide</a></li>
          
          <li class="leaf"><a href="/guides/v2.1/ui_comp_guide/bk-ui_comps.html">UI Components Guide</a></li>
          
          <li class="leaf"><a href="/guides/v2.1/javascript-dev-guide/bk-javascript-dev-guide.html">JavaScript Developer Guide</a></li>
          <li class="leaf"><a href="/guides/v2.1/pattern-library/bk-pattern.html">Admin Design Pattern Library</a></li>
          <li class="leaf"><a href="/guides/v2.1/design-styleguide/bk-styleguide.html">Admin Style Guide</a></li>
        </ul>
    </li>

    <li>
        <a href="#">API</a>
        <ul class="menu nav">
          <li class="leaf"><a href="/guides/v2.1/get-started/bk-get-started-api.html">Get Started with Magento Web APIs</a></li>
          <li class="leaf"><a href="/guides/v2.1/rest/bk-rest.html">REST API Reference</a></li>
          <li class="leaf"><a href="/guides/v2.1/soap/bk-soap.html">SOAP API Reference</a></li>
        </ul>
    </li>

    <li>
        <a href="#">Testing</a>
        <ul class="menu nav">
          <li class="leaf"><a href="/guides/v2.1/test/testing.html">Magento Testing Guide</a></li>
          <li class="leaf"><a href="/guides/v2.1/mtf/mtf_introduction.html">Functional Testing</a></li>
          <li class="leaf"><a href="/guides/v2.1/test/integration/integration_test_execution.html">Integration Testing</a></li>
          <li class="leaf"><a href="/guides/v2.1/test/js/jasmine.html">JavaScript Unit Testing</a></li>
          <li class="leaf"><a href="/guides/v2.1/test/unit/unit_test_execution.html">PHP Unit Testing</a></li>
          <li class="leaf"><a href="/guides/v2.1/get-started/web-api-functional-testing.html">Web API Functional Testing</a></li>
        </ul>
    </li>

    <li>
      <a href="/guides/v2.1/howdoi/bk-how-do-i.html">How Tos</a>
    </li>
  </ul>
</div><!-- /.nav-main -->


			<div class="search-btn">
				<a class="search-trigger search-icon" href="/search.html"></a>
			</div>

			<form class="quick-search" action="/search.html" method="get">
				<input type="search" name="q" placeholder="Search" />
				<a href="#" class="quick-search-close">&times;</a>
			</form>





		</div>

	</nav><!-- #global-nav -->

</header>
<div class="nav-main-fader"></div>


<div id="gl-wrapper">

	<!-- .main-container -->
	<div class="main-container">
		<a id="main-content"></a>


<div class="container">

	<!-- sidebar -->
<aside class="sidebar">
	<a href="#" class="toc-toggler">Table of Contents</a>
	<div class="sidebar-wrapper">


<h4>UI Components Guide</h4>






		<ul>

		

		

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

					
					

					

						

						

							

								<li class="q "><a href="/guides/v2.1/ui_comp_guide/bk-ui_comps.html">Overview of UI components</a></li>

							

								<li class="q "><a href="/guides/v2.1/ui_comp_guide/ui_component_explained.html">UI component explained</a></li>

							

								<li class="q "><a href="/guides/v2.1/ui_comp_guide/ui_comp_list_concept.html">A list of Magento UI components</a></li>

							

								<li class="q "><a href="/guides/v2.1/ui_comp_guide/ui_comp_outline_proposed.html">UI Components Guide outline (proposed)</a></li>

							

						

					

						

						

							


								


								

									

										<li class="levela1"><span class="nav-header">components</span></li>

									


								

									

									<li class="level-2 "><a href="/guides/v2.1/ui_comp_guide/components/ui-form.html">Form component</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/ui_comp_guide/components/ui-listing-grid.html">Listing/Grid component</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/ui_comp_guide/components/ui-modal.html">Modal component</a></li>

									

								




						

					

						

						

							


								


								

									

										<li class="levela1"><span class="nav-header">concepts</span></li>

									


								

									

									<li class="level-2 "><a href="/guides/v2.1/ui_comp_guide/concepts/ui_comp_architecture_concept.html">Architecture structure of UI components</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/ui_comp_guide/concepts/ui_comp_config_flow_concept.html">Configuration flow of UI components</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/ui_comp_guide/concepts/ui_comp_data_source.html">Providing Data to UI Components</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/ui_comp_guide/concepts/ui_comp_xmldeclaration_concept.html">About XML сonfiguration of UI сomponents</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/ui_comp_guide/concepts/ui_comp_modifier_concept.html">About PHP modifiers in UI components</a></li>

									

								

									

									<li class="level-2  active "><a href="/guides/v2.1/ui_comp_guide/concepts/ui_comp_template_literals.html">Template Literals</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/ui_comp_guide/concepts/ui_comp_uiclass_concept.html">About the uiClass library</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/ui_comp_guide/concepts/ui_comp_uielement_concept.html">About the uiElement class</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/ui_comp_guide/concepts/ui_comp_uicollection_concept.html">About the uiCollection class</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/ui_comp_guide/concepts/ui_comp_uilayout_concept.html">About the uiLayout service module</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/ui_comp_guide/concepts/ui_comp_linking_concept.html">Linking properties of UI components</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/ui_comp_guide/concepts/ui_comp_requirejs_concept.html">About AMD modules and RequireJS</a></li>

									

								




						

					

						

						

							


								


								

									

										<li class="levela1"><span class="nav-header">troubleshoot</span></li>

									


								

									

									<li class="level-2 "><a href="/guides/v2.1/ui_comp_guide/troubleshoot/ui_comp_troubleshoot_js.html">Debug UI components JavaScript</a></li>

									

								




						

					


				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

		</ul>

	</div>
</aside>
<!-- /sidebar -->


	<section class="content">
		<div class="content-wrap">
			<!-- page-header -->
<section class="page-intro">
	

  <nav class="breadcrumbs">

    <a class="breadcrumb-item" href="/"><span>Home</span></a>

    <ol class="breadcrumb list-unstyled" vocab="http://schema.org/" typeof="BreadcrumbList">

    <!-- Iteration breadcrumb item -->
    
    
    

      <!-- Skip if root -->
      


      <!-- Get breadcrumb title. Insert snippet from configuration description to translates breadcrumb if language plugin is installed and YAML subset is set -->
      

      <!-- SEO data -->
      

      <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
        <a property="item" typeof="WebPage" href="/guides/v2.1/ui_comp_guide/bk-ui_comps.html"><span property="name">UI Components</span></a>
        <meta property="position" content="1" />
      </li>

    

      <!-- Skip if root -->
      


      <!-- Get breadcrumb title. Insert snippet from configuration description to translates breadcrumb if language plugin is installed and YAML subset is set -->
      

      <!-- SEO data -->
      

      <li class="breadcrumb-item active" property="itemListElement" typeof="ListItem">
        <span property="name">Template Literals in UI Components</span>
        <meta property="position" content="2" />
      </li>

    

    </ol>

  </nav>


	
	<h1 class="page-heading">Template Literals in UI Components</h1>

  


</section>

			<h1 id="template-literals-in-magento">Template Literals in Magento</h1>

<p>Magento provides for the use of template literals in UI components. Template literals are strings that can contain embedded expressions. They were introduced into Javascript with ES2015 and were called “template strings” in early editions of the ES2015 / ES6 specification. Since it is a relatively new part of Javascript, some browsers, such as Internet Explorer 11, do not support the specification. Per the specification standard, back-ticks (<code>`</code>) are used instead of a single quote (<code>'</code>) or double quote (<code>"</code>) to delineate a template string. Due to the lack of browser support, Magento has a Javascript class that will parse certain strings with a single quote (<code>'</code>) in the same way a browser that supports the specification would parse one with back-ticks.</p>

<p>Template literals can contain expressions which will be evaluated in the current KnockoutJS context. These expressions can contain nearly any valid Javascript. They must start with a dollar sign and be surrounded with curly braces. <strong>Anything inside the following will be evaluated as an expression</strong>: <code>${  }</code>. For example, they can be used—and often are—to access properties of the KnockoutJS context like this: <code>'${ $.submitUrl }'</code>. They can be used to call functions (<code>'${ $.loadForm($.formUrl) }'</code>), or whatever: <code>'${ 20 + 13 }'</code>. These expressions are parsed in <code>/lib/web/mage/utils/template.js</code>.</p>

<p>Template literals allow UI Components to easily assign dynamic values to class properties. More specifically, they provide an integration layer between a particular KnockoutJS context and a Javascript class.</p>

<h3 id="the-defaults-class-property">The <code>defaults</code> Class Property</h3>

<p>UI Components are <a href="http://devdocs.magento.com/guides/v2.1/ui_comp_guide/concepts/ui_comp_uiclass_concept.html">associated with Javascript classes</a> to handle behavior on the client side. These should extend one of the core classes to provide a base level of functionality. Inside the child class, a <code>defaults</code> property can be provided.</p>

<p>The <code>defaults</code> property should be an object and is handled in a special way. Each property of <code>defaults</code> becomes a class property upon initialization. This happens in the <code>initConfig()</code> method of <code>lib/core/class.js</code>. Every item in <code>defaults</code> is passed through a <code>template()</code> function which evaluates template literals.</p>

<p>As a result, every <code>defaults</code> child property is handled with what could be viewed as a two step process:</p>

<ol>
  <li>Evaluate the value of the property for expressions. For example: <code>'${ $.submitUrl }'</code> could become <code>'https://example.com/contact/form/submit/'</code> (more on that later).</li>
  <li>Assign that property/value to the class itself. As a result <code>class.defaults.submitUrl</code> would become <code>class.submitUrl</code>.</li>
</ol>

<p>This part is important because it means that Javascript classes that extend <code>Class</code> (<code>magento/module-ui/view/base/web/js/lib/core/class.js</code>) can use the <code>defaults</code> property to assign properties to the class itself and leverage template literals during that process without any work on your part.</p>

<h4 id="the--separator">The <code>:</code> separator</h4>

<p>Certain properties of the <code>defaults</code> object are processed by an additional core Javascript class: <code>links.js</code> (located: <code>magento/module-ui/view/base/web/js/lib/core/element/links.js</code>). The object keys in <code>defaults</code> are:</p>

<ul>
  <li><code>links</code></li>
  <li><code>imports</code></li>
  <li><code>exports</code></li>
</ul>

<p>They can be used to interact with other UI Component Javascript classes. While the full use of them is a separate topic, those values can use a colon (<code>:</code>) to separate an expression, which should evaluate to a UI Component’s name, from the properties to be accessed in that class. Take this example: <code>'${ $.provider }:user.theme'</code>. If the <code>${ $.provider }</code> expression evaluates to the name of a UI Component that is currently in the registry, that component will be loaded and the value of its <code>user.theme</code> property returned.</p>

<p>As a result, a template literal used in the value of one the objects listed above can be used to succinctly access data from an <em>entirely different</em> UI Component Javascript class.</p>

<h3 id="template-literal--context">Template Literal <code>$</code> context</h3>

<p>Perhaps the most important part of template literals in Magento is the <code>$</code> object that can be used inside expressions. (Remember an expression is anything within <code>${ }</code>.) The <code>$</code> provides access to the <code>this</code> context in the Javascript class where the template literals are. To take it a step further, <code>this</code> (and the related <code>$</code>) is the KnockoutJS context for the template that can be bound to the UI Component. This object should not be confused with the <code>$</code> that marks the beginning of an expression. The <code>$</code> object can only appear inside of an expression. Here is an example: <code>${ $.submitUrl }</code>: the <code>$</code> references the current KnockoutJS context, and <code>.submitUrl</code> will return the <code>provider</code> property from that object.</p>

<h2 id="example">Example</h2>

<p>Perhaps the most useful aspect of template literals is the ability to access other UI Component Javascript classes in the registry so we will use this as an example. First, there are a few things to explain.</p>

<p>UI Components can have a <code>&lt;item name="config" xsi:type="array"&gt;...&lt;/item&gt;</code> node in the primary XML declaration file (<a href="http://devdocs.magento.com/guides/v2.1/ui_comp_guide/concepts/ui_comp_xmldeclaration_concept.html#example-of-a-top-level-configuration-file">see an example</a>). In that file, a <code>component</code> element can be added with a path reference to the RequireJS file. That file is loaded into the registry when it runs on the front end and other Javascript files can then access it by the <em>name</em> of the UI Component instead of the path to the file itself. The name often will look something like this: <code>example_component.example_component</code>.</p>

<p>Names of other registered modules can be added to the server side configuration (XML or PHP) that is output through JSON. Those names can then be easily accessed in the Javascript on the front end. In the following example, the other UI Component’s name will be obtained with a template literal in the <code>imports</code> object. When this Javascript file is loaded, it will process the template literal and look up the name in the registry. If found, it will load that class. Because there is a colon (<code>:</code>), it will go on to find the property that is accessed in the other Javascript class.</p>

<pre><code class="language-javascript">return Element.extend({
    defaults: {
        template: 'Example_Component/message-list',
        imports: {
            messages: '${ $.messageHandler }:data.userMessages'
        }
    },

    // ...

    initialize: function() {
        this._super();
        this.addHtmlClassesToMessages();
    },

    addHtmlClassesToMessages: function() {
        this.messages.forEach(function(currentValue) {
            currentValue['htmlClass'] = 'message message--' + currentValue['type'];
        });
    }

    // ...
})
</code></pre>

<p>Notice how the <code>addHtmlClassesToMessages()</code> method accesses the <code>messages</code> property of <code>this</code>. When the class was initialized, the <code>data.userMessages</code> array was obtained from the <code>$.messageHandler</code> UI Component and was then assigned to the primary object.</p>

<p>In the template, the messages can be displayed like this:</p>

<pre><code class="language-html">&lt;!-- File: app/code/Example/Component/view/frontend/web/template/message-list.html --&gt;
&lt;div xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../../../../../Ui/etc/ui_template.xsd"&gt;
  &lt;ul data-bind="foreach: messages" class="message-list"&gt;
      &lt;li data-bind="text: content, css: htmlClass"&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;
</code></pre>

<h3 id="conclusion">Conclusion</h3>

<p>Template literals provide a simple and concise way to evaluate expressions. In Magento, they facilitate a great way to load data into a Javascript class. They also play a part in interacting with other classes to create a fully interactive front end framework.</p>

		</div>
		<!-- /.content-wrap -->

		<div class="page-info">

			
				<div class="page-contributor">
					<a href="https://swiftotter.com/" target="_blank">
						Thanks to SwiftOtter Studios for contributing this topic
					</a>
				</div>
			

			
			 <div class="github-link">
				 <a class="improve-page" href="https://github.com/magento/devdocs/tree/develop/guides/v2.1/ui_comp_guide/concepts/ui_comp_template_literals.md" target="_blank">
					 Edit this page on GitHub
				 </a>
			 </div>
			

			<div class="new-issue">
				<a href="https://github.com/magento/devdocs/issues/new?title=&body=Feedback on page: /guides/v2.1/ui_comp_guide/concepts/ui_comp_template_literals.html" target="_blank">Give us feedback</a>
			</div>

		</div>

	</section>
	<!-- /.content -->

</div> <!-- /.container -->


	</div>
	<!-- /.main-container -->

</div>
<!-- /#gl-wrapper -->

<!-- footer-->
<div id="footer">
  <div class="container">

    <div class="copyright-links">
      <ul class="nav">
				<li><a href="/guides/v2.1/contributor-guide/contributing_docs.html">Become a Contributor</a>
        <li><a href="http://magento.com/legal/terms/privacy/">Privacy Policy</a></li>
        <li><a href="http://magento.com/legal/terms/">Terms of Service</a></li>
        <li><a href="http://magento.com/legal/licensing/">License/Trademark FAQ</a></li>
        <li><a href="/guides/v2.1/release-notes/bk-release-notes.html">Release Notes</a></li>
				<li><a href="/magento-third-party.html">Third-Party Licenses</a></li>
      </ul>
    </div>

		<div class="copyright-date">&copy; 2016 Magento. All rights reserved.</div>

  </div>
</div>
<!-- / #footer -->

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
<script src="/common/js/app.min.js"></script>

<script type="text/javascript">
    (function() {
        var didInit = false;
        function initMunchkin() {
            if(didInit === false) {
                didInit = true;
                Munchkin.init('585-GGD-959', {cookieAnon: false});
            }
        }
        var s = document.createElement('script');
        s.type = 'text/javascript';
        s.async = true;
        s.src = '//munchkin.marketo.net/munchkin.js';
        s.onreadystatechange = function() {
            if (this.readyState == 'complete' || this.readyState == 'loaded') {
                initMunchkin();
            }
        };
        s.onload = initMunchkin;
        document.getElementsByTagName('head')[0].appendChild(s);
    })();
</script>



<!--Google Analytics-->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-66243208-1', 'auto');
    ga('send', 'pageview');
</script>


</body>
</html>

