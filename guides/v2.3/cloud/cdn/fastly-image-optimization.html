<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>Fastly image optimization | Magento 2 Developer Documentation</title>
	<meta name="description" content="Magento 2 Developer Documentation.
">

	<link rel="stylesheet" href="/assets/css/app.css" />
	<link rel="stylesheet" href="/assets/css/print.css" media="print"/>

	<link rel="stylesheet" href="/common/css/devdocs.css" />
<link rel="alternate" type="application/rss+xml" title="Magento DevDocs RSS" href="/feed.xml" />

	<script>
  var baseUrl = "";
  var algolia = {
    id : "E642SEDTHL",
    index:  "devdocs",
    key:  "d2d0f33ab73e291ef8d88d8b565e754c"
  };
</script>



<!-- Google Analytics -->
<style>.async-hide { opacity: 0 !important} </style>
<script>(function(a,s,y,n,c,h,i,d,e){s.className+=' '+y;h.start=1*new Date;
h.end=i=function(){s.className=s.className.replace(RegExp(' ?'+y),'')};
(a[n]=a[n]||[]).hide=h;setTimeout(function(){i();h.end=null},c);h.timeout=c;
})(window,document.documentElement,'async-hide','dataLayer',4000,
{'GTM-ML6GZCH':true});</script>
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-66243208-1', 'auto');
    ga('require', 'GTM-ML6GZCH');
    ga('send', 'pageview');
</script>

<!-- Hotjar Tracking Code for http://devdocs.magento.com/ -->
<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:806243,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>

<!-- heap analytics -->
<script type="text/javascript">
      window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=(r?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n);for(var o=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["addEventProperties","addUserProperties","clearEventProperties","identify","removeEventProperty","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=o(p[c])};
      heap.load("2619540280");
</script>

<script src="//assets.adobedtm.com/98fab992275ef6366cc65f57f86b1e895a66c912/satelliteLib-f90f1129109ea4b2101512675a2769865aa7ea5b.js"></script>




	<link rel="canonical" href="https://devdocs.magento.com/guides/v2.3/cloud/cdn/fastly-image-optimization.html">

	<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="https://magento.com/favicon.ico">
	<link rel="apple-touch-icon" type="image/png" href="https://magento.com/apple-touch-icon.png">
	<link rel="apple-touch-icon" type="image/png" sizes="57x57" href="https://magento.com/apple-touch-icon-57x57.png">
	<link rel="apple-touch-icon" type="image/png" sizes="72x72" href="https://magento.com/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="https://magento.com/apple-touch-icon-76x76.png">
	<link rel="apple-touch-icon" type="image/png" sizes="114x114" href="https://magento.com/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="https://magento.com/apple-touch-icon-120x120.png">
	<link rel="apple-touch-icon" type="image/png" sizes="144x144" href="https://magento.com/apple-touch-icon-144x144.png">
	<link rel="apple-touch-icon" type="image/png" sizes="152x152" href="https://magento.com/apple-touch-icon-152x152.png">
	<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="https://magento.com/apple-touch-icon-180x180.png">

</head>
<body class="layout-default">

	<header class="site-header">

		<nav class="site-nav">

  <div class="menu-btn">
    <button id="menu-btn" class="menu-trigger menu-icon" aria-haspopup="true" aria-controls="nav-main"></button>
  </div>

  <div class="nav-container">

    <a class="logo" href="/guides/v2.3/">
      <img src="/assets/i/m-logo.svg" alt=""><img src="/assets/i/magento-logo.svg" alt="Magento" class="magento-logo" />
      <span class="site-logo">DevDocs</span>
    </a>

    <div id="nav-main" class="nav-main-wrap" aria-labelledby="menu-btn">
      
<div class="version-switcher dropdown" data-version="2.3">
	<button id="version-switcher-button" class="btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Magento 2.3 Alpha
	</button>

	<ul class="dropdown-menu dropdown-menu-left" aria-labelledby="version-switcher-button">
		
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.0/cloud/cdn/fastly-image-optimization.html">Magento 2.0</a></li>
		
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.1/cloud/cdn/fastly-image-optimization.html">Magento 2.1</a></li>
		
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.2/cloud/cdn/fastly-image-optimization.html">Magento 2.2</a></li>
		
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.3/cloud/cdn/fastly-image-optimization.html">Magento 2.3 Alpha</a></li>
		
  </ul>

</div>


      <!-- Main Navigation -->
<ul class="nav-main" role="menubar">

  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Setup</span>

    <div class="nav-popup" role="menu" aria-hidden="true">
      <ul>
          <li><a href="/guides/v2.3/install-gde/bk-install-guide.html">Installation Guide</a></li>
          
          <li><a href="/guides/v2.3/comp-mgr/bk-compman-upgrade-guide.html">Extension Update and System Upgrade Guide</a></li>
          
          <li><a href="/guides/v2.3/config-guide/bk-config-guide.html">Configuration Guide</a></li>
          
          <li><a href="/guides/v2.3/performance-best-practices/index.html">Performance Best Practices</a></li>
          
          <li><a href="/guides/v2.3/migration/bk-migration-guide.html">Migration Guide</a></li>
          <li><a href="/guides/v2.3/cloud/bk-cloud.html">Magento Commerce (Cloud) Guide</a></li>
          <li><a href="/magento-release-information.html">Release Information</a></li>
      </ul>
    </div>

  </li>


  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Development</span>

    <div class="nav-popup" role="menu" aria-hidden="true">

      <div class="nav-section">
        <div class="nav-section-title">Backend</div>
        <ul>
          <li><a href="/guides/v2.3/architecture/bk-architecture.html">Architecture Guide</a></li>
          <li><a href="/guides/v2.3/extension-dev-guide/bk-extension-dev-guide.html">PHP Developer Guide</a></li>
          <li><a href="/guides/v2.3/ext-best-practices/bk-ext-best-practices.html">Extension Developer Best Practices</a></li>
          <li><a href="/guides/v2.3/mrg/intro.html">Module Reference Guide</a></li>
          <li><a href="/guides/v2.3/coding-standards/bk-coding-standards.html">Coding Standards</a></li>
          <li><a href="/guides/v2.3/contributor-guide/contributing.html">Contributor Guide</a></li>
        </ul>
      </div>

      <div class="nav-section">
        <div class="nav-section-title">Frontend</div>
        <ul>
          <li class=""><a href="/guides/v2.3/frontend-dev-guide/bk-frontend-dev-guide.html">Frontend Developer Guide</a></li>
          
          <li><a href="/guides/v2.3/ui_comp_guide/bk-ui_comps.html">UI Components Guide</a></li>
          
          <li><a href="/guides/v2.3/javascript-dev-guide/bk-javascript-dev-guide.html">JavaScript Developer Guide</a></li>
          <li><a href="/guides/v2.3/pattern-library/bk-pattern.html">Admin Design Pattern Library</a></li>
          <li><a href="/guides/v2.3/design-styleguide/bk-styleguide.html">Admin Style Guide</a></li>
          
          <li><a href="/guides/v2.3/pwa/">PWA Studios</a></li>
          
        </ul>
      </div>

      <div class="nav-section">
        <div class="nav-section-title"><abbr>API</abbr></div>
        <ul>
          <li><a href="/guides/v2.3/get-started/bk-get-started-api.html">Get Started with Magento Web APIs</a></li>
          <li><a href="/guides/v2.3/rest/bk-rest.html">REST API Reference</a></li>
          <li><a href="/guides/v2.3/soap/bk-soap.html">SOAP API Reference</a></li>
          
          <li><a href="/guides/v2.3/graphql/index.html">GraphQL Developer Guide (New!)</a></li>
          
          
          <li><a href="/guides/v2.3/marketplace/eqp/api.html">Marketplace EQP API Reference</a></li>
          <li><a href="https://developers.rjmetrics.com/" target="_blank">Magento BI Import REST API</a></li>
          
        </ul>
      </div>
    </div>

  </li>


  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Testing</span>

    <div class="nav-popup" role="menu" aria-hidden="true">
      <ul>
        <li><a href="/guides/v2.3/test/testing.html">Magento Testing Guide</a></li>
        
        <li><a href="/guides/v2.3/magento-functional-testing-framework/2.3/introduction.html">Functional Acceptance Testing</a></li>
        
        <li><a href="/guides/v2.3/mtf/mtf_introduction.html">Functional Testing</a></li>
        <li><a href="/guides/v2.3/test/integration/integration_test_execution.html">Integration Testing</a></li>
        <li><a href="/guides/v2.3/test/js/jasmine.html">JavaScript Unit Testing</a></li>
        <li><a href="/guides/v2.3/test/unit/unit_test_execution.html">PHP Unit Testing</a></li>
        <li><a href="/guides/v2.3/get-started/web-api-functional-testing.html">Web API Functional Testing</a></li>
      </ul>
    </div>

  </li>


  <li class="nav-main-separator"></li>


  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Functional Areas</span>

    <div class="nav-popup" role="menu" aria-hidden="true">
      <ul>
          
          <li class="leaf"><a href="/guides/v2.3/advanced-reporting/overview.html">Advanced Reporting</a></li>
          
        
        <li class="leaf"><a href="/guides/v2.3/b2b/bk-b2b.html">B2B</a></li>
        
        <li><a href="/guides/v2.3/howdoi/checkout/checkout_overview.html">Checkout</a></li>
        <li><a href="http://omsdocs.magento.com/en/" target="_blank">Order Management</a></li>
        <li><a href="/guides/v2.3/payments-integrations/bk-payments-integrations.html">Payment Integrations</a></li>
        
          <li><a href="/guides/v2.3/extension-dev-guide/staging.html">Staging</a></li>
        
      </ul>
    </div>

  </li>


  <li class="nav-main-item"  tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Tutorials</span>

    <div class="nav-popup" role="menu" aria-hidden="true">
      <ul>
        
        <li><a  data-proofer-ignore href="/guides/v2.3/rest/tutorials/index.html">REST tutorials</a></li>
        
        
        <li><a  data-proofer-ignore href="/guides/v2.3/howdoi/customize_product.html">Customize Product Creation Form</a></li>
        
        <li><a href="/guides/v2.3/howdoi/checkout/checkout_overview.html">Customize Checkout</a></li>
        <li><a href="/community/resources/support.html">Magento Support</a></li>
        <li><a href="/videos/">Video Tutorials</a></li>
      </ul>
    </div>

  </li>

</ul><!-- /.nav-main -->

    </div>

    <div class="search-btn">
      <button class="search-trigger search-icon"></button>
    </div>

    <form class="quick-search" action="/guides/v2.3/search.html" method="get" novalidate="novalidate">
      <input type="search" name="q" placeholder="Search" />
      <button class="quick-search-close">&times;</button>
    </form>

  </div>

</nav><!-- #site-nav -->
<div class="nav-main-fader"></div>


	</header>

	<div class="global-wrapper">

		


<div class="message-banner">
    This is the 2.3 Alpha release version of Magento documentation. Content in this version is subject to change.
</div>



		<div class="main-container">
			<a id="main-content"></a>


<div class="content-container">

	<!-- sidebar -->
<aside class="sidebar">
	<a href="#" data-proofer-ignore class="toc-toggler">Table of Contents</a>
	<div class="sidebar-wrapper">

		

		<h4 class="guide-title"></h4>
		<div class="collapsible-navigation">
		    <ul>
		    
		    	

<li class="nav-level1  " id="welcome-to-magento-commerce-(cloud)">
    

    
    <a href="/guides/v2.3/cloud/bk-cloud.html">Welcome to Magento Commerce (Cloud)</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="subscriptions-and-plans">

            

            
            <a href="/guides/v2.3/cloud/basic-information/cloud-plans.html">Subscriptions and plans</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="onboarding-tasks">

            

            
            <a href="/guides/v2.3/cloud/onboarding/onboarding-tasks.html">Onboarding tasks</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="architecture">
    

    
    <a href="/guides/v2.3/cloud/architecture/cloud-architecture.html">Architecture</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="starter-architecture">

            

            
            <a href="/guides/v2.3/cloud/basic-information/starter-architecture.html">Starter architecture</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="starter-develop-and-deploy-workflow">

            

            
            <a href="/guides/v2.3/cloud/basic-information/starter-develop-deploy-workflow.html">Starter develop and deploy workflow</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="pro-architecture">

            

            
            <a href="/guides/v2.3/cloud/architecture/pro-architecture.html">Pro architecture</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="pro-develop-and-deploy-workflow">

            

            
            <a href="/guides/v2.3/cloud/architecture/pro-develop-deploy-workflow.html">Pro develop and deploy workflow</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="pro-architecture-(legacy)">

            

            
            <a href="/guides/v2.3/cloud/architecture/pro-architecture-legacy.html">Pro architecture (legacy)</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="add-staging-and-production-to-pro-projects-ui">

            

            
            <a href="/guides/v2.3/cloud/trouble/pro-env-management.html">Add Staging and Production to Pro projects UI</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="technologies-and-requirements">
    

    
    <a href="/guides/v2.3/cloud/requirements/cloud-requirements.html">Technologies and requirements</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="composer">

            

            
            <a href="/guides/v2.3/cloud/reference/cloud-composer.html">Composer</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="magento-cloud-cli">

            

            
            <a href="/guides/v2.3/cloud/reference/cli-ref-topic.html">Magento Cloud CLI</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="git">

            

            
            <a href="/guides/v2.3/cloud/reference/git-integration.html">Git</a>
            

            
        </li>
        
        
        
        
        
        
        
        
        <li class="nav-level2  " id="ssh-and-sftp">

            

            
            <a href="/guides/v2.3/cloud/env/environments-ssh.html">SSH and sFTP</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="new-relic-apm">

            

            
            <a href="/guides/v2.3/cloud/project/new-relic.html">New Relic APM</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="blackfire.io">

            

            
            <a href="/guides/v2.3/cloud/project/project-integrate-blackfire.html">Blackfire.io</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="sendgrid">

            

            
            <a href="/guides/v2.3/cloud/project/sendgrid.html">SendGrid</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="integrations">
    

    
    <a href="/guides/v2.3/cloud/integrations/cloud-integrations.html">Integrations</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="bitbucket-integration">

            

            
            <a href="/guides/v2.3/cloud/integrations/bitbucket-integration.html">Bitbucket integration</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="github-integration">

            

            
            <a href="/guides/v2.3/cloud/integrations/github-integration.html">GitHub integration</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="local-environment-setup">
    

    
    <a href="/guides/v2.3/cloud/access-acct/first-time-setup.html">Local environment setup</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="prepare-for-local-environment-setup">

            

            
            <a href="/guides/v2.3/cloud/before/before-workspace.html">Prepare for local environment setup</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="install-magento-prerequisites">

            

            
            <a href="/guides/v2.3/cloud/before/before-workspace-magento-prereqs.html">Install Magento prerequisites</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="enable-ssh-keys">

            

            
            <a href="/guides/v2.3/cloud/before/before-workspace-ssh.html">Enable SSH keys</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="set-up-the-magento-file-system-owner">

            

            
            <a href="/guides/v2.3/cloud/before/before-workspace-file-sys-owner.html">Set up the Magento file system owner</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="clone-and-branch-the-project">

            

            
            <a href="/guides/v2.3/cloud/before/before-setup-env-2_clone.html">Clone and branch the project</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="install-magento">

            

            
            <a href="/guides/v2.3/cloud/before/before-setup-env-install.html">Install Magento</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="first-time-deployment">

            

            
            <a href="/guides/v2.3/cloud/access-acct/first-time-deploy.html">First time deployment</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="optional---install-sample-data">

            

            
            <a href="/guides/v2.3/cloud/howtos/sample-data.html">Optional - Install sample data</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="optional---configure-xdebug">

            

            
            <a href="/guides/v2.3/cloud/howtos/debug.html">Optional - Configure Xdebug</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="configure-docker">

            

            
            <a href="/guides/v2.3/cloud/reference/docker-config.html">Configure Docker</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="import-existing-code-into-a-project">
    

    
    <a href="/guides/v2.3/cloud/access-acct/first-time-setup_import-first-steps.html">Import existing code into a project</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="prepare-your-existing-magento-commerce-system">

            

            
            <a href="/guides/v2.3/cloud/access-acct/first-time-setup_import-prepare.html">Prepare your existing Magento Commerce system</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="import-magento-commerce-into-magento-commerce-(cloud)">

            

            
            <a href="/guides/v2.3/cloud/access-acct/first-time-setup_import-import.html">Import Magento Commerce into Magento Commerce (Cloud)</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="configure-your-store">
    

    
    <a href="/guides/v2.3/cloud/configure/configuration-overview.html">Configure your store</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="best-practices-for-store-configuration">

            

            
            <a href="/guides/v2.3/cloud/configure/configure-best-practices.html">Best practices for store configuration</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="set-up-paypal">

            

            
            <a href="/guides/v2.3/cloud/live/paypal-onboarding.html">Set up PayPal</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="set-up-magento-b2b">

            

            
            <a href="/guides/v2.3/cloud/configure/setup-b2b.html">Set up Magento B2B</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="set-up-cron-jobs">

            

            
            <a href="/guides/v2.3/cloud/configure/setup-cron-jobs.html">Set up cron jobs</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="set-up-multiple-cloud-websites-or-stores">

            

            
            <a href="/guides/v2.3/cloud/project/project-multi-sites.html">Set up multiple Cloud websites or stores</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="install,-manage,-and-upgrade-modules">

            

            
            <a href="/guides/v2.3/cloud/howtos/install-components.html">Install, manage, and upgrade modules</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="install-a-theme">

            

            
            <a href="/guides/v2.3/cloud/howtos/custom-theme.html">Install a theme</a>
            

            
        </li>
        
        
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="configure-fastly">
    

    
    <a href="/guides/v2.3/cloud/cdn/cloud-fastly.html">Configure Fastly</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="set-up-fastly">

            

            
            <a href="/guides/v2.3/cloud/access-acct/fastly.html">Set up Fastly</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2 active " id="fastly-image-optimization">

            

            
            <a href="/guides/v2.3/cloud/cdn/fastly-image-optimization.html">Fastly Image Optimization</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="custom-fastly-vcl-snippets">

            

            
            <a href="/guides/v2.3/cloud/configure/cloud-vcl-custom-snippets.html">Custom Fastly VCL snippets</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="custom-whitelist-vcl">

            

            
            <a href="/guides/v2.3/cloud/configure/fastly-vcl-whitelist.html">Custom whitelist VCL</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="custom-blacklist-vcl">

            

            
            <a href="/guides/v2.3/cloud/configure/fastly-vcl-blacklist.html">Custom blacklist VCL</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="custom-extend-admin-timeout-vcl">

            

            
            <a href="/guides/v2.3/cloud/configure/fastly-vcl-extend-timeout.html">Custom extend Admin timeout VCL</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="custom-redirect-to-wordpress-vcl">

            

            
            <a href="/guides/v2.3/cloud/configure/fastly-vcl-wordpress.html">Custom redirect to WordPress VCL</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="custom-block-bad-referer-vcl">

            

            
            <a href="/guides/v2.3/cloud/configure/fastly-vcl-badreferer.html">Custom block bad referer VCL</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="fastly-troubleshooting">

            

            
            <a href="/guides/v2.3/cloud/trouble/trouble_fastly.html">Fastly troubleshooting</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="configure-environments">
    

    
    <a href="/guides/v2.3/cloud/env/environments.html">Configure environments</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="application">

            

            
            <a href="/guides/v2.3/cloud/project/project-conf-files_magento-app.html">Application</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="build-and-deploy">

            

            
            <a href="/guides/v2.3/cloud/project/magento-env-yaml.html">Build and deploy</a>
            

            
            <ul>
                

                
                
                <li class="nav-level3  " id="set-up-notifications">
                    

                    
                    <a  href="/guides/v2.3/cloud/env/setup-notifications.html">Set up notifications</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id="logging-handlers">
                    

                    
                    <a  href="/guides/v2.3/cloud/env/log-handlers.html">Logging handlers</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id="smart-wizards">
                    

                    
                    <a  href="/guides/v2.3/cloud/env/smart-wizards.html">Smart wizards</a>
                    

                    
                </li>
                
                
            </ul>
            
        </li>
        
        
        
        
        <li class="nav-level2  " id="environment-variables">

            

            
            <a href="/guides/v2.3/cloud/env/variables-intro.html">Environment variables</a>
            

            
            <ul>
                

                
                
                <li class="nav-level3  " id="admin-variables">
                    

                    
                    <a  href="/guides/v2.3/cloud/env/environment-vars_magento.html">ADMIN variables</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id="build-variables">
                    

                    
                    <a  href="/guides/v2.3/cloud/env/variables-build.html">Build variables</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id="cloud-variables">
                    

                    
                    <a  href="/guides/v2.3/cloud/env/variables-cloud.html">Cloud variables</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id="deploy-variables">
                    

                    
                    <a  href="/guides/v2.3/cloud/env/variables-deploy.html">Deploy variables</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id="post-deploy-variables">
                    

                    
                    <a  href="/guides/v2.3/cloud/env/variables-post-deploy.html">Post-deploy variables</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id="working-with-variables">
                    

                    
                    <a  href="/guides/v2.3/cloud/env/working-with-variables.html">Working with variables</a>
                    

                    
                </li>
                
                
            </ul>
            
        </li>
        
        
        
        
        <li class="nav-level2  " id="routes">

            

            
            <a href="/guides/v2.3/cloud/project/project-conf-files_routes.html">Routes</a>
            

            
            <ul>
                

                
                
                <li class="nav-level3  " id="caching">
                    

                    
                    <a  href="/guides/v2.3/cloud/project/project-routes-more-cache.html">Caching</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id="redirects">
                    

                    
                    <a  href="/guides/v2.3/cloud/project/project-routes-more-redir.html">Redirects</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id="server-side-includes">
                    

                    
                    <a  href="/guides/v2.3/cloud/project/project-routes-more-ssi.html">Server side includes</a>
                    

                    
                </li>
                
                
            </ul>
            
        </li>
        
        
        
        
        <li class="nav-level2  " id="services">

            

            
            <a href="/guides/v2.3/cloud/project/project-conf-files_services.html">Services</a>
            

            
            <ul>
                

                
                
                <li class="nav-level3  " id="set-up-mysql-service">
                    

                    
                    <a  href="/guides/v2.3/cloud/project/project-conf-files_services-mysql.html">Set up MySQL service</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id="set-up-redis-service">
                    

                    
                    <a  href="/guides/v2.3/cloud/project/project-conf-files_services-redis.html">Set up Redis service</a>
                    

                    
                </li>
                
                

                
                

                
                
                <li class="nav-level3  " id="set-up-elasticsearch-service">
                    

                    
                    <a  href="/guides/v2.3/cloud/project/project-conf-files_services-elastic.html">Set up Elasticsearch service</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id="set-up-rabbitmq-service">
                    

                    
                    <a  href="/guides/v2.3/cloud/project/project-conf-files_services-rabbit.html">Set up RabbitMQ service</a>
                    

                    
                </li>
                
                
            </ul>
            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="configuration-management-for-store-settings">
    

    
    <a href="/guides/v2.3/cloud/live/sens-data-over.html">Configuration management for store settings</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="example-of-managing-system-specific-settings">

            

            
            <a href="/guides/v2.3/cloud/live/sens-data-initial.html">Example of managing system-specific settings</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="manage-your-project">
    

    
    <a href="/guides/v2.3/cloud/project/projects.html">Manage your project</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="configure-your-project">

            

            
            <a href="/guides/v2.3/cloud/project/project-webint-basic.html">Configure your project</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="project-structure">

            

            
            <a href="/guides/v2.3/cloud/project/project-start.html">Project structure</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="create-and-manage-users">

            

            
            <a href="/guides/v2.3/cloud/project/user-admin.html">Create and manage users</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="manage-branches-with-the-interface">

            

            
            <a href="/guides/v2.3/cloud/project/project-webint-branch.html">Manage branches with the Interface</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="manage-branches-with-the-cli">

            

            
            <a href="/guides/v2.3/cloud/env/environments-start.html">Manage branches with the CLI</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="snapshots-and-backup-management">

            

            
            <a href="/guides/v2.3/cloud/project/project-webint-snap.html">Snapshots and backup management</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="deploy-your-store">
    

    
    <a href="/guides/v2.3/cloud/live/stage-prod-live.html">Deploy your store</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="deployment-process">

            

            
            <a href="/guides/v2.3/cloud/reference/discover-deploy.html">Deployment process</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="continuous-deployment">

            

            
            <a href="/guides/v2.3/cloud/deploy/continuous-deployment.html">Continuous deployment</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="protective-block">

            

            
            <a href="/guides/v2.3/cloud/live/live-prot.html">Protective block</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="build-and-deploy-on-local">

            

            
            <a href="/guides/v2.3/cloud/live/live-sanity-check.html">Build and deploy on local</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="prepare-to-deploy-to-staging-and-production">

            

            
            <a href="/guides/v2.3/cloud/live/stage-prod-migrate-prereq.html">Prepare to deploy to Staging and Production</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="deploy-code-and-migrate-static-files-and-data">

            

            
            <a href="/guides/v2.3/cloud/live/stage-prod-migrate.html">Deploy code and migrate static files and data</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="test-deployment">

            

            
            <a href="/guides/v2.3/cloud/live/stage-prod-test.html">Test deployment</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="go-live-and-launch">
    

    
    <a href="/guides/v2.3/cloud/live/live.html">Go live and launch</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="go-live-checklist">

            

            
            <a href="/guides/v2.3/cloud/live/go-live-checklist.html">Go live checklist</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="launch-steps">

            

            
            <a href="/guides/v2.3/cloud/live/launch-steps.html">Launch steps</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="troubleshooting">
    

    
    <a href="/guides/v2.3/cloud/trouble/trouble.html">Troubleshooting</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="troubleshoot-deployment">

            

            
            <a href="/guides/v2.3/cloud/access-acct/trouble.html">Troubleshoot deployment</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="view-logs-for-troubleshooting">

            

            
            <a href="/guides/v2.3/cloud/trouble/environments-logs.html">View logs for troubleshooting</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="incorrect-credentials">

            

            
            <a href="/guides/v2.3/cloud/trouble/trouble_ce-creds.html">Incorrect credentials</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="resolve-issues-with-a-new-project">

            

            
            <a href="/guides/v2.3/cloud/trouble/trouble_proj-startover.html">Resolve issues with a new project</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="component-deployment-failure">

            

            
            <a href="/guides/v2.3/cloud/trouble/trouble_comp-deploy-fail.html">Component deployment failure</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="redis-troubleshooting">

            

            
            <a href="/guides/v2.3/cloud/trouble/redis-troubleshooting.html">Redis troubleshooting</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="reset-cron-jobs">

            

            
            <a href="/guides/v2.3/cloud/trouble/reset-cron-jobs.html">Reset cron jobs</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="resolve-issues-with-encryption-key">

            

            
            <a href="/guides/v2.3/cloud/trouble/trouble-crypt-key-variable.html">Resolve issues with encryption key</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="resolve-issues-with-html-minification">

            

            
            <a href="/guides/v2.3/cloud/trouble/trouble-error-html-minification.html">Resolve issues with HTML minification</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="resolve-issues-with-google-analytics-during-deployment">

            

            
            <a href="/guides/v2.3/cloud/trouble/trouble-google-analytics-deploy.html">Resolve issues with Google Analytics during deployment</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="restore-configuration-files">

            

            
            <a href="/guides/v2.3/cloud/trouble/restore-configuration-files.html">Restore configuration files</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="site-availability">

            

            
            <a href="/guides/v2.3/cloud/trouble/site-availability.html">Site availability</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="add-site-map-and-search-engine-robots">

            

            
            <a href="/guides/v2.3/cloud/trouble/robots-sitemap.html">Add site map and search engine robots</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="theme-troubleshooting">

            

            
            <a href="/guides/v2.3/cloud/trouble/theme-troubleshooting.html">Theme troubleshooting</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="message-queues">

            

            
            <a href="/guides/v2.3/cloud/trouble/message-queues.html">Message queues</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="upgrades-and-patches">
    

    
    <a href="/guides/v2.3/cloud/project/project-upgrade-parent.html">Upgrades and patches</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="ece-tools-release-notes">

            

            
            <a href="/guides/v2.3/cloud/release-notes/cloud-tools.html">ece-tools release notes</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="upgrade-to-use-ece-tools">

            

            
            <a href="/guides/v2.3/cloud/project/ece-tools-upgrade-project.html">Upgrade to use ece-tools</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="update-ece-tools-version">

            

            
            <a href="/guides/v2.3/cloud/project/ece-tools-update.html">Update ece-tools version</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="apply-custom-patches">

            

            
            <a href="/guides/v2.3/cloud/project/project-patch.html">Apply custom patches</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="upgrade-magento-version">

            

            
            <a href="/guides/v2.3/cloud/project/project-upgrade.html">Upgrade Magento version</a>
            

            
        </li>
        
        
        
        
    </ul>
    
</li>


		    
		    </ul>
		</div>

	</div>

</aside>
<!-- /sidebar -->


	<section class="content">
		<div class="content-wrap">
			<!-- page-header -->
<section class="page-intro">
	

	

	

	<h1 class="page-heading">Fastly image optimization</h1>

  


</section>

			<p>Fastly provides image optimization support for common image formats: PNG, JPEG, GIF. The Fastly Image Optimization (Fastly IO) snippet inserts the VCL code to perform image optimization to speed up delivery of the product images included in your store. There are three steps to configure the Fastly IO: Enable, Configure, and Verify.</p>

<h2 id="enable-fastly-io">Enable Fastly IO</h2>

<p>You can enable Fastly image optimization (Fastly IO) from the Admin panel by
uploading the Fastly IO VCL snippet. When you upload the VCL snippet, it
provides the Fastly service with configuration instructions to process all
images through image optimizers, using default configurations.</p>

<p><strong>Prerequisites</strong></p>

<ul>
  <li>Install or upgrade to Fastly module version 1.2.62 or later</li>
  <li><a href="/guides/v2.3/cloud/access-acct/fastly.html#backend">Configure Fastly Origin shield and backend</a></li>
</ul>

<h4 id="to-enable-fastly-io">To enable Fastly IO:</h4>

<ol>
  <li>
    <p>Log in to your local
<a href="/guides/v2.3/cloud/onboarding/onboarding-tasks.html#admin" target="\_blank">Magento Admin</a>
panel as an administrator.</p>
  </li>
  <li>
    <p>Click <strong>Stores</strong> &gt; <strong>Settings</strong> &gt; <strong>Configuration</strong> &gt; <strong>Advanced</strong> &gt; <strong>System</strong>.</p>
  </li>
  <li>
    <p>In the right pane, expand <strong>Full Page Cache</strong>.</p>
  </li>
  <li>
    <p>Click <strong>Fastly Configuration</strong> &gt; <strong>Image Optimization</strong> to specify the
configuration settings.</p>
  </li>
  <li>
    <p>In the <em>Fastly IO snippet</em> field, click <strong>Enable/Disable</strong>.</p>
  </li>
  <li>
    <p>Upload the Fastly IO snippet:</p>

    <ul>
      <li>Click <strong>Default IO config options</strong> to open the Image
optimization default config options page.</li>
      <li>Click <strong>Upload</strong> to upload the VCL snippet to your server.</li>
    </ul>
  </li>
</ol>

<h2 id="configure-fastly-io">Configure Fastly IO</h2>

<p>You can review and update the default IO configuration settings for image optimization as needed. For example, you might want to change WebP and JPEG quality levels for lossy formats or change the format for serving JPEG images to <em>Progressive</em> or <em>Baseline</em>. Also, you can use Fastly IO for more granular image optimization features, such as:</p>

<ul>
  <li>Force lossy conversion</li>
  <li>Deep image optimization</li>
  <li>Adaptive pixel ratios</li>
</ul>

<h4 id="to-update-fastly-io">To update Fastly IO:</h4>

<ol>
  <li>
    <p>On the <em>Fastly Configuration</em> page in the <em>Default IO config options</em> field,
click <strong>Configure</strong>.</p>

    <p><img src="/common/images/cloud_fastly-io-default-config.png" alt="View the Fastly IO configuration settings" width="650px" />)</p>
  </li>
  <li>
    <p>Review and update the Fastly IO configuration settings on the <em>Image
optimization default config options</em> page:</p>

    <p><img src="/common/images/cloud_fastly-io-config-options.png" alt="Review Fastly IO configuration" width="650px" /></p>

    <ul>
      <li>
        <p><strong>Auto WebP?</strong>—leave the default setting (<em>Yes</em>)
to convert images to the WebP format in browsers that support it. If you
change the setting to <strong>No</strong>, Fastly uses the image file type instead of
converting the image to WebP format.</p>
      </li>
      <li>
        <p><strong>Default WebP (lossy) quality</strong>—leave the
default setting (<em>85</em>) or type the compression level for lossy
file-formatted images. You can specify any whole number between 1 and 100.</p>
      </li>
      <li>
        <p><strong>Default JPEG format controls</strong>—leave the
default setting (<em>Auto</em>), or select the JPEG type to use when serving an
image. If the value is set to the <em>Auto</em>, Fastly delivers images with the
output type matching the input type. Select <em>Baseline</em> to display images
line by line starting from top left and going to the bottom right.
Select <em>Progressive</em> to display a blurry image that becomes clear as it
loads.</p>
      </li>
      <li>
        <p><strong>Default JPEG quality</strong>—leave the default
setting (<em>85</em>) or type the compression level for quality of lossy file
formats. You can specify any whole number between 1 and 100.</p>
      </li>
      <li>
        <p><strong>Allow upscaling?</strong>—leave default
setting (<em>No</em>), or select <em>Yes</em> to return images larger than the original
source file so they can fit the requested dimensions.</p>
      </li>
      <li>
        <p><strong>Resize filter</strong>—leave the default setting
(<code class="highlighter-rouge">Lancsoz3</code>), or select an alternative. This setting specifies the filter
used to deliver a resized image. Depending on the filter selected the
resized image can have a higher or lower number of pixels.</p>

        <ul>
          <li><code class="highlighter-rouge">Lanczos3</code> (default)—Delivers the best quality image. It increases the ability to detect edges and linear features within an image and uses sinc resampling to provide the best possible reconstruction.</li>
          <li><code class="highlighter-rouge">Lanczos2</code>—Uses same filter as <code class="highlighter-rouge">Lancsoz3</code> but with a less accurate approximation of the sinc resampling function.</li>
          <li><code class="highlighter-rouge">Bicubic</code>—Has a natural sharpening effect when making an image smaller.</li>
          <li><code class="highlighter-rouge">Bilinear</code>—Has a natural smoothing effect when making an image larger.</li>
          <li><code class="highlighter-rouge">Nearest</code>—Has a natural pixelation effect when resizing pixel art.</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <p>After you specify the IO configuration settings for the Fastly service,
click <strong>Cancel</strong> to return to the Fastly configuration settings.</p>
  </li>
  <li>
    <p>In the Image Optimization configuration <em>Enable deep image optimization</em> field, select <strong>Yes</strong> to turn on deep image optimization.</p>

    <p><img src="/common/images/cloud_fastly-io-deep-image-config.png" alt="Enable Fastly IO deep image optimization" width="650px" /></p>

    <p>Deep image optimization is off by default. When this feature is enabled,
 the built-in resizing feature in Magento is turned off and resizing work is
 offloaded to the Fastly IO service. Image optimization only applies to
 product images. CMS images are not resized. See the
 <a href="#deep-image-optimization">Fastly documentation</a>.</p>
  </li>
  <li>
    <p>After you enable deep image optimization, enable the
<a href="#adaptive-pixel-ratios">adaptive pixel ratios</a> feature to generate images optimized for use in responsive websites.</p>

    <p><img src="/common/images/cloud_fastly-io-config-adaptive-pixel.png" alt="Enable Fastly IO adaptive pixel ratios" width="650px" /></p>

    <ul>
      <li>In the <em>Enable adaptive device pixel ratios</em> field, select <strong>Yes</strong>.</li>
      <li>In the <em>Device pixel ratios</em> field, accept the default setting, or
click the <strong>System Input</strong> check box to remove the setting. Then, select
the desired ratio. A higher Device Pixel Ratio setting delivers larger
images.</li>
    </ul>
  </li>
  <li>
    <p>Click <strong>Save Configuration</strong>.</p>
  </li>
</ol>

<h3 id="force-lossy-conversion">Force lossy conversion</h3>

<p>By default the Fastly IO service forces conversion of lossless formats such
as PNG, BMP, or WEBP into JPEG/WEBP format.</p>

<p>The advantage of forcing lossy conversion is that smaller images are served.
For example, by using JPEG or WEBp format instead of PNG, the size may be
reduced by 60 to 70 percent depending on the quality level specified in the
Fastly IO configuration.</p>

<p>Depending on the quality level selected for image optimization, you might
perceive visual differences in images. For example, Alpha channel/transparencies
are stripped out and replaced with a white background, unless you use Deep image
optimization which uses the background color of your theme.</p>

<p>If you turn off lossy conversion (<code class="highlighter-rouge">WebP Auto? = No</code>), Fastly IO only changes
JPEG images to WEBP format for compatible browsers. No other image types are
changed. For example, if the original image is PNG the output from the
Fastly IO service is PNG.</p>

<h3 id="deep-image-optimization">Deep image optimization</h3>

<p>Deep image optimization is off by default. Enabling this option turns off the
built-in Magento resizing and offloads it completely to the Fastly IO service.
This feature only resizes <em>product</em> images. CMS images are not resized.</p>

<p>Enabling deep image optimization adds a background color definition
to every image as defined in your theme. As a result, WebP images are switched
from WebP lossless to WebP lossy. One of the major differences between lossless
and lossy is that it drops the alpha channel from PNG images, which delivers
much smaller images; however; images with transparencies may look odd on product
and campaign pages that use a different background.</p>

<p>For example, the following code represents the original source for an image from
the Luma theme:</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nt">&lt;img</span> <span class="na">class=</span><span class="s">"product-image-photo"</span>
    <span class="na">src=</span><span class="s">"https://mymagentosite/pub/media/catalog/product/cache/f073062f50e48eb0f0998593e568d857/m/b/mb02-gray-0.jpg"</span>
    <span class="na">width=</span><span class="s">"240"</span>
    <span class="na">height=</span><span class="s">"300"</span>
  <span class="na">alt=</span><span class="s">"Fusion Backpack"</span><span class="nt">/&gt;</span>
</code></pre></div></div>

<p>When the Fastly IO Deep image optimization feature is enabled, the original source
code for the image is rewritten as shown in the following example:</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nt">&lt;img</span> <span class="na">class=</span><span class="s">"product-image-photo"</span>
    <span class="na">src=</span><span class="s">"https://mymagentosite/pub/media/catalog/product/m/b/mb02-gray-0.jpg?width=240&amp;height=300&amp;quality=80&amp;bg-color=255,255,255&amp;fit=bounds"</span>
    <span class="na">width=</span><span class="s">"240"</span>
    <span class="na">height=</span><span class="s">"300"</span>
  <span class="na">alt=</span><span class="s">"Fusion Backpack"</span><span class="nt">/&gt;</span>
</code></pre></div></div>

<h3 id="adaptive-pixel-ratios">Adaptive pixel ratios</h3>

<p>The Adaptive pixel ratios feature is useful to optimize images for Progressive
web applications. It allows you to deliver multiple image sizes and resolutions
from one image source file by adding a <code class="highlighter-rouge">srcset</code> for each product image.</p>

<p>When the Adaptive pixel ratios feature is enabled, the Fastly IO service
delivers a fixed-width image that can adapt to varying <code class="highlighter-rouge">device-pixel-ratios</code>.
For example, the service modifies the product image definition as shown in the
following example:</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;img</span> <span class="na">class=</span><span class="s">"product-image-photo"</span>
  <span class="na">srcset=</span><span class="s">"https://mymagentosite/pub/media/catalog/product/m/b/mb02-gray-0.jpg?width=240&amp;height=300&amp;quality=80&amp;bg-color=255,255,255&amp;fit=bounds&amp;dpr=2 2x,
  https://mymagentosite/pub/media/catalog/product/m/b/mb02-gray-0.jpg?width=240&amp;height=300&amp;quality=80&amp;bg-color=255,255,255&amp;fit=bounds&amp;dpr=3 3x"</span>
  <span class="na">src=</span><span class="s">"https://mymagentosite/pub/media/catalog/product/m/b/mb02-gray-0.jpg?width=240&amp;height=300&amp;quality=80&amp;bg-color=255,255,255&amp;fit=bounds"</span>
    <span class="na">width=</span><span class="s">"240"</span>
    <span class="na">height=</span><span class="s">"300"</span>
  <span class="na">alt=</span><span class="s">"Fusion Backpack"</span><span class="nt">/&gt;</span>
</code></pre></div></div>

<p>See <code class="highlighter-rouge">srcset</code> <a href="https://caniuse.com/#feat=srcset" target="\_blank">browser support</a>
and <a href="https://html.spec.whatwg.org/multipage/embedded-content.html#attr-img-srcset" target="\_blank">specification</a>.</p>

<h2 id="validate-fastly-io">Validate Fastly IO</h2>

<p>After you enable and configure Fastly IO, you can validate your configuration by
performing web page speed tests with and without Fastly IO enabled. You can also
review the images in your store to check image size and appearance for issues.</p>

			
		</div>
		<!-- /.content-wrap -->

		<div class="page-info">

  


  

    <div class="github-link">
      <a class="improve-page" href="https://github.com/magento/devdocs/blob/master/guides/v2.3/cloud/cdn/fastly-image-optimization.md" target="_blank">
        Edit this page on GitHub
      </a>
    </div>

    <div class="new-issue">
      <a href="https://github.com/magento/devdocs/issues/new?title=Feedback on page: /guides/v2.3/cloud/cdn/fastly-image-optimization.html" target="_blank">
        Give us feedback
      </a>
    </div>

  

</div>


	</section>
	<!-- /.content -->

</div> <!-- /.content-container -->


	</div>
	<!-- /.main-container -->
</div>
<!-- /#gl-wrapper -->

<!-- footer-->
<div class="page-footer">
  <div class="container">

    <div class="copyright-links">
      <ul class="nav footer-links">
  <li><a href="https://github.com/magento/devdocs/blob/master/.github/CONTRIBUTING.md">Become a Contributor</a>
  <li><a href="https://magento.github.io/glossary/index.html?audience=developer">Glossary</a></li>
  <li><a href="http://magento.com/legal/terms/privacy/">Privacy Policy</a></li>
  <li><a href="http://magento.com/legal/terms/">Terms of Service</a></li>
  <li><a href="http://magento.com/legal/licensing/">License/Trademark FAQ</a></li>
  <li><a href="/guides/v2.3/release-notes/bk-release-notes.html">Release Notes</a></li>
  <li><a href="/magento-third-party.html">Third-Party Licenses</a></li>
</ul>

    </div>

		<div class="copyright-date">&copy; 2018 Magento. All rights reserved.</div>

  </div>
</div>
<!-- / #footer -->


<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="/assets/js/app.min.js"></script>

<script src="https://statistic.engcom.magento.com/magento.com/application.min.js"></script>



<script type="text/javascript">
    (function() {
        var didInit = false;
        function initMunchkin() {
            if(didInit === false) {
                didInit = true;
                Munchkin.init('585-GGD-959', {cookieAnon: false});
            }
        }
        var s = document.createElement('script');
        s.type = 'text/javascript';
        s.async = true;
        s.src = '//munchkin.marketo.net/munchkin.js';
        s.onreadystatechange = function() {
            if (this.readyState == 'complete' || this.readyState == 'loaded') {
                initMunchkin();
            }
        };
        s.onload = initMunchkin;
        document.getElementsByTagName('head')[0].appendChild(s);
    })();
</script>

<script type="text/javascript">_satellite.pageBottom();</script>




</body>
</html>

