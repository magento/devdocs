---
layout: default
group: mftf
title: Page structure in the Magento Functional Testing Framework
github_link: magento-functional-testing-framework/page/structure.md
---

## Overview

The MFTF employs a modified concept of [PageObjects].
You define the contents of a page, for reference in a [test], at both a page and [section] level.
The majority of elements are defined on a section reference. The section here is a reusable section of a page.
The pageObject itself then serves to list the URL of the page and the sections which it contains.
In this way, you reuse sections and maintain a reusable single source of truth to define the elements exercisable on a page.
Avoiding hardcoded location selectors from tests increases the maintainability and readability of tests, and test execution output/logging.

Two types of pages are available:
 
 * page with `url` declared as a constant string or [explicit page]. Called in test like {%raw%}```{{NameOfPage.url}}``` {%endraw%}, where `NameOfPage` is a value of `name` in corresponding page declaration _*.xml_ file
 * page with `url` declared as a string with one or more variable or [parameterized page]. Called in test like {%raw%}```{{NameOfPage.url(var1, var2, ...)}}```{%endraw%}, where `var1, var2, ...` are parameters that will be substituted in `url` of corresponding page declaration.  

The following diagram demonstrates XML structure of a page in the MFTF:

{% include_relative img/page-dia.svg %}

## Format

```xml
<?xml version="1.0" encoding="UTF-8"?>

<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="../../../../../../vendor/magento/magento2-functional-testing-framework/src/Magento/FunctionalTestingFramework/Page/etc/PageObject.xsd">
    <page name="" url="" module="">
        <section name=""/>
        <section name=""/>
    </page>
</config>
```

## Principles

* `<page>` name is the same as the file name

## Examples

The following examples demonstrate explicit page and parameterized page with explanations.

### Explicit page

_Catalog/Page/AdminCategoryPage.xml_ is provided as an example:

```xml
<?xml version="1.0" encoding="UTF-8"?>

<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="../../../../../../vendor/magento/magento2-functional-testing-framework/src/Magento/FunctionalTestingFramework/Page/etc/PageObject.xsd">
    <page name="AdminCategoryPage" url="admin/catalog/category/" module="Magento_Catalog">
        <section name="AdminCategorySidebarActionSection"/>
        <section name="AdminCategorySidebarTreeSection"/>
        <section name="AdminCategoryBasicFieldSection"/>
        <section name="AdminCategorySEOSection"/>
    </page>
</config>
```

The example above demonstrates _Catalog/Page/AdminCategoryPage.xml_ that declares a page with name `AdminCategoryPage`.
It will be merged with other `AdminCategoryPage` pages from other modules.

Example of a call in test:
 
```xml
{%raw%}
<amOnPage url="{{AdminCategoryPage.url}}" mergeKey="navigateToAdminCategory"/>
{%endraw%}
```

A corresponding web page is:
 
 * generated by Magento Catalog module
 * called by URl `baseUrl` + `admin/catalog/category/`

The `AdminCategoryPage` declares four [sections][section]:

 * `AdminCategorySidebarActionSection` that is located in _Catalog/Section/AdminCategorySidebarActionSection.xml_
 * `AdminCategorySidebarTreeSection` that is located in _Catalog/Section/AdminCategorySidebarTreeSection.xml_
 * `AdminCategoryBasicFieldSection` that is located in _Catalog/Section/AdminCategoryBasicFieldSection.xml_
 * `AdminCategorySEOSection` that is located in _Catalog/Section/AdminCategorySEOSection.xml_

### Parameterized page

_Catalog/Page/StorefrontCategoryPage.xml_ is provided as an example::

```xml
{%raw%} 
<?xml version="1.0" encoding="UTF-8"?>

<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="../../../../../../vendor/magento/magento2-functional-testing-framework/src/Magento/FunctionalTestingFramework/Page/etc/PageObject.xsd">
    <page name="StorefrontCategoryPage" url="/{{var1}}.html" module="Magento_Catalog" parameterized="true">
        <section name="StorefrontCategoryMainSection"/>
    </page>
</config>
{%endraw%}
```

This example shows page with name `StorefrontCategoryPage`.
It will be merged with other `StorefrontCategoryPage` pages from other modules.

Example of a call in test:

```xml
{%raw%}
<amOnPage url="{{StorefrontCategoryPage.url($$createPreReqCategory.name$$)}}" mergeKey="navigateToCategoryPage"/>
{%endraw%}
```

The `StorefrontCategoryPage` page is declared as parameterized, where `url` contains a {%raw%}```{{var1}}```{%endraw%} parameter.

A corresponding web page is:
 
 * generated by Magento Category module
 * called by URl `baseUrl`+`/$$createPreReqCategory.name$$.html`. It means, that {%raw%}```{{var1}}```{%endraw%} is substituted by `name` of previously created category in the `createPreReqCategory` action. Learn more in [`<createData>`][createData].
 
The `StorefrontCategoryPage` page declares one [section]:

 * `StorefrontCategoryMainSection` that is located in _Catalog/Section/StorefrontCategoryMainSection.xml_

## Available elements

### page {#page-element}

Contains sequence of UI sections in a page.

Attributes|Type|Use|Description
---|---|---|---
name|string|required|Unique page name identifier
url|string|required|URL path (excluding the base url) for the page. Use parameterized notation ({%raw%}```{{var1}}```{%endraw%}) for replaceable parameters, such as the edit page for a persisted entity that is based on an ID or a name.
module|string|required|The name of the module to which the page belongs. For example: `"Magento_Catalog"`.
parameterized|boolean |optional|Include and set to `"true"` if the `url` for this page has parameters that need to be replaced for proper use.
remove|boolean|optional|Default value: `"false"`. Set to `"true"` to remove this element during parsing.

It may contain several [<section>][section] elements.

### section {#section-element}

Contains sequence of UI elements.

Attributes|Type|Use|Description
---|---|---|---
name|string|required|Unique section name identifier
remove|boolean|optional|Default value: `"false"`. Set to `"true"` to remove this element during parsing.

<!-- LINK DEFINITIONS -->

[PageObjects]: https://github.com/SeleniumHQ/selenium/wiki/PageObjects
[section]: ./section.html
[test]: ./cest.html
[createData]: ./cest/actions.html#createData

[explicit page]: #explicit-page
[parameterized page]: #parameterized-page