<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>Deploy variables | Magento 2 Developer Documentation</title>
	<meta name="description" content="Magento 2 Developer Documentation.
">
	<meta http-equiv="last-modified" content="" />

	<link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,700,600,300,800' rel='stylesheet' type='text/css'>

	<link rel="stylesheet" href="/css/app.css" />
	<link rel="stylesheet" href="/css/print.css" media="print" />
	<link rel="canonical" href="/guides/v2.2/cloud/env/variables-deploy.html">

    <!-- WebUI popover css -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/jquery.webui-popover/1.2.1/jquery.webui-popover.min.css">

  <script>
    var baseUrl = "";
  </script>

	<!-- Hotjar Tracking Code for http://devdocs.magento.com/ -->
	<script>
	    (function(h,o,t,j,a,r){
	        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
	        h._hjSettings={hjid:806243,hjsv:6};
	        a=o.getElementsByTagName('head')[0];
	        r=o.createElement('script');r.async=1;
	        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
	        a.appendChild(r);
	    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
	</script>
	
	<!-- crazyegg -->
	<script type="text/javascript">
	setTimeout(function(){var a=document.createElement("script");
	var b=document.getElementsByTagName("script")[0];
	a.src=document.location.protocol+"//script.crazyegg.com/pages/scripts/0038/0321.js?"+Math.floor(new Date().getTime()/3600000);
	a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
	</script>

    <!-- heap analytics -->
    <script type="text/javascript">
        window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=(r?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n);for(var o=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["addEventProperties","addUserProperties","clearEventProperties","identify","removeEventProperty","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=o(p[c])};
        heap.load("2619540280");
    </script>

	<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="https://magento.com/favicon.ico">
	<link rel="apple-touch-icon" type="image/png" href="https://magento.com/apple-touch-icon.png">
	<link rel="apple-touch-icon" type="image/png" sizes="57x57" href="https://magento.com/apple-touch-icon-57x57.png">
	<link rel="apple-touch-icon" type="image/png" sizes="72x72" href="https://magento.com/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="https://magento.com/apple-touch-icon-76x76.png">
	<link rel="apple-touch-icon" type="image/png" sizes="114x114" href="https://magento.com/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="https://magento.com/apple-touch-icon-120x120.png">
	<link rel="apple-touch-icon" type="image/png" sizes="144x144" href="https://magento.com/apple-touch-icon-144x144.png">
	<link rel="apple-touch-icon" type="image/png" sizes="152x152" href="https://magento.com/apple-touch-icon-152x152.png">
	<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="https://magento.com/apple-touch-icon-180x180.png">

</head>
<body>

<header class="site-header">

	<nav id="global-nav">

		<div class="menu-btn"><a class="menu-trigger menu-icon" href="#" data-proofer-ignore></a></div>

		<div class="container">

			<a class="logo" href="/"><img src="/i/m-logo.svg" alt=""><img src="/i/magento-logo.svg" alt="Magento" class="magento-logo" /><img src="/i/devdocs-logo.svg" alt="Devdocs" class="devdocs-logo" /></a>

			
<div class="version-switcher dropdown" data-version="2.2">
	<button id="version-switcher-button" class="btn btn-small dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Magento 2.2
	</button>

	<ul class="dropdown-menu dropdown-menu-left" aria-labelledby="version-switcher-button">
	
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.0/cloud/env/variables-deploy.html">Magento 2.0</a></li>
	
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.1/cloud/env/variables-deploy.html">Magento 2.1</a></li>
	
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.2/cloud/env/variables-deploy.html">Magento 2.2</a></li>
	
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.3/cloud/env/variables-deploy.html">Magento 2.3 Pre-release</a></li>
	
  </ul>

</div>



			<nav class="nav-main" role="menubar">

  <div class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <a href="#" data-proofer-ignore tabindex="-1">Setup</a>

    <div class="nav-popup" role="menu" aria-hidden="true">
      <ul>
          <li><a href="/guides/v2.2/install-gde/bk-install-guide.html">Installation Guide</a></li>
          
          <li><a href="/guides/v2.2/comp-mgr/bk-compman-upgrade-guide.html">Extension Update and System Upgrade Guide</a></li>
          
          <li><a href="/guides/v2.2/config-guide/bk-config-guide.html">Configuration Guide</a></li>
          
          <li><a href="/guides/v2.2/performance-best-practices/index.html">Performance Best Practices</a></li>
          
          <li><a href="/guides/v2.2/migration/bk-migration-guide.html">Migration Guide</a></li>
          <li><a href="/guides/v2.2/cloud/bk-cloud.html">Magento Commerce (Cloud) Guide</a></li>
          <li><a href="/magento-release-information.html">Release Information</a></li>
      </ul>
    </div>

  </div>


  <div class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <a href="#" data-proofer-ignore tabindex="-1">Development</a>

    <div class="nav-popup" role="menu" aria-hidden="true">

      <div class="nav-section">
        <div class="nav-section-title">Backend</div>
        <ul>
          <li><a href="/guides/v2.2/architecture/bk-architecture.html">Architecture Guide</a></li>
          <li><a href="/guides/v2.2/extension-dev-guide/bk-extension-dev-guide.html">PHP Developer Guide</a></li>
          <li><a href="/guides/v2.2/ext-best-practices/bk-ext-best-practices.html">Extension Developer Best Practices</a></li>
          <li><a href="/guides/v2.2/mrg/intro.html">Module Reference Guide</a></li>
          <li><a href="/guides/v2.2/coding-standards/bk-coding-standards.html">Coding Standards</a></li>
          <li><a href="/guides/v2.2/contributor-guide/contributing.html">Contributor Guide</a></li>
        </ul>
      </div>

      <div class="nav-section">
        <div class="nav-section-title">Frontend</div>
        <ul>
          <li class=""><a href="/guides/v2.2/frontend-dev-guide/bk-frontend-dev-guide.html">Frontend Developer Guide</a></li>
          
          <li><a href="/guides/v2.2/ui_comp_guide/bk-ui_comps.html">UI Components Guide</a></li>
          
          <li><a href="/guides/v2.2/javascript-dev-guide/bk-javascript-dev-guide.html">JavaScript Developer Guide</a></li>
          <li><a href="/guides/v2.2/pattern-library/bk-pattern.html">Admin Design Pattern Library</a></li>
          <li><a href="/guides/v2.2/design-styleguide/bk-styleguide.html">Admin Style Guide</a></li>
        </ul>
      </div>

      <div class="nav-section">
        <div class="nav-section-title"><abbr>API</abbr></div>
        <ul>
          <li><a href="/guides/v2.2/get-started/bk-get-started-api.html">Get Started with Magento Web APIs</a></li>
          <li><a href="/guides/v2.2/rest/bk-rest.html">REST API Reference</a></li>
          <li><a href="/guides/v2.2/soap/bk-soap.html">SOAP API Reference</a></li>
          
          
          <li><a href="/guides/v2.2/marketplace/eqp/api.html">Marketplace EQP API Reference</a></li>
          
        </ul>
      </div>
    </div>

  </div>


  <div class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <a href="#" data-proofer-ignore tabindex="-1">Testing</a>

    <div class="nav-popup" role="menu" aria-hidden="true">
      <ul>
        <li><a href="/guides/v2.2/test/testing.html">Magento Testing Guide</a></li>
        
        <li><a href="/guides/v2.2/magento-functional-testing-framework/release-2/introduction.html">Functional Acceptance Testing (New!)</a></li>
        
        <li><a href="/guides/v2.2/mtf/mtf_introduction.html">Functional Testing</a></li>
        <li><a href="/guides/v2.2/test/integration/integration_test_execution.html">Integration Testing</a></li>
        <li><a href="/guides/v2.2/test/js/jasmine.html">JavaScript Unit Testing</a></li>
        <li><a href="/guides/v2.2/test/unit/unit_test_execution.html">PHP Unit Testing</a></li>
        <li><a href="/guides/v2.2/get-started/web-api-functional-testing.html">Web API Functional Testing</a></li>
      </ul>
    </div>

  </div>


  <div class="nav-main-separator"></div>


  <div class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <a href="#" data-proofer-ignore tabindex="-1">Functional Areas</a>

    <div class="nav-popup" role="menu" aria-hidden="true">
      <ul>
          
          <li class="leaf"><a href="/guides/v2.2/advanced-reporting/overview.html">Advanced Reporting</a></li>
          
        
        <li class="leaf"><a href="/guides/v2.2/b2b/bk-b2b.html">B2B</a></li>
        
        <li><a href="/guides/v2.2/howdoi/checkout/checkout_overview.html">Checkout</a></li>
        <li><a href="/guides/v2.2/payments-integrations/bk-payments-integrations.html">Payment Integrations</a></li>
        
          <li><a href="/guides/v2.2/extension-dev-guide/staging.html">Staging</a></li>
        
      </ul>
    </div>

  </div>


  <div class="nav-main-item"  tabindex="0" role="menuitem" aria-haspopup="true">
    <a href="#" data-proofer-ignore tabindex="-1">Tutorials</a>

    <div class="nav-popup" role="menu" aria-hidden="true">
      <ul>
        <li><a href="/guides/v2.2/howdoi/bk-how-do-i.html">How To</a></li>
        
        <li><a  data-proofer-ignore href="/guides/v2.2/get-started/order-tutorial/order-intro.html">Order Processing with REST APIs</a></li>
        

        <li><a href="/videos/">Video Tutorials</a></li>
      </ul>
    </div>

  </div>

</nav><!-- /.nav-main -->


			<div class="search-btn">
				<a class="search-trigger search-icon" href="/search.html"></a>
			</div>

			<form class="quick-search" action="/guides/v2.2/search.html" method="get">
				<input type="search" name="q" placeholder="Search" autocomplete="off" />
				<a href="#" data-proofer-ignore class="quick-search-close">&times;</a>
			</form>

		</div>

	</nav><!-- #global-nav -->

</header>
<div class="nav-main-fader"></div>


<div id="gl-wrapper">

	<!-- .main-container -->
	<div class="main-container">
		<a id="main-content"></a>


<div class="container">

    

    

	<!-- sidebar -->
<aside class="sidebar">
	<a href="#" data-proofer-ignore class="toc-toggler">Table of Contents</a>
	<div class="sidebar-wrapper">



<h4></h4>
<div class="left-navigation">
    <ul>
    
    

<li class="nav-level1  " id="welcome-to-magento-commerce-(cloud)">
    
    <div class="toggle closed">&nbsp;</div>
    
    
    
    <a href="/guides/v2.2/cloud/bk-cloud.html">Welcome to Magento Commerce (Cloud)</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="subscriptions-and-plans">
            
            
        
            
            <a href="/guides/v2.2/cloud/basic-information/cloud-plans.html">Subscriptions and plans</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="onboarding-tasks">
            
            
        
            
            <a href="/guides/v2.2/cloud/onboarding/onboarding-tasks.html">Onboarding tasks</a>
            

            
        </li>
        
        
    </ul>
    
</li>


    
    

<li class="nav-level1  " id="architecture">
    
    <div class="toggle closed">&nbsp;</div>
    
    
    
    <a href="/guides/v2.2/cloud/architecture/cloud-architecture.html">Architecture</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="starter-architecture">
            
            
        
            
            <a href="/guides/v2.2/cloud/basic-information/starter-architecture.html">Starter architecture</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="starter-develop-and-deploy-workflow">
            
            
        
            
            <a href="/guides/v2.2/cloud/basic-information/starter-develop-deploy-workflow.html">Starter develop and deploy workflow</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="pro-architecture">
            
            
        
            
            <a href="/guides/v2.2/cloud/architecture/pro-architecture.html">Pro architecture</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="pro-develop-and-deploy-workflow">
            
            
        
            
            <a href="/guides/v2.2/cloud/architecture/pro-develop-deploy-workflow.html">Pro develop and deploy workflow</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="pro-architecture-(legacy)">
            
            
        
            
            <a href="/guides/v2.2/cloud/architecture/pro-architecture-legacy.html">Pro architecture (legacy)</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="add-staging-and-production-to-pro-projects-ui">
            
            
        
            
            <a href="/guides/v2.2/cloud/trouble/pro-env-management.html">Add Staging and Production to Pro projects UI</a>
            

            
        </li>
        
        
    </ul>
    
</li>


    
    

<li class="nav-level1  " id="technologies-and-requirements">
    
    <div class="toggle closed">&nbsp;</div>
    
    
    
    <a href="/guides/v2.2/cloud/requirements/cloud-requirements.html">Technologies and requirements</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="composer">
            
            
        
            
            <a href="/guides/v2.2/cloud/reference/cloud-composer.html">Composer</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="magento-cloud-cli">
            
            
        
            
            <a href="/guides/v2.2/cloud/reference/cli-ref-topic.html">Magento Cloud CLI</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="git">
            
            
        
            
            <a href="/guides/v2.2/cloud/reference/git-integration.html">Git</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="bitbucket-integration">
            
            
        
            
            <a href="/guides/v2.2/cloud/project/bitbucket-integration.html">Bitbucket integration</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="github-integration">
            
            
        
            
            <a href="/guides/v2.2/cloud/project/project-integrate-github.html">GitHub integration</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="ssh-and-sftp">
            
            
        
            
            <a href="/guides/v2.2/cloud/env/environments-ssh.html">SSH and sFTP</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="new-relic-apm">
            
            
        
            
            <a href="/guides/v2.2/cloud/project/new-relic.html">New Relic APM</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="blackfire.io">
            
            
        
            
            <a href="/guides/v2.2/cloud/project/project-integrate-blackfire.html">Blackfire.io</a>
            

            
        </li>
        
        
    </ul>
    
</li>


    
    

<li class="nav-level1  " id="local-environment-setup">
    
    <div class="toggle closed">&nbsp;</div>
    
    
    
    <a href="/guides/v2.2/cloud/access-acct/first-time-setup.html">Local environment setup</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="prepare-for-local-environment-setup">
            
            
        
            
            <a href="/guides/v2.2/cloud/before/before-workspace.html">Prepare for local environment setup</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="install-magento-prerequisites">
            
            
        
            
            <a href="/guides/v2.2/cloud/before/before-workspace-magento-prereqs.html">Install Magento prerequisites</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="enable-ssh-keys">
            
            
        
            
            <a href="/guides/v2.2/cloud/before/before-workspace-ssh.html">Enable SSH keys</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="set-up-the-magento-file-system-owner">
            
            
        
            
            <a href="/guides/v2.2/cloud/before/before-workspace-file-sys-owner.html">Set up the Magento file system owner</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="clone-and-branch-the-project">
            
            
        
            
            <a href="/guides/v2.2/cloud/before/before-setup-env-2_clone.html">Clone and branch the project</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="install-magento">
            
            
        
            
            <a href="/guides/v2.2/cloud/before/before-setup-env-install.html">Install Magento</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="first-time-deployment">
            
            
        
            
            <a href="/guides/v2.2/cloud/access-acct/first-time-deploy.html">First time deployment</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="optional---install-sample-data">
            
            
        
            
            <a href="/guides/v2.2/cloud/howtos/sample-data.html">Optional - Install sample data</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="optional---configure-xdebug">
            
            
        
            
            <a href="/guides/v2.2/cloud/howtos/debug.html">Optional - Configure Xdebug</a>
            

            
        </li>
        
        
    </ul>
    
</li>


    
    

<li class="nav-level1  " id="import-existing-code-into-a-project">
    
    <div class="toggle closed">&nbsp;</div>
    
    
    
    <a href="/guides/v2.2/cloud/access-acct/first-time-setup_import-first-steps.html">Import existing code into a project</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="prepare-your-existing-magento-commerce-system">
            
            
        
            
            <a href="/guides/v2.2/cloud/access-acct/first-time-setup_import-prepare.html">Prepare your existing Magento Commerce system</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="import-magento-commerce-into-magento-commerce-(cloud)">
            
            
        
            
            <a href="/guides/v2.2/cloud/access-acct/first-time-setup_import-import.html">Import Magento Commerce into Magento Commerce (Cloud)</a>
            

            
        </li>
        
        
    </ul>
    
</li>


    
    

<li class="nav-level1  " id="configure-your-store">
    
    <div class="toggle closed">&nbsp;</div>
    
    
    
    <a href="/guides/v2.2/cloud/configure/configuration-overview.html">Configure your store</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="best-practices-for-store-configuration">
            
            
        
            
            <a href="/guides/v2.2/cloud/configure/configure-best-practices.html">Best practices for store configuration</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="set-up-paypal">
            
            
        
            
            <a href="/guides/v2.2/cloud/live/paypal-onboarding.html">Set up PayPal</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="set-up-magento-b2b">
            
            
        
            
            <a href="/guides/v2.2/cloud/configure/setup-b2b.html">Set up Magento B2B</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="set-up-cron-jobs">
            
            
        
            
            <a href="/guides/v2.2/cloud/configure/setup-cron-jobs.html">Set up cron jobs</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="set-up-multiple-cloud-websites-or-stores">
            
            
        
            
            <a href="/guides/v2.2/cloud/project/project-multi-sites.html">Set up multiple Cloud websites or stores</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="install,-manage,-and-upgrade-modules">
            
            
        
            
            <a href="/guides/v2.2/cloud/howtos/install-components.html">Install, manage, and upgrade modules</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="install-a-theme">
            
            
        
            
            <a href="/guides/v2.2/cloud/howtos/custom-theme.html">Install a theme</a>
            

            
        </li>
        
        
    </ul>
    
</li>


    
    

<li class="nav-level1  " id="configure-fastly">
    
    <div class="toggle closed">&nbsp;</div>
    
    
    
    <a href="/guides/v2.2/cloud/basic-information/cloud-fastly.html">Configure Fastly</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="set-up-fastly">
            
            
        
            
            <a href="/guides/v2.2/cloud/access-acct/fastly.html">Set up Fastly</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="custom-fastly-vcl-snippets">
            
            
        
            
            <a href="/guides/v2.2/cloud/configure/cloud-vcl-custom-snippets.html">Custom Fastly VCL snippets</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="custom-whitelist-vcl">
            
            
        
            
            <a href="/guides/v2.2/cloud/configure/fastly-vcl-whitelist.html">Custom whitelist VCL</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="custom-blacklist-vcl">
            
            
        
            
            <a href="/guides/v2.2/cloud/configure/fastly-vcl-blacklist.html">Custom blacklist VCL</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="custom-extend-admin-timeout-vcl">
            
            
        
            
            <a href="/guides/v2.2/cloud/configure/fastly-vcl-extend-timeout.html">Custom extend Admin timeout VCL</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="custom-redirect-to-wordpress-vcl">
            
            
        
            
            <a href="/guides/v2.2/cloud/configure/fastly-vcl-wordpress.html">Custom redirect to WordPress VCL</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="custom-block-bad-referer-vcl">
            
            
        
            
            <a href="/guides/v2.2/cloud/configure/fastly-vcl-badreferer.html">Custom block bad referer VCL</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="fastly-troubleshooting">
            
            
        
            
            <a href="/guides/v2.2/cloud/trouble/trouble_fastly.html">Fastly troubleshooting</a>
            

            
        </li>
        
        
    </ul>
    
</li>


    
    

<li class="nav-level1  " id="configure-environments">
    
    <div class="toggle closed">&nbsp;</div>
    
    
    
    <a href="/guides/v2.2/cloud/env/environments.html">Configure environments</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="application">
            
            
        
            
            <a href="/guides/v2.2/cloud/project/project-conf-files_magento-app.html">Application</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="build-and-deploy">
            
            
            <div class="toggle closed">&nbsp;</div>
            
        
            
            <a href="/guides/v2.2/cloud/project/magento-env-yaml.html">Build and deploy</a>
            

            
            <ul>
                

                
                
                <li class="nav-level3  " id="set-up-notifications">
                    

                    
                    <a  href="/guides/v2.2/cloud/env/setup-notifications.html">Set up notifications</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id="logging-handlers">
                    

                    
                    <a  href="/guides/v2.2/cloud/env/log-handlers.html">Logging handlers</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id="smart-wizards">
                    

                    
                    <a  href="/guides/v2.2/cloud/env/smart-wizards.html">Smart wizards</a>
                    

                    
                </li>
                
                
            </ul>
            
        </li>
        
        
        
        
        <li class="nav-level2  " id="environment-variables">
            
            
            <div class="toggle closed">&nbsp;</div>
            
        
            
            <a href="/guides/v2.2/cloud/env/variables-intro.html">Environment variables</a>
            

            
            <ul>
                

                
                
                <li class="nav-level3  " id="application-variables">
                    

                    
                    <a  href="/guides/v2.2/cloud/env/environment-vars_magento.html">Application variables</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id="build-variables">
                    

                    
                    <a  href="/guides/v2.2/cloud/env/variables-build.html">Build variables</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id="cloud-variables">
                    

                    
                    <a  href="/guides/v2.2/cloud/env/variables-cloud.html">Cloud variables</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3 active " id="deploy-variables">
                    

                    
                    <a  href="/guides/v2.2/cloud/env/variables-deploy.html">Deploy variables</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id="post-deploy-variables">
                    

                    
                    <a  href="/guides/v2.2/cloud/env/variables-post-deploy.html">Post-deploy variables</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id="working-with-variables">
                    

                    
                    <a  href="/guides/v2.2/cloud/env/working-with-variables.html">Working with variables</a>
                    

                    
                </li>
                
                
            </ul>
            
        </li>
        
        
        
        
        <li class="nav-level2  " id="routes">
            
            
            <div class="toggle closed">&nbsp;</div>
            
        
            
            <a href="/guides/v2.2/cloud/project/project-conf-files_routes.html">Routes</a>
            

            
            <ul>
                

                
                
                <li class="nav-level3  " id="caching">
                    

                    
                    <a  href="/guides/v2.2/cloud/project/project-routes-more-cache.html">Caching</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id="redirects">
                    

                    
                    <a  href="/guides/v2.2/cloud/project/project-routes-more-redir.html">Redirects</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id="server-side-includes">
                    

                    
                    <a  href="/guides/v2.2/cloud/project/project-routes-more-ssi.html">Server side includes</a>
                    

                    
                </li>
                
                
            </ul>
            
        </li>
        
        
        
        
        <li class="nav-level2  " id="services">
            
            
            <div class="toggle closed">&nbsp;</div>
            
        
            
            <a href="/guides/v2.2/cloud/project/project-conf-files_services.html">Services</a>
            

            
            <ul>
                

                
                
                <li class="nav-level3  " id="set-up-mysql-service">
                    

                    
                    <a  href="/guides/v2.2/cloud/project/project-conf-files_services-mysql.html">Set up MySQL service</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id="set-up-redis-service">
                    

                    
                    <a  href="/guides/v2.2/cloud/project/project-conf-files_services-redis.html">Set up Redis service</a>
                    

                    
                </li>
                
                

                
                

                
                
                <li class="nav-level3  " id="set-up-elasticsearch-service">
                    

                    
                    <a  href="/guides/v2.2/cloud/project/project-conf-files_services-elastic.html">Set up Elasticsearch service</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id="set-up-rabbitmq-service">
                    

                    
                    <a  href="/guides/v2.2/cloud/project/project-conf-files_services-rabbit.html">Set up RabbitMQ service</a>
                    

                    
                </li>
                
                
            </ul>
            
        </li>
        
        
    </ul>
    
</li>


    
    

<li class="nav-level1  " id="configuration-management-for-store-settings">
    
    <div class="toggle closed">&nbsp;</div>
    
    
    
    <a href="/guides/v2.2/cloud/live/sens-data-over.html">Configuration management for store settings</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="example-of-managing-system-specific-settings">
            
            
        
            
            <a href="/guides/v2.2/cloud/live/sens-data-initial.html">Example of managing system-specific settings</a>
            

            
        </li>
        
        
    </ul>
    
</li>


    
    

<li class="nav-level1  " id="manage-your-project">
    
    <div class="toggle closed">&nbsp;</div>
    
    
    
    <a href="/guides/v2.2/cloud/project/projects.html">Manage your project</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="configure-your-project">
            
            
        
            
            <a href="/guides/v2.2/cloud/project/project-webint-basic.html">Configure your project</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="project-structure">
            
            
        
            
            <a href="/guides/v2.2/cloud/project/project-start.html">Project structure</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="create-and-manage-users">
            
            
        
            
            <a href="/guides/v2.2/cloud/project/user-admin.html">Create and manage users</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="manage-branches-with-the-interface">
            
            
        
            
            <a href="/guides/v2.2/cloud/project/project-webint-branch.html">Manage branches with the Interface</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="manage-branches-with-the-cli">
            
            
        
            
            <a href="/guides/v2.2/cloud/env/environments-start.html">Manage branches with the CLI</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="snapshots-and-backup-management">
            
            
        
            
            <a href="/guides/v2.2/cloud/project/project-webint-snap.html">Snapshots and backup management</a>
            

            
        </li>
        
        
    </ul>
    
</li>


    
    

<li class="nav-level1  " id="deploy-your-store">
    
    <div class="toggle closed">&nbsp;</div>
    
    
    
    <a href="/guides/v2.2/cloud/live/stage-prod-live.html">Deploy your store</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="deployment-process">
            
            
        
            
            <a href="/guides/v2.2/cloud/reference/discover-deploy.html">Deployment process</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="continuous-deployment">
            
            
        
            
            <a href="/guides/v2.2/cloud/deploy/continuous-deployment.html">Continuous deployment</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="protective-block">
            
            
        
            
            <a href="/guides/v2.2/cloud/live/live-prot.html">Protective block</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="build-and-deploy-on-local">
            
            
        
            
            <a href="/guides/v2.2/cloud/live/live-sanity-check.html">Build and deploy on local</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="prepare-to-deploy-to-staging-and-production">
            
            
        
            
            <a href="/guides/v2.2/cloud/live/stage-prod-migrate-prereq.html">Prepare to deploy to Staging and Production</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="deploy-code-and-migrate-static-files-and-data">
            
            
        
            
            <a href="/guides/v2.2/cloud/live/stage-prod-migrate.html">Deploy code and migrate static files and data</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="test-deployment">
            
            
        
            
            <a href="/guides/v2.2/cloud/live/stage-prod-test.html">Test deployment</a>
            

            
        </li>
        
        
    </ul>
    
</li>


    
    

<li class="nav-level1  " id="go-live-and-launch">
    
    <div class="toggle closed">&nbsp;</div>
    
    
    
    <a href="/guides/v2.2/cloud/live/live.html">Go live and launch</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="go-live-checklist">
            
            
        
            
            <a href="/guides/v2.2/cloud/live/go-live-checklist.html">Go live checklist</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="launch-steps">
            
            
        
            
            <a href="/guides/v2.2/cloud/live/launch-steps.html">Launch steps</a>
            

            
        </li>
        
        
    </ul>
    
</li>


    
    

<li class="nav-level1  " id="troubleshooting">
    
    <div class="toggle closed">&nbsp;</div>
    
    
    
    <a href="/guides/v2.2/cloud/trouble/trouble.html">Troubleshooting</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="troubleshoot-deployment">
            
            
        
            
            <a href="/guides/v2.2/cloud/access-acct/trouble.html">Troubleshoot deployment</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="view-logs-for-troubleshooting">
            
            
        
            
            <a href="/guides/v2.2/cloud/trouble/environments-logs.html">View logs for troubleshooting</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="incorrect-credentials">
            
            
        
            
            <a href="/guides/v2.2/cloud/trouble/trouble_ce-creds.html">Incorrect credentials</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="resolve-issues-with-a-new-project">
            
            
        
            
            <a href="/guides/v2.2/cloud/trouble/trouble_proj-startover.html">Resolve issues with a new project</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="component-deployment-failure">
            
            
        
            
            <a href="/guides/v2.2/cloud/trouble/trouble_comp-deploy-fail.html">Component deployment failure</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="redis-troubleshooting">
            
            
        
            
            <a href="/guides/v2.2/cloud/trouble/redis-troubleshooting.html">Redis troubleshooting</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="reset-cron-jobs">
            
            
        
            
            <a href="/guides/v2.2/cloud/trouble/reset-cron-jobs.html">Reset cron jobs</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="resolve-issues-with-encryption-key">
            
            
        
            
            <a href="/guides/v2.2/cloud/trouble/trouble-crypt-key-variable.html">Resolve issues with encryption key</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="resolve-issues-with-html-minification">
            
            
        
            
            <a href="/guides/v2.2/cloud/trouble/trouble-error-html-minification.html">Resolve issues with HTML minification</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="resolve-issues-with-google-analytics-during-deployment">
            
            
        
            
            <a href="/guides/v2.2/cloud/trouble/trouble-google-analytics-deploy.html">Resolve issues with Google Analytics during deployment</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="restore-configuration-files">
            
            
        
            
            <a href="/guides/v2.2/cloud/trouble/restore-configuration-files.html">Restore configuration files</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="site-availability">
            
            
        
            
            <a href="/guides/v2.2/cloud/trouble/site-availability.html">Site availability</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="add-site-map-and-search-engine-robots">
            
            
        
            
            <a href="/guides/v2.2/cloud/trouble/robots-sitemap.html">Add site map and search engine robots</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="theme-troubleshooting">
            
            
        
            
            <a href="/guides/v2.2/cloud/trouble/theme-troubleshooting.html">Theme troubleshooting</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="message-queues">
            
            
        
            
            <a href="/guides/v2.2/cloud/trouble/message-queues.html">Message queues</a>
            

            
        </li>
        
        
    </ul>
    
</li>


    
    

<li class="nav-level1  " id="upgrades-and-patches">
    
    <div class="toggle closed">&nbsp;</div>
    
    
    
    <a href="/guides/v2.2/cloud/project/project-upgrade-parent.html">Upgrades and Patches</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="patch-cloud-tools">
            
            
        
            
            <a href="/guides/v2.2/cloud/composer-packages/ece-tools.html">Patch Cloud tools</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="patch-magento-commerce-(cloud)">
            
            
        
            
            <a href="/guides/v2.2/cloud/project/project-patch.html">Patch Magento Commerce (Cloud)</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="upgrade-magento-commerce-(cloud)">
            
            
        
            
            <a href="/guides/v2.2/cloud/project/project-upgrade.html">Upgrade Magento Commerce (Cloud)</a>
            

            
        </li>
        
        
        
        
    </ul>
    
</li>


    
    </ul>
</div>

	</div>

</aside>


<!-- /sidebar -->


	<section class="content">
		<div class="content-wrap">
			<!-- page-header -->
<section class="page-intro">
	

  <nav class="breadcrumbs">

    <a class="breadcrumb-item" href=""><span>Home</span></a>

    <ol class="breadcrumb list-unstyled" vocab="http://schema.org/" typeof="BreadcrumbList">

    <!-- Iteration breadcrumb item -->
    
    

    

      <!-- Skip if root -->
      

      <!-- Get breadcrumb title -->
      

      <!-- SEO data -->
      

      <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">

        
          <a property="item" typeof="WebPage" href="/guides/v2.2/cloud/bk-cloud.html">
            <span property="name">Welcome to Magento Commerce (Cloud)</span>
          </a>
        

        <meta property="position" content="1" />
      </li>

    

      <!-- Skip if root -->
      

      <!-- Get breadcrumb title -->
      

      <!-- SEO data -->
      

      <li class="breadcrumb-item active" property="itemListElement" typeof="ListItem">

        

          

          <span property="name">Deploy variables</span>

        

        <meta property="position" content="2" />
      </li>

    

    



    </ol>

  </nav>



	

	

	<h1 class="page-heading">Deploy variables</h1>

  


</section>


			<p>The following <em>deploy</em> variables control actions in the deploy phase and can inherit and override values from the <a href="/guides/v2.2/cloud/env/variables-intro.html#global-variables">Global stage</a>. Also, you can override the <a href="/guides/v2.2/cloud/env/environment-vars_magento.html">ADMIN variables</a>. Insert these variables in the <code class="highlighter-rouge">deploy</code> stage of the <code class="highlighter-rouge">.magento.env.yaml</code> file:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">stage</span><span class="pi">:</span>
  <span class="na">deploy</span><span class="pi">:</span>
    <span class="na">DEPLOY_VARIABLE_NAME</span><span class="pi">:</span> <span class="s">value</span>
</code></pre></div></div>

<p>For more information about customizing the build and deploy process:</p>

<ul>
  <li><a href="/guides/v2.2/cloud/project/magento-env-yaml.html">Manage build and deploy actions</a></li>
  <li><a href="/guides/v2.2/cloud/reference/discover-deploy.html">Deployment process</a></li>
</ul>

<h3 id="cache_configuration"><code class="highlighter-rouge">CACHE_CONFIGURATION</code></h3>

<ul>
  <li><strong>Default</strong>—<em>Not set</em></li>
  <li><strong>Version</strong>—Magento 2.1.4 and later</li>
</ul>

<p>Use to configure Redis page and default caching.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">stage</span><span class="pi">:</span>
  <span class="na">deploy</span><span class="pi">:</span>
    <span class="na">CACHE_CONFIGURATION</span><span class="pi">:</span>
      <span class="na">frontend</span><span class="pi">:</span>
        <span class="na">default</span><span class="pi">:</span>
          <span class="na">backend</span><span class="pi">:</span> <span class="s">file</span>
        <span class="na">page_cache</span><span class="pi">:</span>
          <span class="na">backend</span><span class="pi">:</span> <span class="s">file</span>
</code></pre></div></div>

<p>By default, the deployment process overwrites all settings in the <code class="highlighter-rouge">env.php</code> file. When setting the <code class="highlighter-rouge">cm_cache_backend_redis</code> parameter, you must specify the <code class="highlighter-rouge">server</code>, <code class="highlighter-rouge">port</code>, and <code class="highlighter-rouge">database</code> options.</p>

<h3 id="clean_static_files"><code class="highlighter-rouge">CLEAN_STATIC_FILES</code></h3>

<ul>
  <li><strong>Default</strong>—<code class="highlighter-rouge">enabled</code></li>
  <li><strong>Version</strong>—Available in all versions</li>
</ul>

<p>The default value, <code class="highlighter-rouge">enabled</code>, cleans <a href="/guides/v2.2/config-guide/cli/config-cli-subcommands-static-view.html#config-cli-static-overview">generated static view files</a> when you perform an action like enabling or disabling a component. We recommend the default value in development. The supported values are <code class="highlighter-rouge">enabled</code> and <code class="highlighter-rouge">disabled</code>.</p>

<p>Failure to clear static view files might result in issues if there are multiple files with the same name and you do not clear all of them.</p>

<p>Because of <a href="/guides/v2.2/howdoi/clean_static_cache.html">static file fallback</a> rules, if you do not clear static files and there is more than one file named <code class="highlighter-rouge">logo.gif</code> that are different, fallback might cause the wrong file to display.</p>

<h3 id="cron_consumers_runner"><code class="highlighter-rouge">CRON_CONSUMERS_RUNNER</code></h3>

<ul>
  <li><strong>Default</strong>—<em>Not set</em></li>
  <li><strong>Version</strong>—Magento 2.1.4 and later</li>
</ul>

<p>Use this environment variable to make sure message queues are running after a deployment. By default, the deployment process overwrites all settings in the <code class="highlighter-rouge">env.php</code> file. Refer to <a href="/guides/v2.2/config-guide/mq/manage-mysql.html">Manage message queues</a> for more information about how this works in Magento Open Source and Magento Commerce.</p>

<div>

  <p>You must set the variable value using JSON. For example:</p>

  <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
   </span><span class="s2">"cron_run"</span><span class="p">:</span><span class="s2">"true"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"max_messages"</span><span class="p">:</span><span class="mi">1000</span><span class="p">,</span><span class="w">
   </span><span class="s2">"consumers"</span><span class="p">:[</span><span class="w">  
      </span><span class="s2">"consumer1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"consumer2"</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>  </div>

  <ul>
    <li><code class="highlighter-rouge">cron_run</code>—A boolean value that enables or disables the <code class="highlighter-rouge">consumers_runner</code> cron job (default = <code class="highlighter-rouge">false</code>).</li>
    <li><code class="highlighter-rouge">max_messages</code>—A number specifying the maximum number of messages each consumer must process before terminating (default = <code class="highlighter-rouge">1000</code>). Although we do not recommend it, you can use <code class="highlighter-rouge">0</code> to prevent the consumer from terminating.</li>
    <li><code class="highlighter-rouge">consumers</code>—An array of strings specifying which consumer(s) to run. An empty array runs <em>all</em> consumers. Refer to <a href="/guides/v2.2/config-guide/mq/manage-mysql.html#list-consumers">List consumers</a> for more information.</li>
  </ul>

  <h3 id="cryptkey"><code class="highlighter-rouge">CRYPT_KEY</code></h3>

  <ul>
    <li><strong>Default</strong>—<em>Not set</em></li>
    <li><strong>Version</strong>—Magento 2.1.4 and later</li>
  </ul>

  <p>Use the Project Web UI to set this value. When you move the database from one environment to another without an installation process, you need the corresponding cryptographic information. Magento uses the encryption key value set in the Web UI as the <code class="highlighter-rouge">crypt/key</code> value in the <code class="highlighter-rouge">env.php</code> file. This does not overwrite an existing encryption key value in the <code class="highlighter-rouge">env.php</code> file.</p>

  <h3 id="dodeploystaticcontent"><code class="highlighter-rouge">DO_DEPLOY_STATIC_CONTENT</code></h3>

  <ul>
    <li><strong>Default</strong>—<code class="highlighter-rouge">disabled</code></li>
    <li><strong>Version</strong>—Available in all versions</li>
  </ul>

  <p>You can forcefully enable or disable the deployment of static content during the deploy phase with this variable. If you already completed static content deployment in the build phase, and this variable is enabled, it is overridden to ensure static content deployment occurs only once. We strongly recommend always deploying static content during the build phase.</p>

  <h3 id="magentocloudmode"><code class="highlighter-rouge">MAGENTO_CLOUD_MODE</code></h3>

  <ul>
    <li><strong>Default</strong>—<code class="highlighter-rouge">enterprise</code></li>
    <li><strong>Version</strong>—Available in all versions</li>
  </ul>

  <p>We manage the values and setting of this variable. It identifies the type of environment: Integration, Staging, or Production. The <code class="highlighter-rouge">enterprise</code> value indicates a Staging and Production environment and sets the <code class="highlighter-rouge">STATIC_CONTENT_THREADS</code> to <code class="highlighter-rouge">3</code>; otherwise, sets it to <code class="highlighter-rouge">1</code> for Integration. This is highly important for Pro Production environments, which have a three-node, high-availability architecture with a very different technology stack.</p>

  <h3 id="mysqluseslaveconnection"><code class="highlighter-rouge">MYSQL_USE_SLAVE_CONNECTION</code></h3>

  <ul>
    <li><strong>Default</strong>—<code class="highlighter-rouge">false</code></li>
    <li><strong>Version</strong>—Magento 2.1.4 and later</li>
  </ul>

  <p>Magento can read multiple databases asynchronously. Set to <code class="highlighter-rouge">true</code> to automatically use a <em>read-only</em> connection to the database to receive read-only traffic on a non-master node. This improves performance through load balancing because only one node needs to handle read-write traffic. Set to <code class="highlighter-rouge">false</code> to remove any existing read-only connection array from the <code class="highlighter-rouge">env.php</code> file.</p>

  <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">stage</span><span class="pi">:</span>
    <span class="na">deploy</span><span class="pi">:</span>
        <span class="na">MYSQL_USE_SLAVE_CONNECTION</span><span class="pi">:</span> <span class="no">true</span>
</code></pre></div>  </div>

  <h3 id="queueconfiguration"><code class="highlighter-rouge">QUEUE_CONFIGURATION</code></h3>

  <ul>
    <li><strong>Default</strong>—<em>Not set</em></li>
    <li><strong>Version</strong>—Magento 2.1.4 and later</li>
  </ul>

  <p>Use this environment variable to retain customized AMQP service settings between deployments. For example, if you prefer using an existing message queue service, like RabbitMQ, instead of relying on Magento Commerce (Cloud) to create it for you, use the <code class="highlighter-rouge">QUEUE_CONFIGURATION</code> environment variable to connect it to your site:</p>

  <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">stage</span><span class="pi">:</span>
  <span class="na">deploy</span><span class="pi">:</span>
    <span class="na">QUEUE_CONFIGURATION</span><span class="pi">:</span>
      <span class="na">amqp</span><span class="pi">:</span>
        <span class="na">host</span><span class="pi">:</span> <span class="s">test.host</span>
        <span class="na">port</span><span class="pi">:</span> <span class="s">1234</span>
      <span class="na">amqp2</span><span class="pi">:</span>
        <span class="na">host</span><span class="pi">:</span> <span class="s">test.host2</span>
        <span class="na">port</span><span class="pi">:</span> <span class="s">12345</span>
      <span class="na">mq</span><span class="pi">:</span>
        <span class="na">host</span><span class="pi">:</span> <span class="s">mq.host</span>
        <span class="na">port</span><span class="pi">:</span> <span class="s">1234</span>
</code></pre></div>  </div>

  <p>By default, the deployment process overwrites all settings in the <code class="highlighter-rouge">env.php</code> file.</p>

  <h3 id="redisuseslaveconnection"><code class="highlighter-rouge">REDIS_USE_SLAVE_CONNECTION</code></h3>

  <ul>
    <li><strong>Default</strong>—<code class="highlighter-rouge">false</code></li>
    <li><strong>Version</strong>—Magento 2.1.4 and later</li>
  </ul>

  <p>Magento can read multiple Redis instances asynchronously. Set to <code class="highlighter-rouge">true</code> to automatically use a <em>read-only</em> connection to a Redis instance to receive read-only traffic on a non-master node. This improves performance through load balancing because only one node needs to handle read-write traffic. Set to <code class="highlighter-rouge">false</code> to remove any existing read-only connection array from the <code class="highlighter-rouge">env.php</code> file.</p>

  <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">stage</span><span class="pi">:</span>
  <span class="na">deploy</span><span class="pi">:</span>
    <span class="na">REDIS_USE_SLAVE_CONNECTION</span><span class="pi">:</span> <span class="no">true</span>
</code></pre></div>  </div>

  <p>You must have a Redis service configured in the <code class="highlighter-rouge">.magento.app.yaml</code> file and in the <code class="highlighter-rouge">services.yaml</code> file.</p>

  <p>The read-only connection is not available for use in the Integration environment or if you use the <a href="#cache_configuration"><code class="highlighter-rouge">CACHE_CONFIGURATION</code> variable</a>.</p>

  <h3 id="scdcompressionlevel"><code class="highlighter-rouge">SCD_COMPRESSION_LEVEL</code></h3>

  <ul>
    <li><strong>Default</strong>—<code class="highlighter-rouge">6</code></li>
    <li><strong>Version</strong>—Magento 2.1.4 and later</li>
  </ul>

  <p>Specifies which <a href="https://www.gnu.org/software/gzip">gzip</a>{target=”_blank} compression level (<code class="highlighter-rouge">0</code> to <code class="highlighter-rouge">9</code>) to use when compressing static content; <code class="highlighter-rouge">0</code> disables compression.</p>

  <h3 id="scdstrategy"><code class="highlighter-rouge">SCD_STRATEGY</code></h3>

  <ul>
    <li><strong>Default</strong>—<code class="highlighter-rouge">standard</code></li>
    <li><strong>Version</strong>—Magento 2.2.0 and later</li>
  </ul>

  <p>Allows you to customize the <a href="http://devdocs.magento.com/guides/v2.2/config-guide/cli/config-cli-subcommands-static-deploy-strategies.html">deployment strategy</a> for static content. See <a href="http://devdocs.magento.com/guides/v2.2/config-guide/cli/config-cli-subcommands-static-view.html">Deploy static view files</a>.</p>

  <p>Use these options <em>only</em> if you have more than one locale:</p>

  <ul>
    <li><code class="highlighter-rouge">standard</code>—deploys all static view files for all packages.</li>
    <li><code class="highlighter-rouge">quick</code>—minimizes deployment time. This is the default command option if not specified.</li>
    <li><code class="highlighter-rouge">compact</code>—conserves disk space on the server. If you use <code class="highlighter-rouge">compact</code>, it overrides the value for <code class="highlighter-rouge">scd_threads</code> with a value of <code class="highlighter-rouge">1</code>. This strategy does not work with multi-threads.</li>
  </ul>

  <h3 id="searchconfiguration"><code class="highlighter-rouge">SEARCH_CONFIGURATION</code></h3>

  <ul>
    <li><strong>Default</strong>—<em>Not set</em></li>
    <li><strong>Version</strong>—Magento 2.1.4 and later</li>
  </ul>

  <p>Use this environment variable to retain customized search service settings between deployments. For example:</p>

  <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">stage</span><span class="pi">:</span>
  <span class="na">deploy</span><span class="pi">:</span>
   <span class="na">SEARCH_CONFIGURATION</span><span class="pi">:</span>
     <span class="na">engine</span><span class="pi">:</span> <span class="s">elasticsearch</span>
     <span class="na">elasticsearch_server_hostname</span><span class="pi">:</span> <span class="s">hostname</span>
     <span class="na">elasticsearch_server_port</span><span class="pi">:</span> <span class="s1">'</span><span class="s">123456'</span>
     <span class="na">elasticsearch_index_prefix</span><span class="pi">:</span> <span class="s">magento</span>
     <span class="na">elasticsearch_server_timeout</span><span class="pi">:</span> <span class="s1">'</span><span class="s">15'</span>
</code></pre></div>  </div>

  <p>By default, the deployment process overwrites all settings in the <code class="highlighter-rouge">env.php</code> file.</p>

  <h3 id="sessionconfiguration"><code class="highlighter-rouge">SESSION_CONFIGURATION</code></h3>

  <ul>
    <li><strong>Default</strong>—<em>Not set</em></li>
    <li><strong>Version</strong>—Magento 2.1.4 and later</li>
  </ul>

  <p>Use to configure Redis session storage. You must specify the <code class="highlighter-rouge">save</code>, <code class="highlighter-rouge">redis</code>, <code class="highlighter-rouge">host</code>, <code class="highlighter-rouge">port</code>, and <code class="highlighter-rouge">database</code> options for the session storage variable. For example:</p>

  <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">stage</span><span class="pi">:</span> 
  <span class="na">deploy</span><span class="pi">:</span>
    <span class="na">SESSION_CONFIGURATION</span><span class="pi">:</span> 
      <span class="na">redis</span><span class="pi">:</span> 
        <span class="na">bot_first_lifetime</span><span class="pi">:</span> <span class="s">100</span>
        <span class="na">bot_lifetime</span><span class="pi">:</span> <span class="s">10001</span>
        <span class="na">database</span><span class="pi">:</span> <span class="s">0</span>
        <span class="na">disable_locking</span><span class="pi">:</span> <span class="s">1</span>
        <span class="na">host</span><span class="pi">:</span> <span class="s">redis.internal</span>
        <span class="na">max_concurrency</span><span class="pi">:</span> <span class="s">10</span>
        <span class="na">max_lifetime</span><span class="pi">:</span> <span class="s">10001</span>
        <span class="na">min_lifetime</span><span class="pi">:</span> <span class="s">100</span>
        <span class="na">port</span><span class="pi">:</span> <span class="s">6379</span>
      <span class="na">save</span><span class="pi">:</span> <span class="s">redis</span>
</code></pre></div>  </div>

  <p>By default, the deployment process overwrites all settings in the <code class="highlighter-rouge">env.php</code> file.</p>

  <h3 id="skipscd"><code class="highlighter-rouge">SKIP_SCD</code></h3>

  <ul>
    <li><strong>Default</strong>— <em>Not set</em></li>
    <li><strong>Version</strong>—Magento 2.1.4 and later</li>
  </ul>

  <p>Skips static content deployment during the deploy phase.</p>

  <p>We recommend using this option, because running static content deployment during the deployment phase can greatly increase deployment times and downtime for your live site.</p>

  <h3 id="staticcontentexcludethemes"><code class="highlighter-rouge">STATIC_CONTENT_EXCLUDE_THEMES</code></h3>

  <ul>
    <li><strong>Default</strong>—<em>Not set</em></li>
    <li><strong>Version</strong>—Available in all versions</li>
  </ul>

  <p>Themes can include numerous files. Set this variable to true if you want to skip copying over theme files during deployment. For example, the Luma theme is included with Magento Commerce (Cloud). You may not need to constantly deploy this theme with your code updates and deployments. To exclude the <code class="highlighter-rouge">Magento/luma</code> theme:</p>

  <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">stage</span><span class="pi">:</span>
  <span class="na">deploy</span><span class="pi">:</span>
    <span class="na">SCD_EXCLUDE_THEMES</span><span class="pi">:</span> <span class="s">Magento/luma</span> 
</code></pre></div>  </div>

  <h3 id="staticcontentsymlink"><code class="highlighter-rouge">STATIC_CONTENT_SYMLINK</code></h3>

  <ul>
    <li><strong>Default</strong>—<code class="highlighter-rouge">enabled</code></li>
    <li><strong>Version</strong>—Available in all versions</li>
  </ul>

  <p>Generates symlinks for static content, unless you disable it using this environment variable. This setting is vital in the Pro Production environment for the three node cluster. When this variable is not set (disabled), it must copy every file during the deployment, which increases deployment time. Setting <code class="highlighter-rouge">SCD_ON_DEMAND</code> to <code class="highlighter-rouge">true</code> disables this variable.</p>

  <h3 id="staticcontentthreads"><code class="highlighter-rouge">STATIC_CONTENT_THREADS</code></h3>

  <ul>
    <li><strong>Default</strong>:
      <ul>
        <li><code class="highlighter-rouge">1</code>—Starter environments and Pro Integration environments</li>
        <li><code class="highlighter-rouge">3</code>—Pro Staging and Production environments</li>
      </ul>
    </li>
    <li><strong>Version</strong>—Available in all versions</li>
  </ul>

  <p>Sets the number of threads for processing and deploying static content files. The higher amount of threads increasing the amount of files processed during the deployment. The lower the number of threads, the slower static files are processed increasing deployment time.</p>

  <p>For Starter plan environments and Pro Integration environments, the threads value is <code class="highlighter-rouge">1</code>. This amount is fine for these environments. For Pro Staging and Production environments, the default threads is <code class="highlighter-rouge">3</code> to increase the speed of processing static content, especially for Production with three nodes and GlusterFS.</p>

  <p>To further reduce deployment time, we recommend using <a href="/guides/v2.2/cloud/live/sens-data-over.html">Configuration Management</a> with the <code class="highlighter-rouge">scd-dump</code>command to move static deployment into the build phase.</p>

  <h3 id="updateurls"><code class="highlighter-rouge">UPDATE_URLS</code></h3>

  <ul>
    <li><strong>Default</strong>—<code class="highlighter-rouge">enabled</code></li>
    <li><strong>Version</strong>—Magento 2.1.2 and later</li>
  </ul>

  <p>On deployment, replace Magento base URLs in the database with project URLs. This is useful for local development, where base URLs are set up for your local environment. When you deploy to a Cloud environment, we change the URLs so you can access your storefront and Magento Admin using project URLs.</p>

  <p>You should set this variable to <code class="highlighter-rouge">disabled</code> <em>only</em> in Staging or Production environments, where the base URLs cannot change. For Pro, we already set this to <code class="highlighter-rouge">disabled</code> for you.</p>

  <h3 id="verbosecommands"><code class="highlighter-rouge">VERBOSE_COMMANDS</code></h3>

  <ul>
    <li><strong>Default</strong>—<code class="highlighter-rouge">disabled</code></li>
    <li><strong>Version</strong>—Magento 2.1.4 and later</li>
  </ul>

  <p>Enables or disables the <a href="https://symfony.com/doc/current/console/verbosity.html" target="\_blank">Symfony</a> debug verbosity level for your logs. Be aware, if you enable this verbosity, the logs will be deeply detailed.</p>
</div>

		</div>
		<!-- /.content-wrap -->

		<div class="page-info">

  

  
    
      <div class="github-link">
        <a class="improve-page" href="https://github.com/magento/devdocs/tree/develop/guides/v2.2/cloud/env/variables-deploy.md" target="_blank">
          Edit this page on GitHub
        </a>
      </div>
    
  

  
    
      <div class="new-issue">
        <a href="https://github.com/magento/devdocs/issues/new?title=&body=Feedback on page: /guides/v2.2/cloud/env/variables-deploy.html" target="_blank">Give us feedback</a>
      </div>
    
  
  
</div>


	</section>
	<!-- /.content -->

</div> <!-- /.container -->


	</div>
	<!-- /.main-container -->

</div>
<!-- /#gl-wrapper -->

<!-- footer-->
<div id="footer">
  <div class="container">

    <div class="copyright-links">
      <ul class="nav">
        <li><a href="/guides/v2.2/contributor-guide/contributing_docs.html">Become a Contributor</a>
        <li><a href="https://magento.github.io/glossary/index.html?audience=developer">Glossary</a></li>
        <li><a href="http://magento.com/legal/terms/privacy/">Privacy Policy</a></li>
        <li><a href="http://magento.com/legal/terms/">Terms of Service</a></li>
        <li><a href="http://magento.com/legal/licensing/">License/Trademark FAQ</a></li>
        <li><a href="/guides/v2.2/release-notes/bk-release-notes.html">Release Notes</a></li>
        <li><a href="/magento-third-party.html">Third-Party Licenses</a></li>
      </ul>
    </div>

		<div class="copyright-date">&copy; 2018 Magento. All rights reserved.</div>

  </div>
</div>
<!-- / #footer -->

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="/common/js/app.min.js"></script>

<!-- Glossary integration -->
<script src="https://cdn.jsdelivr.net/jquery.webui-popover/1.2.1/jquery.webui-popover.min.js"></script>
<script src="/common/js/glossary.tooltip.min.js"></script>
<script>
    $(document).ready(function(){
      magento.glossary.init("https://magento.github.io/glossary/data/content-glossary.xml",function(term){return term.types.includes("glossary");},magento.glossary.tooltip.init);
      });
</script>

<script type="text/javascript">
    (function() {
        var didInit = false;
        function initMunchkin() {
            if(didInit === false) {
                didInit = true;
                Munchkin.init('585-GGD-959', {cookieAnon: false});
            }
        }
        var s = document.createElement('script');
        s.type = 'text/javascript';
        s.async = true;
        s.src = '//munchkin.marketo.net/munchkin.js';
        s.onreadystatechange = function() {
            if (this.readyState == 'complete' || this.readyState == 'loaded') {
                initMunchkin();
            }
        };
        s.onload = initMunchkin;
        document.getElementsByTagName('head')[0].appendChild(s);
    })();
</script>



<!--Google Analytics-->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-66243208-1', 'auto');
    ga('send', 'pageview');
</script>


</body>
</html>

